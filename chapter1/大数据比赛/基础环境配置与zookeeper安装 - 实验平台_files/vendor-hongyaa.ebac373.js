webpackJsonp([39],{0:function(e,t,n){"use strict";t.a=function(e,t,n,i,r,o,s,a){var l=typeof(e=e||{}).default;"object"!==l&&"function"!==l||(e=e.default);var c,u="function"==typeof e?e.options:e;t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0);i&&(u.functional=!0);o&&(u._scopeId=o);s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):r&&(c=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r);if(c)if(u.functional){u._injectStyles=c;var h=u.render;u.render=function(e,t){return c.call(t),h(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:u}}},1226:function(e,t,n){n(543),n(501),e.exports=n(319)},319:function(e,t,n){var i;"undefined"!=typeof self&&self,i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t,n){"use strict";var i=n(8),r=n(36),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function a(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:r,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return a(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]=n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return t},extend:function(e,t,n){return c(t,function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){var i;i=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),i=/MSIE \d/.test(e),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),s=i||r||o,a=s&&(i?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),h=/Opera\//.test(e),d=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),b=/\bCrOS\b/.test(e),_=/win/i.test(t),x=h&&e.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(h=!1,l=!0);var w=y&&(c||h&&(null==x||x<12.11)),S=n||s&&a>=9;function C(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var k,E=function(e,t){var n=e.className,i=C(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}};function M(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function A(e,t){return M(e).appendChild(t)}function T(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function L(e,t,n,i){var r=T(e,t,n,i);return r.setAttribute("role","presentation"),r}function D(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function I(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function P(e,t){var n=e.className;C(t).test(n)||(e.className+=(n?" ":"")+t)}function R(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!C(n[i]).test(t)&&(t+=" "+n[i]);return t}k=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(e){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var N=function(e){e.select()};function O(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function F(e,t,n){for(var i in t||(t={}),e)!e.hasOwnProperty(i)||!1===n&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function j(e,t,n,i,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=i||0,s=r||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}}m?N=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(N=function(e){try{e.select()}catch(e){}});var B=function(){this.id=null};function X(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}B.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var z=30,H={toString:function(){return"CodeMirror.Pass"}},U={scroll:!1},K={origin:"*mouse"},W={origin:"+move"};function G(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("\t",i);-1==o&&(o=e.length);var s=o-i;if(o==e.length||r+s>=t)return i+Math.min(s,t-r);if(r+=o-i,i=o+1,(r+=n-r%n)>=t)return i}}var Y=[""];function q(e){for(;Y.length<=e;)Y.push(V(Y)+" ");return Y[e]}function V(e){return e[e.length-1]}function Q(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function Z(){}function $(e,t){var n;return Object.create?n=Object.create(e):(Z.prototype=e,n=new Z),t&&F(t,n),n}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||J.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(e){return e.charCodeAt(0)>=768&&ie.test(e)}function oe(e,t,n){for(;(n<0?t>0:t<e.length)&&re(e.charAt(t));)t+=n;return t}function se(e,t,n){for(var i=t>n?-1:1;;){if(t==n)return t;var r=(t+n)/2,o=i<0?Math.ceil(r):Math.floor(r);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+i}}function ae(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function le(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),i.push(o),++r}),i}function ce(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function ue(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function he(e){if(null==e.parent)return null;for(var t=e.parent,n=X(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function de(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(t<o){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a}return n+s}function fe(e,t){return t>=e.first&&t<e.first+e.size}function pe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function me(e,t,n){if(void 0===n&&(n=null),!(this instanceof me))return new me(e,t,n);this.line=e,this.ch=t,this.sticky=n}function ge(e,t){return e.line-t.line||e.ch-t.ch}function ve(e,t){return e.sticky==t.sticky&&0==ge(e,t)}function ye(e){return me(e.line,e.ch)}function be(e,t){return ge(e,t)<0?t:e}function _e(e,t){return ge(e,t)<0?e:t}function xe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function we(e,t){if(t.line<e.first)return me(e.first,0);var n=e.first+e.size-1;return t.line>n?me(n,ae(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?me(e.line,t):n<0?me(e.line,0):e}(t,ae(e,t.line).text.length)}function Se(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=we(e,t[i]);return n}var Ce=!1,ke=!1;function Ee(e,t,n){this.marker=e,this.from=t,this.to=n}function Me(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function Ae(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function Te(e,t){if(t.full)return null;var n=fe(e,t.from.line)&&ae(e,t.from.line).markedSpans,i=fe(e,t.to.line)&&ae(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,s=0==ge(t.from,t.to),a=function(e,t,n){var i;if(e)for(var r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new Ee(s,o.from,a?null:o.to))}}return i}(n,r,s),l=function(e,t,n){var i;if(e)for(var r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new Ee(s,a?null:o.from-t,null==o.to?null:o.to-t))}}return i}(i,o,s),c=1==t.text.length,u=V(t.text).length+(c?r:0);if(a)for(var h=0;h<a.length;++h){var d=a[h];if(null==d.to){var f=Me(l,d.marker);f?c&&(d.to=null==f.to?null:f.to+u):d.to=r}}if(l)for(var p=0;p<l.length;++p){var m=l[p];null!=m.to&&(m.to+=u),null==m.from?Me(a,m.marker)||(m.from=u,c&&(a||(a=[])).push(m)):(m.from+=u,c&&(a||(a=[])).push(m))}a&&(a=Le(a)),l&&l!=a&&(l=Le(l));var g=[a];if(!c){var v,y=t.text.length-2;if(y>0&&a)for(var b=0;b<a.length;++b)null==a[b].to&&(v||(v=[])).push(new Ee(a[b].marker,null,null));for(var _=0;_<y;++_)g.push(v);g.push(l)}return g}function Le(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function De(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ie(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Pe(e){return e.inclusiveLeft?-1:0}function Re(e){return e.inclusiveRight?1:0}function Ne(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=ge(i.from,r.from)||Pe(e)-Pe(t);return o?-o:ge(i.to,r.to)||Re(e)-Re(t)||t.id-e.id}function Oe(e,t){var n,i=ke&&e.markedSpans;if(i)for(var r=void 0,o=0;o<i.length;++o)(r=i[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!n||Ne(n,r.marker)<0)&&(n=r.marker);return n}function Fe(e){return Oe(e,!0)}function je(e){return Oe(e,!1)}function Be(e,t){var n,i=ke&&e.markedSpans;if(i)for(var r=0;r<i.length;++r){var o=i[r];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Ne(n,o.marker)<0)&&(n=o.marker)}return n}function Xe(e,t,n,i,r){var o=ae(e,t),s=ke&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=ge(c.from,n)||Pe(l.marker)-Pe(r),h=ge(c.to,i)||Re(l.marker)-Re(r);if(!(u>=0&&h<=0||u<=0&&h>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ge(c.to,n)>=0:ge(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ge(c.from,i)<=0:ge(c.from,i)<0)))return!0}}}function ze(e){for(var t;t=Fe(e);)e=t.find(-1,!0).line;return e}function He(e,t){var n=ae(e,t),i=ze(n);return n==i?t:he(i)}function Ue(e,t){if(t>e.lastLine())return t;var n,i=ae(e,t);if(!Ke(e,i))return t;for(;n=je(i);)i=n.find(1,!0).line;return he(i)+1}function Ke(e,t){var n=ke&&t.markedSpans;if(n)for(var i=void 0,r=0;r<n.length;++r)if((i=n[r]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&We(e,t,i))return!0}}function We(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return We(e,i.line,Me(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r=void 0,o=0;o<t.markedSpans.length;++o)if((r=t.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&We(e,t,r))return!0}function Ge(e){for(var t=0,n=(e=ze(e)).parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;t+=a.height}return t}function Ye(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=Fe(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=je(i);){var o=t.find(0,!0);n-=i.text.length-o.from.ch,n+=(i=o.to.line).text.length-o.to.ch}return n}function qe(e){var t=e.display,n=e.doc;t.maxLine=ae(n,n.first),t.maxLineLength=Ye(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=Ye(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}var Ve=null;function Qe(e,t,n){var i;Ve=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;o.to==t&&(o.from!=o.to&&"before"==n?i=r:Ve=r),o.from==t&&(o.from!=o.to&&"before"!=n?i=r:Ve=r)}return null!=i?i:Ve}var Ze=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,n=/[LRr]/,i=/[Lb1n]/,r=/[1n]/;function o(e,t,n){this.level=e,this.from=t,this.to=n}return function(s,a){var l="ltr"==a?"L":"R";if(0==s.length||"ltr"==a&&!e.test(s))return!1;for(var c,u=s.length,h=[],d=0;d<u;++d)h.push((c=s.charCodeAt(d))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(c):1424<=c&&c<=1524?"R":1536<=c&&c<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(c-1536):1774<=c&&c<=2220?"r":8192<=c&&c<=8203?"w":8204==c?"b":"L");for(var f=0,p=l;f<u;++f){var m=h[f];"m"==m?h[f]=p:p=m}for(var g=0,v=l;g<u;++g){var y=h[g];"1"==y&&"r"==v?h[g]="n":n.test(y)&&(v=y,"r"==y&&(h[g]="R"))}for(var b=1,_=h[0];b<u-1;++b){var x=h[b];"+"==x&&"1"==_&&"1"==h[b+1]?h[b]="1":","!=x||_!=h[b+1]||"1"!=_&&"n"!=_||(h[b]=_),_=x}for(var w=0;w<u;++w){var S=h[w];if(","==S)h[w]="N";else if("%"==S){var C=void 0;for(C=w+1;C<u&&"%"==h[C];++C);for(var k=w&&"!"==h[w-1]||C<u&&"1"==h[C]?"1":"N",E=w;E<C;++E)h[E]=k;w=C-1}}for(var M=0,A=l;M<u;++M){var T=h[M];"L"==A&&"1"==T?h[M]="L":n.test(T)&&(A=T)}for(var L=0;L<u;++L)if(t.test(h[L])){var D=void 0;for(D=L+1;D<u&&t.test(h[D]);++D);for(var I="L"==(L?h[L-1]:l),P=I==("L"==(D<u?h[D]:l))?I?"L":"R":l,R=L;R<D;++R)h[R]=P;L=D-1}for(var N,O=[],F=0;F<u;)if(i.test(h[F])){var j=F;for(++F;F<u&&i.test(h[F]);++F);O.push(new o(0,j,F))}else{var B=F,X=O.length;for(++F;F<u&&"L"!=h[F];++F);for(var z=B;z<F;)if(r.test(h[z])){B<z&&O.splice(X,0,new o(1,B,z));var H=z;for(++z;z<F&&r.test(h[z]);++z);O.splice(X,0,new o(2,H,z)),B=z}else++z;B<F&&O.splice(X,0,new o(1,B,F))}return"ltr"==a&&(1==O[0].level&&(N=s.match(/^\s+/))&&(O[0].from=N[0].length,O.unshift(new o(0,0,N[0].length))),1==V(O).level&&(N=s.match(/\s+$/))&&(V(O).to-=N[0].length,O.push(new o(0,u-N[0].length,u)))),"rtl"==a?O.reverse():O}}();function $e(e,t){var n=e.order;return null==n&&(n=e.order=Ze(e.text,t)),n}var Je=[],et=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={});i[t]=(i[t]||Je).concat(n)}};function tt(e,t){return e._handlers&&e._handlers[t]||Je}function nt(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers,r=i&&i[t];if(r){var o=X(r,n);o>-1&&(i[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function it(e,t){var n=tt(e,t);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function rt(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),it(e,n||t.type,e,t),ut(t)||t.codemirrorIgnore}function ot(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==X(n,t[i])&&n.push(t[i])}function st(e,t){return tt(e,t).length>0}function at(e){e.prototype.on=function(e,t){et(this,e,t)},e.prototype.off=function(e,t){nt(this,e,t)}}function lt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ct(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ut(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ht(e){lt(e),ct(e)}function dt(e){return e.target||e.srcElement}function ft(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var pt,mt,gt=function(){if(s&&a<9)return!1;var e=T("div");return"draggable"in e||"dragDrop"in e}();function vt(e){if(null==pt){var t=T("span","​");A(e,T("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(pt=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&a<8))}var n=pt?T("span","​"):T("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function yt(e){if(null!=mt)return mt;var t=A(e,document.createTextNode("AخA")),n=k(t,0,1).getBoundingClientRect(),i=k(t,1,2).getBoundingClientRect();return M(e),!(!n||n.left==n.right)&&(mt=i.right-n.right<3)}var bt,_t=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;t<=i;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},xt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},wt="oncopy"in(bt=T("div"))||(bt.setAttribute("oncopy","return;"),"function"==typeof bt.oncopy),St=null,Ct={},kt={};function Et(e){if("string"==typeof e&&kt.hasOwnProperty(e))e=kt[e];else if(e&&"string"==typeof e.name&&kt.hasOwnProperty(e.name)){var t=kt[e.name];"string"==typeof t&&(t={name:t}),(e=$(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Et("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Et("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Mt(e,t){t=Et(t);var n=Ct[t.name];if(!n)return Mt(e,"text/plain");var i=n(e,t);if(At.hasOwnProperty(t.name)){var r=At[t.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)i[s]=t.modeProps[s];return i}var At={};function Tt(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function Lt(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Dt(e,t,n){return!e.startState||e.startState(t,n)}var It=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};It.prototype.eol=function(){return this.pos>=this.string.length},It.prototype.sol=function(){return this.pos==this.lineStart},It.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},It.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},It.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},It.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},It.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},It.prototype.skipToEnd=function(){this.pos=this.string.length},It.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},It.prototype.backUp=function(e){this.pos-=e},It.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=j(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?j(this.string,this.lineStart,this.tabSize):0)},It.prototype.indentation=function(){return j(this.string,null,this.tabSize)-(this.lineStart?j(this.string,this.lineStart,this.tabSize):0)},It.prototype.match=function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},It.prototype.current=function(){return this.string.slice(this.start,this.pos)},It.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},It.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},It.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Pt=function(e,t){this.state=e,this.lookAhead=t},Rt=function(e,t,n,i){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};function Nt(e,t,n,i){var r=[e.state.modeGen],o={};Kt(e,t.text,e.doc.mode,n,function(e,t){return r.push(e,t)},o,i);for(var s=n.state,a=function(i){n.baseTokens=r;var a=e.state.overlays[i],l=1,c=0;n.state=!0,Kt(e,t.text,a.mode,n,function(e,t){for(var n=l;c<e;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,c=Math.min(e,i)}if(t)if(a.opaque)r.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)a(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Ot(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Ft(e,he(t)),r=t.text.length>e.options.maxHighlightLength&&Tt(e.doc.mode,i.state),o=Nt(e,t,i);r&&(i.state=r),t.stateAfter=i.save(!r),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Ft(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return new Rt(i,!0,t);var o=function(e,t,n){for(var i,r,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=ae(o,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof Pt?c.lookAhead:0)<=o.modeFrontier))return a;var u=j(l.text,null,e.options.tabSize);(null==r||i>u)&&(r=a-1,i=u)}return r}(e,t,n),s=o>i.first&&ae(i,o-1).stateAfter,a=s?Rt.fromSaved(i,s,o):new Rt(i,Dt(i.mode),o);return i.iter(o,t,function(n){jt(e,n.text,a);var i=a.line;n.stateAfter=i==t-1||i%5==0||i>=r.viewFrom&&i<r.viewTo?a.save():null,a.nextLine()}),n&&(i.modeFrontier=a.line),a}function jt(e,t,n,i){var r=e.doc.mode,o=new It(t,e.options.tabSize,n);for(o.start=o.pos=i||0,""==t&&Bt(r,n.state);!o.eol();)Xt(r,o,n.state),o.start=o.pos}function Bt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Lt(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Xt(e,t,n,i){for(var r=0;r<10;r++){i&&(i[0]=Lt(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}Rt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Rt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Rt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Rt.fromSaved=function(e,t,n){return t instanceof Pt?new Rt(e,Tt(e.mode,t.state),n,t.lookAhead):new Rt(e,Tt(e.mode,t),n)},Rt.prototype.save=function(e){var t=!1!==e?Tt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Pt(t,this.maxLookAhead):t};var zt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Ht(e,t,n,i){var r,o,s=e.doc,a=s.mode,l=ae(s,(t=we(s,t)).line),c=Ft(e,t.line,n),u=new It(l.text,e.options.tabSize,c);for(i&&(o=[]);(i||u.pos<t.ch)&&!u.eol();)u.start=u.pos,r=Xt(a,u,c.state),i&&o.push(new zt(u,r,Tt(s.mode,c.state)));return i?o:new zt(u,r,c.state)}function Ut(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Kt(e,t,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,h=new It(t,e.options.tabSize,i),d=e.options.addModeClass&&[null];for(""==t&&Ut(Bt(n,i.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(a=!1,s&&jt(e,t,i,h.pos),h.pos=t.length,l=null):l=Ut(Xt(n,h,i.state,d),o),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<h.start;)r(c=Math.min(h.start,c+5e3),u);u=l}h.start=h.pos}for(;c<h.pos;){var p=Math.min(h.pos,c+5e3);r(p,u),c=p}}var Wt=function(e,t,n){this.text=e,Ie(this,t),this.height=n?n(this):1};function Gt(e){e.parent=null,De(e)}Wt.prototype.lineNo=function(){return he(this)},at(Wt);var Yt={},qt={};function Vt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?qt:Yt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Qt(e,t){var n=L("span",null,null,l?"padding-right: .1px":null),i={pre:L("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(s||l)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o=r?t.rest[r-1]:t.line,a=void 0;i.pos=0,i.addToken=$t,yt(e.display.measure)&&(a=$e(o,e.doc.direction))&&(i.addToken=Jt(i.addToken,a)),i.map=[],tn(o,i,Ot(e,o,t!=e.display.externalMeasured&&he(o))),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=R(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=R(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(vt(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var c=i.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return it(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=R(i.pre.className,i.textClass||"")),i}function Zt(e){var t=T("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function $t(e,t,n,i,r,o,l){if(t){var c,u=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,i="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" "),i+=o,n=" "==o}return i}(t,e.trailingSpace):t,h=e.cm.state.specialChars,d=!1;if(h.test(t)){c=document.createDocumentFragment();for(var f=0;;){h.lastIndex=f;var p=h.exec(t),m=p?p.index-f:t.length-f;if(m){var g=document.createTextNode(u.slice(f,f+m));s&&a<9?c.appendChild(T("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;f+=m+1;var v=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=c.appendChild(T("span",q(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?((v=c.appendChild(T("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),s&&a<9?c.appendChild(T("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),s&&a<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||i||r||d||l){var _=n||"";i&&(_+=i),r&&(_+=r);var x=T("span",[c],_,l);return o&&(x.title=o),e.content.appendChild(x)}e.content.appendChild(c)}}function Jt(e,t){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var h=void 0,d=0;d<t.length&&!((h=t[d]).to>c&&h.from<=c);d++);if(h.to>=u)return e(n,i,r,o,s,a,l);e(n,i.slice(0,h.to-c),r,o,null,a,l),o=null,i=i.slice(h.to-c),c=h.to}}}function en(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function tn(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var s,a,l,c,u,h,d,f=r.length,p=0,m=1,g="",v=0;;){if(v==p){l=c=u=h=a="",d=null,v=1/0;for(var y=[],b=void 0,_=0;_<i.length;++_){var x=i[_],w=x.marker;"bookmark"==w.type&&x.from==p&&w.widgetNode?y.push(w):x.from<=p&&(null==x.to||x.to>p||w.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&v>x.to&&(v=x.to,c=""),w.className&&(l+=" "+w.className),w.css&&(a=(a?a+";":"")+w.css),w.startStyle&&x.from==p&&(u+=" "+w.startStyle),w.endStyle&&x.to==v&&(b||(b=[])).push(w.endStyle,x.to),w.title&&!h&&(h=w.title),w.collapsed&&(!d||Ne(d.marker,w)<0)&&(d=x)):x.from>p&&v>x.from&&(v=x.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(c+=" "+b[S]);if(!d||d.from==p)for(var C=0;C<y.length;++C)en(t,0,y[C]);if(d&&(d.from||0)==p){if(en(t,(null==d.to?f+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(p>=f)break;for(var k=Math.min(f,v);;){if(g){var E=p+g.length;if(!d){var M=E>k?g.slice(0,k-p):g;t.addToken(t,M,s?s+l:l,u,p+M.length==v?c:"",h,a)}if(E>=k){g=g.slice(k-p),p=k;break}p=E,u=""}g=r.slice(o,o=n[m++]),s=Vt(n[m++],t.cm.options)}}else for(var A=1;A<n.length;A+=2)t.addToken(t,r.slice(o,o=n[A]),Vt(n[A+1],t.cm.options))}function nn(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=je(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?he(V(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ke(e,t)}function rn(e,t,n){for(var i,r=[],o=t;o<n;o=i){var s=new nn(e.doc,ae(e.doc,o),o);i=o+s.size,r.push(s)}return r}var on=null,sn=null;function an(e,t){var n=tt(e,t);if(n.length){var i,r=Array.prototype.slice.call(arguments,2);on?i=on.delayedCallbacks:sn?i=sn:(i=sn=[],setTimeout(ln,0));for(var o=function(e){i.push(function(){return n[e].apply(null,r)})},s=0;s<n.length;++s)o(s)}}function ln(){var e=sn;sn=null;for(var t=0;t<e.length;++t)e[t]()}function cn(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?dn(e,t):"gutter"==o?pn(e,t,n,i):"class"==o?fn(e,t):"widget"==o&&mn(e,t,i)}t.changes=null}function un(e){return e.node==e.text&&(e.node=T("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function hn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Qt(e,t)}function dn(e,t){var n=t.text.className,i=hn(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,fn(e,t)):n&&(t.text.className=n)}function fn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var i=un(t);t.background=i.insertBefore(T("div",null,n),i.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?un(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function pn(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=un(t);t.gutterBackground=T("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=un(t),a=t.gutter=T("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(T("div",pe(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.options.gutters.length;++l){var c=e.options.gutters[l],u=o.hasOwnProperty(c)&&o[c];u&&a.appendChild(T("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function mn(e,t,n){t.alignable&&(t.alignable=null);for(var i=t.node.firstChild,r=void 0;i;i=r)r=i.nextSibling,"CodeMirror-linewidget"==i.className&&t.node.removeChild(i);vn(e,t,n)}function gn(e,t,n,i){var r=hn(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),fn(e,t),pn(e,t,n,i),vn(e,t,i),t.node}function vn(e,t,n){if(yn(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)yn(e,t.rest[i],t,n,!1)}function yn(e,t,n,i,r){if(t.widgets)for(var o=un(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=T("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),bn(l,c,n,i),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),an(l,"redraw")}}function bn(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function _n(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!D(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),A(t.display.measure,T("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function xn(e,t){for(var n=dt(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function wn(e){return e.lineSpace.offsetTop}function Sn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Cn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=A(e.measure,T("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function kn(e){return z-e.display.nativeBarWidth}function En(e){return e.display.scroller.clientWidth-kn(e)-e.display.barWidth}function Mn(e){return e.display.scroller.clientHeight-kn(e)-e.display.barHeight}function An(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var r=0;r<e.rest.length;r++)if(he(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Tn(e,t,n,i){return In(e,Dn(e,t),n,i)}function Ln(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ai(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Dn(e,t){var n=he(t),i=Ln(e,n);i&&!i.text?i=null:i&&i.changes&&(cn(e,i,n,ni(e)),e.curOp.forceUpdate=!0),i||(i=function(e,t){var n=he(t=ze(t)),i=e.display.externalMeasured=new nn(e.doc,t,n);i.lineN=n;var r=i.built=Qt(e,i);return i.text=r.pre,A(e.display.lineMeasure,r.pre),i}(e,t));var r=An(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function In(e,t,n,i,r){t.before&&(n=-1);var o,l=n+(i||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var i=e.options.lineWrapping,r=i&&En(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,i){var r,o=Nn(t.map,n,i),l=o.node,c=o.start,u=o.end,h=o.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){for(;c&&re(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&re(t.line.text.charAt(o.coverStart+u));)++u;if((r=s&&a<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():On(k(l,c,u).getClientRects(),i)).left||r.right||0==c)break;u=c,c-=1,h="right"}s&&a<11&&(r=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=St)return St;var t=A(e,T("span","x")),n=t.getBoundingClientRect(),i=k(t,0,1).getBoundingClientRect();return St=Math.abs(n.left-i.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}(e.display.measure,r))}else{var f;c>0&&(h=i="right"),r=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==i?f.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!r||!r.left&&!r.right)){var p=l.parentNode.getClientRects()[0];r=p?{left:p.left,right:p.left+ti(e.display),top:p.top,bottom:p.bottom}:Rn}for(var m=r.top-t.rect.top,g=r.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var _=b?y[b-1]:0,x=y[b],w={left:("right"==h?r.right:r.left)-t.rect.left,right:("left"==h?r.left:r.right)-t.rect.left,top:_,bottom:x};return r.left||r.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=m,w.rbottom=g),w}(e,t,n,i)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Pn,Rn={left:0,right:0,top:0,bottom:0};function Nn(e,t,n){for(var i,r,o,s,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(r=0,o=1,s="left"):t<l?o=1+(r=t-a):(c==e.length-3||t==l&&e[c+3]>t)&&(r=(o=l-a)-1,t>=l&&(s="right")),null!=r){if(i=e[c+2],a==l&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)i=e[2+(c-=3)],s="left";if("right"==n&&r==l-a)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)i=e[(c+=3)+2],s="right";break}return{node:i,start:r,end:o,collapse:s,coverStart:a,coverEnd:l}}function On(e,t){var n=Rn;if("left"==t)for(var i=0;i<e.length&&(n=e[i]).left==n.right;i++);else for(var r=e.length-1;r>=0&&(n=e[r]).left==n.right;r--);return n}function Fn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function jn(e){e.display.externalMeasure=null,M(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Fn(e.display.view[t])}function Bn(e){jn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Xn(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function zn(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Hn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=_n(e.widgets[n]));return t}function Un(e,t,n,i,r){if(!r){var o=Hn(t);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=Ge(t);if("local"==i?s+=wn(e.display):s-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:zn());var l=a.left+("window"==i?0:Xn());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function Kn(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=Xn(),r-=zn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function Wn(e,t,n,i,r){return i||(i=ae(e.doc,t.line)),Un(e,i,Tn(e,i,t.ch,r),n)}function Gn(e,t,n,i,r,o){function s(t,s){var a=In(e,r,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Un(e,i,a,n)}i=i||ae(e.doc,t.line),r||(r=Dn(e,i));var a=$e(i,e.doc.direction),l=t.ch,c=t.sticky;if(l>=i.text.length?(l=i.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function u(e,t,n){var i=1==a[t].level;return s(n?e-1:e,i!=n)}var h=Qe(a,l,c),d=Ve,f=u(l,h,"before"==c);return null!=d&&(f.other=u(l,d,"before"!=c)),f}function Yn(e,t){var n=0;t=we(e.doc,t),e.options.lineWrapping||(n=ti(e.display)*t.ch);var i=ae(e.doc,t.line),r=Ge(i)+wn(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function qn(e,t,n,i,r){var o=me(e,t,n);return o.xRel=r,i&&(o.outside=!0),o}function Vn(e,t,n){var i=e.doc;if((n+=e.display.viewOffset)<0)return qn(i.first,0,null,!0,-1);var r=de(i,n),o=i.first+i.size-1;if(r>o)return qn(i.first+i.size-1,ae(i,o).text.length,null,!0,1);t<0&&(t=0);for(var s=ae(i,r);;){var a=Jn(e,s,r,t,n),l=Be(s,a.ch+(a.xRel>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==r)return c;s=ae(i,r=c.line)}}function Qn(e,t,n,i){i-=Hn(t);var r=t.text.length,o=se(function(t){return In(e,n,t-1).bottom<=i},r,0);return{begin:o,end:r=se(function(t){return In(e,n,t).top>i},o,r)}}function Zn(e,t,n,i){return n||(n=Dn(e,t)),Qn(e,t,n,Un(e,t,In(e,n,i),"line").top)}function $n(e,t,n,i){return!(e.bottom<=n)&&(e.top>n||(i?e.left:e.right)>t)}function Jn(e,t,n,i,r){r-=Ge(t);var o=Dn(e,t),s=Hn(t),a=0,l=t.text.length,c=!0,u=$e(t,e.doc.direction);if(u){var h=(e.options.lineWrapping?function(e,t,n,i,r,o,s){var a=Qn(e,t,i,s),l=a.begin,c=a.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,h=null,d=0;d<r.length;d++){var f=r[d];if(!(f.from>=c||f.to<=l)){var p=In(e,i,1!=f.level?Math.min(c,f.to)-1:Math.max(l,f.from)).right,m=p<o?o-p+1e9:p-o;(!u||h>m)&&(u=f,h=m)}}return u||(u=r[r.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}:function(e,t,n,i,r,o,s){var a=se(function(a){var l=r[a],c=1!=l.level;return $n(Gn(e,me(n,c?l.to:l.from,c?"before":"after"),"line",t,i),o,s,!0)},0,r.length-1),l=r[a];if(a>0){var c=1!=l.level,u=Gn(e,me(n,c?l.from:l.to,c?"after":"before"),"line",t,i);$n(u,o,s,!0)&&u.top>s&&(l=r[a-1])}return l})(e,t,n,o,u,i,r);a=(c=1!=h.level)?h.from:h.to-1,l=c?h.to:h.from-1}var d,f,p=null,m=null,g=se(function(t){var n=In(e,o,t);return n.top+=s,n.bottom+=s,!!$n(n,i,r,!1)&&(n.top<=r&&n.left<=i&&(p=t,m=n),!0)},a,l),v=!1;if(m){var y=i-m.left<m.right-i,b=y==c;g=p+(b?0:1),f=b?"after":"before",d=y?m.left:m.right}else{c||g!=l&&g!=a||g++,f=0==g?"after":g==t.text.length?"before":In(e,o,g-(c?1:0)).bottom+s<=r==c?"after":"before";var _=Gn(e,me(n,g,f),"line",t,o);d=_.left,v=r<_.top||r>=_.bottom}return qn(n,g=oe(t.text,g,1),f,v,i-d)}function ei(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Pn){Pn=T("pre");for(var t=0;t<49;++t)Pn.appendChild(document.createTextNode("x")),Pn.appendChild(T("br"));Pn.appendChild(document.createTextNode("x"))}A(e.measure,Pn);var n=Pn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),M(e.measure),n||1}function ti(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=T("span","xxxxxxxxxx"),n=T("pre",[t]);A(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function ni(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,i[e.options.gutters[s]]=o.clientWidth;return{fixedPos:ii(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function ii(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ri(e){var t=ei(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/ti(e.display)-3);return function(r){if(Ke(e.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function oi(e){var t=e.doc,n=ri(e);t.iter(function(e){var t=n(e);t!=e.height&&ue(e,t)})}function si(e,t,n,i){var r=e.display;if(!n&&"true"==dt(t).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,c=Vn(e,o,s);if(i&&1==c.xRel&&(l=ae(e.doc,c.line).text).length==c.ch){var u=j(l,l.length,e.options.tabSize)-l.length;c=me(c.line,Math.max(0,Math.round((o-Cn(e.display).left)/ti(e.display))-u))}return c}function ai(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,i=0;i<n.length;i++)if((t-=n[i].size)<0)return i}function li(e){e.display.input.showSelection(e.display.input.prepareSelection())}function ci(e,t){void 0===t&&(t=!0);for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&ui(e,a.head,r),l||di(e,a,o)}}return i}function ui(e,t,n){var i=Gn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(T("div"," ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var o=n.appendChild(T("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function hi(e,t){return e.top-t.top||e.left-t.left}function di(e,t,n){var i=e.display,r=e.doc,o=document.createDocumentFragment(),s=Cn(e.display),a=s.left,l=Math.max(i.sizerWidth,En(e)-i.sizer.offsetLeft)-s.right,c="ltr"==r.direction;function u(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),o.appendChild(T("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(i-t)+"px"))}function h(t,n,i){var o,s,h=ae(r,t),d=h.text.length;function f(n,i){return Wn(e,me(t,n),"div",h,i)}function p(t,n,i){var r=Zn(e,h,null,t),o="ltr"==n==("after"==i)?"left":"right";return f("after"==i?r.begin:r.end-(/\s/.test(h.text.charAt(r.end-1))?2:1),o)[o]}var m=$e(h,r.direction);return function(e,t,n,i){if(!e)return i(t,n,"ltr",0);for(var r=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(i(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),r=!0)}r||i(t,n,"ltr")}(m,n||0,null==i?d:i,function(e,t,r,h){var g="ltr"==r,v=f(e,g?"left":"right"),y=f(t-1,g?"right":"left"),b=null==n&&0==e,_=null==i&&t==d,x=0==h,w=!m||h==m.length-1;if(y.top-v.top<=3){var S=(c?_:b)&&w,C=(c?b:_)&&x?a:(g?v:y).left,k=S?l:(g?y:v).right;u(C,v.top,k-C,v.bottom)}else{var E,M,A,T;g?(E=c&&b&&x?a:v.left,M=c?l:p(e,r,"before"),A=c?a:p(t,r,"after"),T=c&&_&&w?l:y.right):(E=c?p(e,r,"before"):a,M=!c&&b&&x?l:v.right,A=!c&&_&&w?a:y.left,T=c?p(t,r,"after"):l),u(E,v.top,M-E,v.bottom),v.bottom<y.top&&u(a,v.bottom,null,y.top),u(A,y.top,T-A,y.bottom)}(!o||hi(v,o)<0)&&(o=v),hi(y,o)<0&&(o=y),(!s||hi(v,s)<0)&&(s=v),hi(y,s)<0&&(s=y)}),{start:o,end:s}}var d=t.from(),f=t.to();if(d.line==f.line)h(d.line,d.ch,f.ch);else{var p=ae(r,d.line),m=ae(r,f.line),g=ze(p)==ze(m),v=h(d.line,d.ch,g?p.text.length+1:null).end,y=h(f.line,g?0:null,f.ch).start;g&&(v.top<y.top-2?(u(v.right,v.top,null,v.bottom),u(a,y.top,y.left,y.bottom)):u(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&u(a,v.bottom,null,y.top)}n.appendChild(o)}function fi(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function pi(e){e.state.focused||(e.display.input.focus(),gi(e))}function mi(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,vi(e))},100)}function gi(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(it(e,"focus",e,t),e.state.focused=!0,P(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),fi(e))}function vi(e,t){e.state.delayingBlurEvent||(e.state.focused&&(it(e,"blur",e,t),e.state.focused=!1,E(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function yi(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r=t.view[i],o=void 0;if(!r.hidden){if(s&&a<8){var l=r.node.offsetTop+r.node.offsetHeight;o=l-n,n=l}else{var c=r.node.getBoundingClientRect();o=c.bottom-c.top}var u=r.line.height-o;if(o<2&&(o=ei(t)),(u>.005||u<-.005)&&(ue(r.line,o),bi(r.line),r.rest))for(var h=0;h<r.rest.length;h++)bi(r.rest[h])}}}function bi(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],i=n.node.parentNode;i&&(n.height=i.offsetHeight)}}function _i(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-wn(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=de(t,i),s=de(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=de(t,Ge(ae(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=de(t,Ge(ae(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function xi(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=ii(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function wi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=pe(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(T("div",[T("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",ar(e),!0}return!1}function Si(e,t){var n=e.display,i=ei(e.display);t.top<0&&(t.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Mn(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+Sn(n),l=t.top<i,c=t.bottom>a-i;if(t.top<r)s.scrollTop=l?0:t.top;else if(t.bottom>r+o){var u=Math.min(t.top,(c?a:t.bottom)-o);u!=r&&(s.scrollTop=u)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,d=En(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),f=t.right-t.left>d;return f&&(t.right=t.left+d),t.left<10?s.scrollLeft=0:t.left<h?s.scrollLeft=Math.max(0,t.left-(f?0:10)):t.right>d+h-3&&(s.scrollLeft=t.right+(f?0:10)-d),s}function Ci(e,t){null!=t&&(Mi(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function ki(e){Mi(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Ei(e,t,n){null==t&&null==n||Mi(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Mi(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Ai(e,Yn(e,t.from),Yn(e,t.to),t.margin))}function Ai(e,t,n,i){var r=Si(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-i,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+i});Ei(e,r.scrollLeft,r.scrollTop)}function Ti(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||sr(e,{top:t}),Li(e,t,!0),n&&sr(e),tr(e,100))}function Li(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Di(e,t,n,i){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!i||(e.doc.scrollLeft=t,xi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Ii(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Sn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+kn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Pi=function(e,t,n){this.cm=n;var i=this.vert=T("div",[T("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=T("div",[T("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=r.tabIndex=-1,e(i),e(r),et(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),et(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Pi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},Pi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Pi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Pi.prototype.zeroWidthHack=function(){var e=y&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new B,this.disableVert=new B},Pi.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,function i(){var r=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,i)})},Pi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ri=function(){};function Ni(e,t){t||(t=Ii(e));var n=e.display.barWidth,i=e.display.barHeight;Oi(e,t);for(var r=0;r<4&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&yi(e),Oi(e,Ii(e)),n=e.display.barWidth,i=e.display.barHeight}function Oi(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Ri.prototype.update=function(){return{bottom:0,right:0}},Ri.prototype.setScrollLeft=function(){},Ri.prototype.setScrollTop=function(){},Ri.prototype.clear=function(){};var Fi={native:Pi,null:Ri};function ji(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&E(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Fi[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),et(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?Di(e,t):Ti(e,t)},e),e.display.scrollbars.addClass&&P(e.display.wrapper,e.display.scrollbars.addClass)}var Bi=0;function Xi(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Bi},t=e.curOp,on?on.ops.push(t):t.ownsGroup=on={ops:[t],delayedCallbacks:[]}}function zi(e){!function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}(n)}finally{on=null,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Hi(t[n]);for(var i=0;i<t.length;i++)(r=t[i]).updatedDisplay=r.mustUpdate&&rr(r.cm,r.update);for(var r,o=0;o<t.length;o++)Ui(t[o]);for(var s=0;s<t.length;s++)Ki(t[s]);for(var a=0;a<t.length;a++)Wi(t[a])}(e)}(n)}}(e.curOp)}function Hi(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=kn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=kn(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&qe(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ir(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ui(e){var t=e.cm,n=t.display;e.updatedDisplay&&yi(t),e.barMeasure=Ii(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Tn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+kn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-En(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Ki(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Di(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==I();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Ni(t,e.barMeasure),e.updatedDisplay&&lr(t,e.barMeasure),e.selectionChanged&&fi(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&pi(e.cm)}function Wi(e){var t=e.cm,n=t.display,i=t.doc;e.updatedDisplay&&or(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Li(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Di(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!rt(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;if(t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!p){var o=T("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-wn(e.display))+"px;\n                         height: "+(t.bottom-t.top+kn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,i){var r;null==i&&(i=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?me(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?me(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var s=!1,a=Gn(e,t),l=n&&n!=t?Gn(e,n):a,c=Si(e,r={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-i,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+i}),u=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=c.scrollTop&&(Ti(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(Di(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(s=!0)),!s)break}return r}(t,we(i,e.scrollToPos.from),we(i,e.scrollToPos.to),e.scrollToPos.margin));var r=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(r)for(var s=0;s<r.length;++s)r[s].lines.length||it(r[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&it(o[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&it(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Gi(e,t){if(e.curOp)return t();Xi(e);try{return t()}finally{zi(e)}}function Yi(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Xi(e);try{return t.apply(e,arguments)}finally{zi(e)}}}function qi(e){return function(){if(this.curOp)return e.apply(this,arguments);Xi(this);try{return e.apply(this,arguments)}finally{zi(this)}}}function Vi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Xi(t);try{return e.apply(this,arguments)}finally{zi(t)}}}function Qi(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)ke&&He(e.doc,t)<r.viewTo&&$i(e);else if(n<=r.viewFrom)ke&&Ue(e.doc,n+i)>r.viewFrom?$i(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)$i(e);else if(t<=r.viewFrom){var o=Ji(e,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):$i(e)}else if(n>=r.viewTo){var s=Ji(e,t,t,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):$i(e)}else{var a=Ji(e,t,t,-1),l=Ji(e,n,n+i,1);a&&l?(r.view=r.view.slice(0,a.index).concat(rn(e,a.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=i):$i(e)}var c=r.externalMeasured;c&&(n<c.lineN?c.lineN+=i:t<c.lineN+c.size&&(r.externalMeasured=null))}function Zi(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[ai(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==X(s,n)&&s.push(n)}}}function $i(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Ji(e,t,n,i){var r,o=ai(e,t),s=e.display.view;if(!ke||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=t){if(i>0){if(o==s.length-1)return null;r=a+s[o].size-t,o++}else r=a-t;t+=r,n+=r}for(;He(e.doc,n)!=n;){if(o==(i<0?0:s.length-1))return null;n+=i*s[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function er(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function tr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,O(nr,e))}function nr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=Ft(e,t.highlightFrontier),r=[];t.iter(i.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(i.line>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength?Tt(t.mode,i.state):null,l=Nt(e,o,i,!0);a&&(i.state=a),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),d=0;!h&&d<s.length;++d)h=s[d]!=o.styles[d];h&&r.push(i.line),o.stateAfter=i.save(),i.nextLine()}else o.text.length<=e.options.maxHighlightLength&&jt(e,o.text,i),o.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>n)return tr(e,e.options.workDelay),!0}),t.highlightFrontier=i.line,t.modeFrontier=Math.max(t.modeFrontier,i.line),r.length&&Gi(e,function(){for(var t=0;t<r.length;t++)Zi(e,r[t],"text")})}}var ir=function(e,t,n){var i=e.display;this.viewport=t,this.visible=_i(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=En(e),this.force=n,this.dims=ni(e),this.events=[]};function rr(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return $i(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==er(e))return!1;wi(e)&&($i(e),t.dims=ni(e));var r=i.first+i.size,o=Math.max(t.visible.from-e.options.viewportMargin,i.first),s=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),ke&&(o=He(e.doc,o),s=Ue(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var i=e.display;0==i.view.length||t>=i.viewTo||n<=i.viewFrom?(i.view=rn(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=rn(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(ai(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(rn(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,ai(e,n)))),i.viewTo=n}(e,o,s),n.viewOffset=Ge(ae(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=er(e);if(!a&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(e){if(e.hasFocus())return null;var t=I();if(!t||!D(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var i=window.getSelection();i.anchorNode&&i.extend&&D(e.display.lineDiv,i.anchorNode)&&(n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset)}return n}(e);return c>4&&(n.lineDiv.style.display="none"),function(e,t,n){var i=e.display,r=e.options.lineNumbers,o=i.lineDiv,s=o.firstChild;function a(t){var n=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=i.view,u=i.viewFrom,h=0;h<c.length;h++){var d=c[h];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;s!=d.node;)s=a(s);var f=r&&null!=t&&t<=u&&d.lineNumber;d.changes&&(X(d.changes,"gutter")>-1&&(f=!1),cn(e,d,u,n)),f&&(M(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(pe(e.options,u)))),s=d.node.nextSibling}else{var p=gn(e,d,u,n);o.insertBefore(p,s)}u+=d.size}for(;s;)s=a(s)}(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=I()&&(e.activeElt.focus(),e.anchorNode&&D(document.body,e.anchorNode)&&D(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(u),M(n.cursorDiv),M(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,tr(e,400)),n.updateLineNumbers=null,!0}function or(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=En(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Sn(e.display)-Mn(e),n.top)}),t.visible=_i(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&rr(e,t);i=!1){yi(e);var r=Ii(e);li(e),Ni(e,r),lr(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function sr(e,t){var n=new ir(e,t);if(rr(e,n)){yi(e),or(e,n);var i=Ii(e);li(e),Ni(e,i),lr(e,i),n.finish()}}function ar(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function lr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+kn(e)+"px"}function cr(e){var t=e.display.gutters,n=e.options.gutters;M(t);for(var i=0;i<n.length;++i){var r=n[i],o=t.appendChild(T("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",ar(e)}function ur(e){var t=X(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}ir.prototype.signal=function(e,t){st(e,t)&&this.events.push(arguments)},ir.prototype.finish=function(){for(var e=0;e<this.events.length;e++)it.apply(null,this.events[e])};var hr=0,dr=null;function fr(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function pr(e,t){var i=fr(t),r=i.x,o=i.y,s=e.display,a=s.scroller,c=a.scrollWidth>a.clientWidth,u=a.scrollHeight>a.clientHeight;if(r&&c||o&&u){if(o&&y&&l)e:for(var d=t.target,f=s.view;d!=a;d=d.parentNode)for(var p=0;p<f.length;p++)if(f[p].node==d){e.display.currentWheelTarget=d;break e}if(r&&!n&&!h&&null!=dr)return o&&u&&Ti(e,Math.max(0,a.scrollTop+o*dr)),Di(e,Math.max(0,a.scrollLeft+r*dr)),(!o||o&&u)&&lt(t),void(s.wheelStartX=null);if(o&&null!=dr){var m=o*dr,g=e.doc.scrollTop,v=g+s.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),sr(e,{top:g,bottom:v})}hr<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=r,s.wheelDY=o,setTimeout(function(){if(null!=s.wheelStartX){var e=a.scrollLeft-s.wheelStartX,t=a.scrollTop-s.wheelStartY,n=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(dr=(dr*hr+n)/(hr+1),++hr)}},200)):(s.wheelDX+=r,s.wheelDY+=o))}}s?dr=-.53:n?dr=15:u?dr=-.7:d&&(dr=-1/3);var mr=function(e,t){this.ranges=e,this.primIndex=t};mr.prototype.primary=function(){return this.ranges[this.primIndex]},mr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(!ve(n.anchor,i.anchor)||!ve(n.head,i.head))return!1}return!0},mr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new gr(ye(this.ranges[t].anchor),ye(this.ranges[t].head));return new mr(e,this.primIndex)},mr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},mr.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(ge(t,i.from())>=0&&ge(e,i.to())<=0)return n}return-1};var gr=function(e,t){this.anchor=e,this.head=t};function vr(e,t){var n=e[t];e.sort(function(e,t){return ge(e.from(),t.from())}),t=X(e,n);for(var i=1;i<e.length;i++){var r=e[i],o=e[i-1];if(ge(o.to(),r.from())>=0){var s=_e(o.from(),r.from()),a=be(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;i<=t&&--t,e.splice(--i,2,new gr(l?a:s,l?s:a))}}return new mr(e,t)}function yr(e,t){return new mr([new gr(e,t||e)],0)}function br(e){return e.text?me(e.from.line+e.text.length-1,V(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function _r(e,t){if(ge(e,t.from)<0)return e;if(ge(e,t.to)<=0)return br(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=br(t).ch-t.to.ch),me(n,i)}function xr(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new gr(_r(r.anchor,t),_r(r.head,t)))}return vr(n,e.sel.primIndex)}function wr(e,t,n){return e.line==t.line?me(n.line,e.ch-t.ch+n.ch):me(n.line+(e.line-t.line),e.ch)}function Sr(e){e.doc.mode=Mt(e.options,e.doc.modeOption),Cr(e)}function Cr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,tr(e,100),e.state.modeGen++,e.curOp&&Qi(e)}function kr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==V(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Er(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){!function(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),De(e),Ie(e,n);var r=i?i(e):1;r!=e.height&&ue(e,r)}(e,n,r,i),an(e,"change",e,t)}function s(e,t){for(var n=[],o=e;o<t;++o)n.push(new Wt(c[o],r(o),i));return n}var a=t.from,l=t.to,c=t.text,u=ae(e,a.line),h=ae(e,l.line),d=V(c),f=r(c.length-1),p=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(kr(e,t)){var m=s(0,c.length-1);o(h,h.text,f),p&&e.remove(a.line,p),m.length&&e.insert(a.line,m)}else if(u==h)if(1==c.length)o(u,u.text.slice(0,a.ch)+d+u.text.slice(l.ch),f);else{var g=s(1,c.length-1);g.push(new Wt(d+u.text.slice(l.ch),f,i)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),e.insert(a.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),r(0)),e.remove(a.line+1,p);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(h,d+h.text.slice(l.ch),f);var v=s(1,c.length-1);p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,v)}an(e,"change",e,t)}function Mr(e,t,n){!function e(i,r,o){if(i.linked)for(var s=0;s<i.linked.length;++s){var a=i.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;n&&!l||(t(a.doc,l),e(a.doc,i,l))}}}(e,null,!0)}function Ar(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,oi(e),Sr(e),Tr(e),e.options.lineWrapping||qe(e),e.options.mode=t.modeOption,Qi(e)}function Tr(e){("rtl"==e.doc.direction?P:E)(e.display.lineDiv,"CodeMirror-rtl")}function Lr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Dr(e,t){var n={from:ye(t.from),to:br(t),text:le(e,t.from,t.to)};return Nr(e,n,t.from.line,t.to.line+1),Mr(e,function(e){return Nr(e,n,t.from.line,t.to.line+1)},!0),n}function Ir(e){for(;e.length&&V(e).ranges;)e.pop()}function Pr(e,t,n,i){var r=e.history;r.undone.length=0;var o,s,a=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&r.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return r.lastOp==i?(Ir(e.done),V(e.done)):e.done.length&&!V(e.done).ranges?V(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),V(e.done)):void 0}(r)))s=V(o.changes),0==ge(t.from,t.to)&&0==ge(t.from,s.to)?s.to=br(t):o.changes.push(Dr(e,t));else{var l=V(r.done);for(l&&l.ranges||Rr(e.sel,r.done),o={changes:[Dr(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,s||it(e,"historyAdded")}function Rr(e,t){var n=V(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Nr(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Or(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Fr(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=[],r=0;r<t.text.length;++r)i.push(Or(n[r]));return i}(e,t),i=Te(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(n[r]=s)}return n}function jr(e,t,n){for(var i=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?mr.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];i.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&X(t,Number(u[1]))>-1&&(V(a)[h]=c[h],delete c[h])}}}return i}function Br(e,t,n,i){if(i){var r=e.anchor;if(n){var o=ge(t,r)<0;o!=ge(n,r)<0?(r=t,t=n):o!=ge(t,n)<0&&(t=n)}return new gr(r,t)}return new gr(n||t,t)}function Xr(e,t,n,i,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),Wr(e,new mr([Br(e.sel.primary(),t,n,r)],0),i)}function zr(e,t,n){for(var i=[],r=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)i[o]=Br(e.sel.ranges[o],t[o],null,r);Wr(e,vr(i,e.sel.primIndex),n)}function Hr(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,Wr(e,vr(r,e.sel.primIndex),i)}function Ur(e,t,n,i){Wr(e,yr(t,n),i)}function Kr(e,t,n){var i=e.history.done,r=V(i);r&&r.ranges?(i[i.length-1]=t,Gr(e,t,n)):Wr(e,t,n)}function Wr(e,t,n){Gr(e,t,n),function(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||function(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,V(r.done),t))?r.done[r.done.length-1]=t:Rr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&Ir(r.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Gr(e,t,n){(st(e,"beforeSelectionChange")||e.cm&&st(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new gr(we(e,t[n].anchor),we(e,t[n].head))},origin:n&&n.origin};return it(e,"beforeSelectionChange",e,i),e.cm&&it(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?vr(i.ranges,i.ranges.length-1):t}(e,t,n)),Yr(e,Vr(e,t,n&&n.bias||(ge(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||ki(e.cm)}function Yr(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,ot(e.cm)),an(e,"cursorActivity",e))}function qr(e){Yr(e,Vr(e,e.sel,null,!1))}function Vr(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Zr(e,s.anchor,a&&a.anchor,n,i),c=Zr(e,s.head,a&&a.head,n,i);(r||l!=s.anchor||c!=s.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new gr(l,c))}return r?vr(r,t.primIndex):t}function Qr(e,t,n,i,r){var o=ae(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(r&&(it(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var c=l.find(i<0?1:-1),u=void 0;if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(c=$r(e,c,-i,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=ge(c,n))&&(i<0?u<0:u>0))return Qr(e,c,t,i,r)}var h=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(h=$r(e,h,i,h.line==t.line?o:null)),h?Qr(e,h,t,i,r):null}}return t}function Zr(e,t,n,i,r){var o=i||1;return Qr(e,t,n,o,r)||!r&&Qr(e,t,n,o,!0)||Qr(e,t,n,-o,r)||!r&&Qr(e,t,n,-o,!0)||(e.cantEdit=!0,me(e.first,0))}function $r(e,t,n,i){return n<0&&0==t.ch?t.line>e.first?we(e,me(t.line-1)):null:n>0&&t.ch==(i||ae(e,t.line)).text.length?t.line<e.first+e.size-1?me(t.line+1,0):null:new me(t.line,t.ch+n)}function Jr(e){e.setSelection(me(e.firstLine(),0),me(e.lastLine()),U)}function eo(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(t,n,r,o){t&&(i.from=we(e,t)),n&&(i.to=we(e,n)),r&&(i.text=r),void 0!==o&&(i.origin=o)}),it(e,"beforeChange",e,i),e.cm&&it(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function to(e,t,n){if(e.cm){if(!e.cm.curOp)return Yi(e.cm,to)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(st(e,"beforeChange")||e.cm&&st(e.cm,"beforeChange"))||(t=eo(e,t,!0))){var i=Ce&&!n&&function(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=X(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(ge(c.to,a.from)<0||ge(c.from,a.to)>0)){var u=[l,1],h=ge(c.from,a.from),d=ge(c.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(d>0||!s.inclusiveRight&&!d)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-3}}return r}(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)no(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text,origin:t.origin});else no(e,t)}}function no(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ge(t.from,t.to)){var n=xr(e,t);Pr(e,t,n,e.cm?e.cm.curOp.id:NaN),oo(e,t,n,Te(e,t));var i=[];Mr(e,function(e,n){n||-1!=X(i,e.history)||(co(e.history,t),i.push(e.history)),oo(e,t,null,Te(e,t))})}}function io(e,t,n){var i=e.cm&&e.cm.state.suppressEdits;if(!i||n){for(var r,o=e.history,s=e.sel,a="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<a.length&&(r=a[c],n?!r.ranges||r.equals(e.sel):r.ranges);c++);if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(r=a.pop()).ranges){if(i)return void a.push(r);break}if(Rr(r,l),n&&!r.equals(e.sel))return void Wr(e,r,{clearRedo:!1});s=r}var u=[];Rr(s,l),l.push({changes:u,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var h=st(e,"beforeChange")||e.cm&&st(e.cm,"beforeChange"),d=function(n){var i=r.changes[n];if(i.origin=t,h&&!eo(e,i,!1))return a.length=0,{};u.push(Dr(e,i));var o=n?xr(e,i):V(a);oo(e,i,o,Fr(e,i)),!n&&e.cm&&e.cm.scrollIntoView({from:i.from,to:br(i)});var s=[];Mr(e,function(e,t){t||-1!=X(s,e.history)||(co(e.history,i),s.push(e.history)),oo(e,i,null,Fr(e,i))})},f=r.changes.length-1;f>=0;--f){var p=d(f);if(p)return p.v}}}}function ro(e,t){if(0!=t&&(e.first+=t,e.sel=new mr(Q(e.sel.ranges,function(e){return new gr(me(e.anchor.line+t,e.anchor.ch),me(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Qi(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)Zi(e.cm,i,"gutter")}}function oo(e,t,n,i){if(e.cm&&!e.cm.curOp)return Yi(e.cm,oo)(e,t,n,i);if(t.to.line<e.first)ro(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);ro(e,r),t={from:me(e.first,0),to:me(t.to.line+r,t.to.ch),text:[V(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:me(o,ae(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=le(e,t.from,t.to),n||(n=xr(e,t)),e.cm?function(e,t,n){var i=e.doc,r=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=he(ze(ae(i,o.line))),i.iter(l,s.line+1,function(e){if(e==r.maxLine)return a=!0,!0})),i.sel.contains(t.from,t.to)>-1&&ot(e),Er(i,t,n,ri(e)),e.options.lineWrapping||(i.iter(l,o.line+t.text.length,function(e){var t=Ye(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,i=t-1;i>n;i--){var r=ae(e,i).stateAfter;if(r&&(!(r instanceof Pt)||i+r.lookAhead<t)){n=i+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}(i,o.line),tr(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?Qi(e):o.line!=s.line||1!=t.text.length||kr(e.doc,t)?Qi(e,o.line,s.line+1,c):Zi(e,o.line,"text");var u=st(e,"changes"),h=st(e,"change");if(h||u){var d={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};h&&an(e,"change",e,d),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}(e.cm,t,i):Er(e,t,i),Gr(e,n,U)}}function so(e,t,n,i,r){var o;i||(i=n),ge(i,n)<0&&(n=(o=[i,n])[0],i=o[1]),"string"==typeof t&&(t=e.splitLines(t)),to(e,{from:n,to:i,text:t,origin:r})}function ao(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function lo(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)ao(o.ranges[a].anchor,t,n,i),ao(o.ranges[a].head,t,n,i)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=me(c.from.line+i,c.from.ch),c.to=me(c.to.line+i,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,r+1),r=0)}}}function co(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;lo(e.done,n,i,r),lo(e.undone,n,i,r)}function uo(e,t,n,i){var r=t,o=t;return"number"==typeof t?o=ae(e,xe(e,t)):r=he(t),null==r?null:(i(o,r)&&e.cm&&Zi(e.cm,r,n),o)}function ho(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function fo(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}gr.prototype.from=function(){return _e(this.anchor,this.head)},gr.prototype.to=function(){return be(this.anchor,this.head)},gr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ho.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;n<i;++n){var r=this.lines[n];this.height-=r.height,Gt(r),an(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;e<i;++e)if(n(this.lines[e]))return!0}},fo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(e<r){var o=Math.min(t,r-e),s=i.height;if(i.removeInner(e,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ho))){var a=[];this.collapse(a),this.children=[new ho(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new ho(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new fo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=X(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var i=new fo(e.children);i.parent=e,e.children=[i,t],e=i}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<o){var s=Math.min(t,o-e);if(r.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var po=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};function mo(e,t,n){Ge(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ci(e,n)}po.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=he(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=_n(this);ue(n,Math.max(0,n.height-o)),e&&(Gi(e,function(){mo(e,n,-o),Zi(e,i,"widget")}),an(e,"lineWidgetCleared",e,this,i))}},po.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,i=this.line;this.height=null;var r=_n(this)-t;r&&(Ke(this.doc,i)||ue(i,i.height+r),n&&Gi(n,function(){n.curOp.forceUpdate=!0,mo(n,i,r),an(n,"lineWidgetChanged",n,e,he(i))}))},at(po);var go=0,vo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++go};function yo(e,t,n,i,r){if(i&&i.shared)return function(e,t,n,i,r){(i=F(i)).shared=!1;var o=[yo(e,t,n,i,r)],s=o[0],a=i.widgetNode;return Mr(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),o.push(yo(e,we(e,t),we(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=V(o)}),new bo(o,s)}(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return Yi(e.cm,yo)(e,t,n,i,r);var o=new vo(e,r),s=ge(t,n);if(i&&F(i,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=L("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Xe(e,t.line,t,n,o)||t.line!=n.line&&Xe(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");ke=!0}o.addToHistory&&Pr(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&o.collapsed&&!c.options.lineWrapping&&ze(e)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&ue(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new Ee(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){Ke(e,t)&&ue(t,0)}),o.clearOnEnter&&et(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(Ce=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++go,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)Qi(c,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=t.line;u<=n.line;u++)Zi(c,u,"text");o.atomic&&qr(c.doc),an(c,"markerAdded",c,o)}return o}vo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Xi(e),st(this,"clear")){var n=this.find();n&&an(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Me(s.markedSpans,this);e&&!this.collapsed?Zi(e,he(s),"text"):e&&(null!=a.to&&(r=he(s)),null!=a.from&&(i=he(s))),s.markedSpans=Ae(s.markedSpans,a),null==a.from&&this.collapsed&&!Ke(this.doc,s)&&e&&ue(s,ei(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=ze(this.lines[l]),u=Ye(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&Qi(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&qr(e.doc)),e&&an(e,"markerCleared",e,this,i,r),t&&zi(e),this.parent&&this.parent.clear()}},vo.prototype.find=function(e,t){var n,i;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],s=Me(o.markedSpans,this);if(null!=s.from&&(n=me(t?o:he(o),s.from),-1==e))return n;if(null!=s.to&&(i=me(t?o:he(o),s.to),1==e))return i}return n&&{from:n,to:i}},vo.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,i=this.doc.cm;t&&i&&Gi(i,function(){var r=t.line,o=he(t.line),s=Ln(i,o);if(s&&(Fn(s),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!Ke(n.doc,r)&&null!=n.height){var a=n.height;n.height=null;var l=_n(n)-a;l&&ue(r,r.height+l)}an(i,"markerChanged",i,e)})},vo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=X(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},vo.prototype.detachLine=function(e){if(this.lines.splice(X(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},at(vo);var bo=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function _o(e){return e.findMarks(me(e.first,0),e.clipPos(me(e.lastLine())),function(e){return e.parent})}function xo(e){for(var t=function(t){var n=e[t],i=[n.primary.doc];Mr(n.primary.doc,function(e){return i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==X(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}},n=0;n<e.length;n++)t(n)}bo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();an(this,"clear")}},bo.prototype.find=function(e,t){return this.primary.find(e,t)},at(bo);var wo=0,So=function(e,t,n,i,r){if(!(this instanceof So))return new So(e,t,n,i,r);null==n&&(n=0),fo.call(this,[new ho([new Wt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=me(n,0);this.sel=yr(o),this.history=new Lr(null),this.id=++wo,this.modeOption=t,this.lineSep=i,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Er(this,{from:o,to:o,text:e}),Wr(this,yr(o),U)};So.prototype=$(fo.prototype,{constructor:So,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ce(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Vi(function(e){var t=me(this.first,0),n=this.first+this.size-1;to(this,{from:t,to:me(n,ae(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Ei(this.cm,0,0),Wr(this,yr(t),U)}),replaceRange:function(e,t,n,i){so(this,e,t=we(this,t),n=n?we(this,n):t,i)},getRange:function(e,t,n){var i=le(this,we(this,e),we(this,t));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(fe(this,e))return ae(this,e)},getLineNumber:function(e){return he(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=ae(this,e)),ze(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return we(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Vi(function(e,t,n){Ur(this,we(this,"number"==typeof e?me(e,t||0):e),null,n)}),setSelection:Vi(function(e,t,n){Ur(this,we(this,e),we(this,t||e),n)}),extendSelection:Vi(function(e,t,n){Xr(this,we(this,e),t&&we(this,t),n)}),extendSelections:Vi(function(e,t){zr(this,Se(this,e),t)}),extendSelectionsBy:Vi(function(e,t){zr(this,Se(this,Q(this.sel.ranges,e)),t)}),setSelections:Vi(function(e,t,n){if(e.length){for(var i=[],r=0;r<e.length;r++)i[r]=new gr(we(this,e[r].anchor),we(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Wr(this,vr(i,t),n)}}),addSelection:Vi(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new gr(we(this,e),we(this,t||e))),Wr(this,vr(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=le(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=le(this,n[i].from(),n[i].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:Vi(function(e,t,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:n}}for(var a=t&&"end"!=t&&function(e,t,n){for(var i=[],r=me(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=wr(a.from,r,o),c=wr(br(a),r,o);if(r=a.to,o=c,"around"==n){var u=e.sel.ranges[s],h=ge(u.head,u.anchor)<0;i[s]=new gr(h?c:l,h?l:c)}else i[s]=new gr(l,l)}return new mr(i,e.sel.primIndex)}(this,i,t),l=i.length-1;l>=0;l--)to(this,i[l]);a?Kr(this,a):this.cm&&ki(this.cm)}),undo:Vi(function(){io(this,"undo")}),redo:Vi(function(){io(this,"redo")}),undoSelection:Vi(function(){io(this,"undo",!0)}),redoSelection:Vi(function(){io(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Lr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:jr(this.history.done),undone:jr(this.history.undone)}},setHistory:function(e){var t=this.history=new Lr(this.history.maxGeneration);t.done=jr(e.done.slice(0),null,!0),t.undone=jr(e.undone.slice(0),null,!0)},setGutterMarker:Vi(function(e,t,n){return uo(this,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&ne(i)&&(e.gutterMarkers=null),!0})}),clearGutter:Vi(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&uo(t,n,"gutter",function(){return n.gutterMarkers[e]=null,ne(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!fe(this,e))return null;if(t=e,!(e=ae(this,e)))return null}else if(null==(t=he(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Vi(function(e,t,n){return uo(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(C(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:Vi(function(e,t,n){return uo(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var o=r.match(C(n));if(!o)return!1;var s=o.index+o[0].length;e[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Vi(function(e,t,n){return function(e,t,n,i){var r=new po(e,n,i),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),uo(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!Ke(e,t)){var i=Ge(t)<e.scrollTop;ue(t,t.height+_n(r)),i&&Ci(o,r.height),o.curOp.forceUpdate=!0}return!0}),o&&an(o,"lineWidgetAdded",o,r,"number"==typeof t?t:he(t)),r}(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return yo(this,we(this,e),we(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return yo(this,e=we(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=ae(this,(e=we(this,e)).line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=we(this,e),t=we(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+i;if(o>e)return t=e,!0;e-=o,++n}),we(this,me(n,t))},indexFromPos:function(e){var t=(e=we(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new So(ce(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new So(ce(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(ge(o,s)){var a=yo(e,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}(i,_o(this)),i},unlinkDoc:function(e){if(e instanceof ys&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),xo(_o(this));break}if(e.history==this.history){var n=[e.id];Mr(e,function(e){return n.push(e.id)},!0),e.history=new Lr(null),e.history.done=jr(this.history.done,n),e.history.undone=jr(this.history.undone,n)}},iterLinkedDocs:function(e){Mr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):_t(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Vi(function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Gi(t=this.cm,function(){Tr(t),Qi(t)}))})}),So.prototype.eachLine=So.prototype.iter;var Co=0;function ko(e){var t=this;if(Eo(t),!rt(t,e)&&!xn(t.display,e)){lt(e),s&&(Co=+new Date);var n=si(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),a=0,l=function(e,i){if(!t.options.allowDropFileTypes||-1!=X(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=Yi(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[i]=e,++a==r){var l={from:n=we(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};to(t.doc,l),Kr(t.doc,yr(n,br(l)))}}),s.readAsText(e)}},c=0;c<r;++c)l(i[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),Gr(t.doc,yr(n,n)),h)for(var d=0;d<h.length;++d)so(t.doc,"",h[d].anchor,h[d].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Eo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Mo(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}var Ao=!1;function To(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Lo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Do=0;Do<10;Do++)Lo[Do+48]=Lo[Do+96]=String(Do);for(var Io=65;Io<=90;Io++)Lo[Io]=String.fromCharCode(Io);for(var Po=1;Po<=12;Po++)Lo[Po+111]=Lo[Po+63235]="F"+Po;var Ro={};function No(e){var t,n,i,r,o=e.split(/-(?!$)/);e=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Oo(e,t,n,i){var r=(t=Xo(t)).call?t.call(e,i):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Oo(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var s=Oo(e,t.fallthrough[o],n,i);if(s)return s}}}function Fo(e){var t="string"==typeof e?e:Lo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function jo(e,t,n){var i=e;return t.altKey&&"Alt"!=i&&(e="Alt-"+e),(w?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(e="Ctrl-"+e),(w?t.ctrlKey:t.metaKey)&&"Cmd"!=i&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=i&&(e="Shift-"+e),e}function Bo(e,t){if(h&&34==e.keyCode&&e.char)return!1;var n=Lo[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),jo(n,e,t))}function Xo(e){return"string"==typeof e?Ro[e]:e}function zo(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&ge(o.from,V(i).to)<=0;){var s=i.pop();if(ge(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}Gi(e,function(){for(var t=i.length-1;t>=0;t--)so(e.doc,"",i[t].from,i[t].to,"+delete");ki(e)})}function Ho(e,t,n){var i=oe(e.text,t+n,n);return i<0||i>e.text.length?null:i}function Uo(e,t,n){var i=Ho(e,t.ch,n);return null==i?null:new me(t.line,i,n<0?"after":"before")}function Ko(e,t,n,i,r){if(e){var o=$e(n,t.doc.direction);if(o){var s,a=r<0?V(o):o[0],l=r<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var c=Dn(t,n);s=r<0?n.text.length-1:0;var u=In(t,c,s).top;s=se(function(e){return In(t,c,e).top==u},r<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Ho(n,s,1))}else s=r<0?a.to:a.from;return new me(i,s,l)}}return new me(i,r<0?n.text.length:0,r<0?"before":"after")}Ro.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ro.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ro.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ro.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ro.default=y?Ro.macDefault:Ro.pcDefault;var Wo={selectAll:Jr,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),U)},killLine:function(e){return zo(e,function(t){if(t.empty()){var n=ae(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:me(t.head.line+1,0)}:{from:t.head,to:me(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return zo(e,function(t){return{from:me(t.from().line,0),to:we(e.doc,me(t.to().line+1,0))}})},delLineLeft:function(e){return zo(e,function(e){return{from:me(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return zo(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return zo(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(me(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(me(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Go(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Yo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function(e,t){var n=ae(e.doc,t),i=function(e){for(var t;t=je(e);)e=t.find(1,!0).line;return e}(n);return i!=n&&(t=he(i)),Ko(!0,e,n,t,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},W)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},W)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?Yo(e,t.head):i},W)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=j(e.getLine(o.line),o.ch,i);t.push(q(i-s%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Gi(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++)if(t[i].empty()){var r=t[i].head,o=ae(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new me(r.line,r.ch-1)),r.ch>0)r=new me(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),me(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var s=ae(e.doc,r.line-1).text;s&&(r=new me(r.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),me(r.line-1,s.length-1),r,"+transpose"))}n.push(new gr(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){return Gi(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var i=0;i<t.length;i++)e.indentLine(t[i].from().line,null,!0);ki(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Go(e,t){var n=ae(e.doc,t),i=ze(n);return i!=n&&(t=he(i)),Ko(!0,e,i,t,1)}function Yo(e,t){var n=Go(e,t.line),i=ae(e.doc,n.line),r=$e(i,e.doc.direction);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return me(n.line,s?0:o,n.sticky)}return n}function qo(e,t,n){if("string"==typeof t&&!(t=Wo[t]))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=H}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}var Vo=new B;function Qo(e,t,n,i){var r=e.state.keySeq;if(r){if(Fo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Vo.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),Zo(e,r+" "+t,n,i))return!0}return Zo(e,t,n,i)}function Zo(e,t,n,i){var r=function(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=Oo(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&Oo(t,e.options.extraKeys,n,e)||Oo(t,e.options.keyMap,n,e)}(e,t,i);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&an(e,"keyHandled",e,t,n),"handled"!=r&&"multi"!=r||(lt(n),fi(e)),!!r}function $o(e,t){var n=Bo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?Qo(e,"Shift-"+n,t,function(t){return qo(e,t,!0)})||Qo(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return qo(e,t)}):Qo(e,n,t,function(t){return qo(e,t)}))}var Jo=null;function es(e){var t=this;if(t.curOp.focus=I(),!rt(t,e)){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=$o(t,e);h&&(Jo=i?n:null,!i&&88==n&&!wt&&(y?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(E(t,"CodeMirror-crosshair"),nt(document,"keyup",n),nt(document,"mouseover",n))}P(t,"CodeMirror-crosshair"),et(document,"keyup",n),et(document,"mouseover",n)}(t)}}function ts(e){16==e.keyCode&&(this.doc.sel.shift=!1),rt(this,e)}function ns(e){var t=this;if(!(xn(t.display,e)||rt(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(h&&n==Jo)return Jo=null,void lt(e);if(!h||e.which&&!(e.which<10)||!$o(t,e)){var r=String.fromCharCode(null==i?n:i);"\b"!=r&&(function(e,t,n){return Qo(e,"'"+r+"'",t,function(t){return qo(e,t,!0)})}(t,e)||t.display.input.onKeyPress(e))}}}var is,rs,os=function(e,t,n){this.time=e,this.pos=t,this.button=n};function ss(e){var t=this,n=t.display;if(!(rt(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,xn(n,e))l||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!cs(t,e)){var i=si(t,e),r=ft(e),o=i?function(e,t){var n=+new Date;return rs&&rs.compare(n,e,t)?(is=rs=null,"triple"):is&&is.compare(n,e,t)?(rs=new os(n,e,t),is=null,"double"):(is=new os(n,e,t),rs=null,"single")}(i,r):"single";window.focus(),1==r&&t.state.selectingText&&t.state.selectingText(e),i&&function(e,t,n,i,r){var o="Click";return"double"==i?o="Double"+o:"triple"==i&&(o="Triple"+o),Qo(e,jo(o=(1==t?"Left":2==t?"Middle":"Right")+o,r),r,function(t){if("string"==typeof t&&(t=Wo[t]),!t)return!1;var i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i=t(e,n)!=H}finally{e.state.suppressEdits=!1}return i})}(t,r,i,o,e)||(1==r?i?function(e,t,n,i){s?setTimeout(O(pi,e),0):e.curOp.focus=I();var r,o=function(e,t,n){var i=e.getOption("configureMouse"),r=i?i(e,t,n):{};if(null==r.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;r.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=y?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(y?n.altKey:n.ctrlKey)),r}(e,n,i),c=e.doc.sel;e.options.dragDrop&&gt&&!e.isReadOnly()&&"single"==n&&(r=c.contains(t))>-1&&(ge((r=c.ranges[r]).from(),t)<0||t.xRel>0)&&(ge(r.to(),t)>0||t.xRel<0)?function(e,t,n,i){var r=e.display,o=!1,c=Yi(e,function(t){l&&(r.scroller.draggable=!1),e.state.draggingText=!1,nt(r.wrapper.ownerDocument,"mouseup",c),nt(r.wrapper.ownerDocument,"mousemove",u),nt(r.scroller,"dragstart",h),nt(r.scroller,"drop",c),o||(lt(t),i.addNew||Xr(e.doc,n,null,null,i.extend),l||s&&9==a?setTimeout(function(){r.wrapper.ownerDocument.body.focus(),r.input.focus()},20):r.input.focus())}),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},h=function(){return o=!0};l&&(r.scroller.draggable=!0),e.state.draggingText=c,c.copy=!i.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop(),et(r.wrapper.ownerDocument,"mouseup",c),et(r.wrapper.ownerDocument,"mousemove",u),et(r.scroller,"dragstart",h),et(r.scroller,"drop",c),mi(e),setTimeout(function(){return r.input.focus()},20)}(e,i,t,o):function(e,t,n,i){var r=e.display,o=e.doc;lt(t);var s,a,l=o.sel,c=l.ranges;if(i.addNew&&!i.extend?(a=o.sel.contains(n),s=a>-1?c[a]:new gr(n,n)):(s=o.sel.primary(),a=o.sel.primIndex),"rectangle"==i.unit)i.addNew||(s=new gr(n,n)),n=si(e,t,!0,!0),a=-1;else{var u=as(e,n,i.unit);s=i.extend?Br(s,u.anchor,u.head,i.extend):u}i.addNew?-1==a?(a=c.length,Wr(o,vr(c.concat([s]),a),{scroll:!1,origin:"*mouse"})):c.length>1&&c[a].empty()&&"char"==i.unit&&!i.extend?(Wr(o,vr(c.slice(0,a).concat(c.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Hr(o,a,s,K):(a=0,Wr(o,new mr([s],0),K),l=o.sel);var h=n;function d(t){if(0!=ge(h,t))if(h=t,"rectangle"==i.unit){for(var r=[],c=e.options.tabSize,u=j(ae(o,n.line).text,n.ch,c),d=j(ae(o,t.line).text,t.ch,c),f=Math.min(u,d),p=Math.max(u,d),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=ae(o,m).text,y=G(v,f,c);f==p?r.push(new gr(me(m,y),me(m,y))):v.length>y&&r.push(new gr(me(m,y),me(m,G(v,p,c))))}r.length||r.push(new gr(n,n)),Wr(o,vr(l.ranges.slice(0,a).concat(r),a),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,_=s,x=as(e,t,i.unit),w=_.anchor;ge(x.anchor,w)>0?(b=x.head,w=_e(_.from(),x.anchor)):(b=x.anchor,w=be(_.to(),x.head));var S=l.ranges.slice(0);S[a]=function(e,t){var n=t.anchor,i=t.head,r=ae(e.doc,n.line);if(0==ge(n,i)&&n.sticky==i.sticky)return t;var o=$e(r);if(!o)return t;var s=Qe(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return t;var l,c=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return t;if(i.line!=n.line)l=(i.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=Qe(o,i.ch,i.sticky),h=u-s||(i.ch-n.ch)*(1==a.level?-1:1);l=u==c-1||u==c?h<0:h>0}var d=o[c+(l?-1:0)],f=l==(1==d.level),p=f?d.from:d.to,m=f?"after":"before";return n.ch==p&&n.sticky==m?t:new gr(new me(n.line,p,m),i)}(e,new gr(we(o,w),b)),Wr(o,vr(S,a),K)}}var f=r.wrapper.getBoundingClientRect(),p=0;function m(t){e.state.selectingText=!1,p=1/0,lt(t),r.input.focus(),nt(r.wrapper.ownerDocument,"mousemove",g),nt(r.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var g=Yi(e,function(t){0!==t.buttons&&ft(t)?function t(n){var s=++p,a=si(e,n,!0,"rectangle"==i.unit);if(a)if(0!=ge(a,h)){e.curOp.focus=I(),d(a);var l=_i(r,o);(a.line>=l.to||a.line<l.from)&&setTimeout(Yi(e,function(){p==s&&t(n)}),150)}else{var c=n.clientY<f.top?-20:n.clientY>f.bottom?20:0;c&&setTimeout(Yi(e,function(){p==s&&(r.scroller.scrollTop+=c,t(n))}),50)}}(t):m(t)}),v=Yi(e,m);e.state.selectingText=v,et(r.wrapper.ownerDocument,"mousemove",g),et(r.wrapper.ownerDocument,"mouseup",v)}(e,i,t,o)}(t,i,o,e):dt(e)==n.scroller&&lt(e):2==r?(i&&Xr(t.doc,i),setTimeout(function(){return n.input.focus()},20)):3==r&&(S?us(t,e):mi(t)))}}function as(e,t,n){if("char"==n)return new gr(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new gr(me(t.line,0),we(e.doc,me(t.line+1,0)));var i=n(e,t);return new gr(i.from,i.to)}function ls(e,t,n,i){var r,o;if(t.touches)r=t.touches[0].clientX,o=t.touches[0].clientY;else try{r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&lt(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!st(e,n))return ut(t);o-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r)return it(e,n,e,de(e.doc,o),e.options.gutters[l],t),ut(t)}}function cs(e,t){return ls(e,t,"gutterClick",!0)}function us(e,t){xn(e.display,t)||function(e,t){return!!st(e,"gutterContextMenu")&&ls(e,t,"gutterContextMenu",!1)}(e,t)||rt(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function hs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bn(e)}os.prototype.compare=function(e,t,n){return this.time+400>e&&0==ge(t,this.pos)&&n==this.button};var ds={toString:function(){return"CodeMirror.Init"}},fs={},ps={};function ms(e){cr(e),Qi(e),xi(e)}function gs(e,t,n){if(!t!=!(n&&n!=ds)){var i=e.display.dragFunctions,r=t?et:nt;r(e.display.scroller,"dragstart",i.start),r(e.display.scroller,"dragenter",i.enter),r(e.display.scroller,"dragover",i.over),r(e.display.scroller,"dragleave",i.leave),r(e.display.scroller,"drop",i.drop)}}function vs(e){e.options.lineWrapping?(P(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(E(e.display.wrapper,"CodeMirror-wrap"),qe(e)),oi(e),Qi(e),Bn(e),setTimeout(function(){return Ni(e)},100)}function ys(e,t){var i=this;if(!(this instanceof ys))return new ys(e,t);this.options=t=t?F(t):{},F(fs,t,!1),ur(t);var r=t.value;"string"==typeof r?r=new So(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new ys.inputStyles[t.inputStyle](this),c=this.display=new function(e,t,i){var r=this;this.input=i,r.scrollbarFiller=T("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=T("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=L("div",null,"CodeMirror-code"),r.selectionDiv=T("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=T("div",null,"CodeMirror-cursors"),r.measure=T("div",null,"CodeMirror-measure"),r.lineMeasure=T("div",null,"CodeMirror-measure"),r.lineSpace=L("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var o=L("div",[r.lineSpace],"CodeMirror-lines");r.mover=T("div",[o],null,"position: relative"),r.sizer=T("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=T("div",null,null,"position: absolute; height: "+z+"px; width: 1px;"),r.gutters=T("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=T("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=T("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),s&&a<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),l||n&&v||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,i.init(r)}(e,r,o);for(var u in c.wrapper.CodeMirror=this,cr(this),hs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ji(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},t.autofocus&&!v&&c.input.focus(),s&&a<11&&setTimeout(function(){return i.display.input.reset(!0)},20),function(e){var t=e.display;et(t.scroller,"mousedown",Yi(e,ss)),et(t.scroller,"dblclick",s&&a<11?Yi(e,function(t){if(!rt(e,t)){var n=si(e,t);if(n&&!cs(e,t)&&!xn(e.display,t)){lt(t);var i=e.findWordAt(n);Xr(e.doc,i.anchor,i.head)}}}):function(t){return rt(e,t)||lt(t)}),S||et(t.scroller,"contextmenu",function(t){return us(e,t)});var n,i={end:0};function r(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),(i=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}et(t.scroller,"touchstart",function(r){if(!rt(e,r)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(r)&&!cs(e,r)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-i.end<=300?i:null},1==r.touches.length&&(t.activeTouch.left=r.touches[0].pageX,t.activeTouch.top=r.touches[0].pageY)}}),et(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),et(t.scroller,"touchend",function(n){var i=t.activeTouch;if(i&&!xn(t,n)&&null!=i.left&&!i.moved&&new Date-i.start<300){var s,a=e.coordsChar(t.activeTouch,"page");s=!i.prev||o(i,i.prev)?new gr(a,a):!i.prev.prev||o(i,i.prev.prev)?e.findWordAt(a):new gr(me(a.line,0),we(e.doc,me(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),lt(n)}r()}),et(t.scroller,"touchcancel",r),et(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Ti(e,t.scroller.scrollTop),Di(e,t.scroller.scrollLeft,!0),it(e,"scroll",e))}),et(t.scroller,"mousewheel",function(t){return pr(e,t)}),et(t.scroller,"DOMMouseScroll",function(t){return pr(e,t)}),et(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){rt(e,t)||ht(t)},over:function(t){rt(e,t)||(function(e,t){var n=si(e,t);if(n){var i=document.createDocumentFragment();ui(e,n,i),e.display.dragCursor||(e.display.dragCursor=T("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),A(e.display.dragCursor,i)}}(e,t),ht(t))},start:function(t){return function(e,t){if(s&&(!e.state.draggingText||+new Date-Co<100))ht(t);else if(!rt(e,t)&&!xn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!d)){var n=T("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),h&&n.parentNode.removeChild(n)}}(e,t)},drop:Yi(e,ko),leave:function(t){rt(e,t)||Eo(e)}};var l=t.input.getField();et(l,"keyup",function(t){return ts.call(e,t)}),et(l,"keydown",Yi(e,es)),et(l,"keypress",Yi(e,ns)),et(l,"focus",function(t){return gi(e,t)}),et(l,"blur",function(t){return vi(e,t)})}(this),function(){var e;Ao||(et(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Mo(To)},100))}),et(window,"blur",function(){return Mo(vi)}),Ao=!0)}(),Xi(this),this.curOp.forceUpdate=!0,Ar(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout(O(gi,this),20):vi(this),ps)ps.hasOwnProperty(u)&&ps[u](i,t[u],ds);wi(this),t.finishInit&&t.finishInit(this);for(var f=0;f<bs.length;++f)bs[f](i);zi(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(c.lineDiv).textRendering&&(c.lineDiv.style.textRendering="auto")}ys.defaults=fs,ys.optionHandlers=ps;var bs=[];function _s(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=Ft(e,t).state:n="prev");var s=e.options.tabSize,a=ae(o,t),l=j(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&((c=o.mode.indent(r,a.text.slice(u.length),a.text))==H||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?j(ae(o,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var h="",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/s);f;--f)d+=s,h+="\t";if(d<c&&(h+=q(c-d)),h!=u)return so(o,h,me(t,0),me(t,u.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==t&&m.head.ch<u.length){var g=me(t,u.length);Hr(o,p,new gr(g,g));break}}}ys.defineInitHook=function(e){return bs.push(e)};var xs=null;function ws(e){xs=e}function Ss(e,t,n,i,r){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var s,a=e.state.pasteIncoming||"paste"==r,l=_t(t),c=null;if(a&&i.ranges.length>1)if(xs&&xs.text.join("\n")==t){if(i.ranges.length%xs.text.length==0){c=[];for(var u=0;u<xs.text.length;u++)c.push(o.splitLines(xs.text[u]))}}else l.length==i.ranges.length&&e.options.pasteLinesPerSelection&&(c=Q(l,function(e){return[e]}));for(var h=i.ranges.length-1;h>=0;h--){var d=i.ranges[h],f=d.from(),p=d.to();d.empty()&&(n&&n>0?f=me(f.line,f.ch-n):e.state.overwrite&&!a?p=me(p.line,Math.min(ae(o,p.line).text.length,p.ch+V(l).length)):xs&&xs.lineWise&&xs.text.join("\n")==t&&(f=p=me(f.line,0))),s=e.curOp.updateInput;var m={from:f,to:p,text:c?c[h%c.length]:l,origin:r||(a?"paste":e.state.cutIncoming?"cut":"+input")};to(e.doc,m),an(e,"inputRead",e,m)}t&&!a&&ks(e,t),ki(e),e.curOp.updateInput=s,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Cs(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Gi(t,function(){return Ss(t,n,0,null,"paste")}),!0}function ks(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=_s(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(ae(e.doc,r.head.line).text.slice(0,r.head.ch))&&(s=_s(e,r.head.line,"smart"));s&&an(e,"electricInput",e,r.head.line)}}}function Es(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:me(r,0),head:me(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Ms(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function As(){var e=T("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=T("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ms(e),t}function Ts(e,t,n,i,r){var o=t,s=n,a=ae(e,t.line);function l(i){var o,s;if(null==(o=r?function(e,t,n,i){var r=$e(t,e.doc.direction);if(!r)return Uo(t,n,i);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=Qe(r,n.ch,n.sticky),s=r[o];if("ltr"==e.doc.direction&&s.level%2==0&&(i>0?s.to>n.ch:s.from<n.ch))return Uo(t,n,i);var a,l=function(e,n){return Ho(t,e instanceof me?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(a=a||Dn(e,t),Zn(e,t,a,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==s.level){var h=1==s.level==i<0,d=l(n,h?1:-1);if(null!=d&&(h?d<=s.to&&d<=u.end:d>=s.from&&d>=u.begin)){var f=h?"before":"after";return new me(n.line,d,f)}}var p=function(e,t,i){for(var o=function(e,t){return t?new me(n.line,l(e,1),"before"):new me(n.line,e,"after")};e>=0&&e<r.length;e+=t){var s=r[e],a=t>0==(1!=s.level),c=a?i.begin:l(i.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),i.begin<=c&&c<i.end)return o(c,a)}},m=p(o+i,i,u);if(m)return m;var g=i>0?u.end:l(u.begin,-1);return null==g||i>0&&g==t.text.length||!(m=p(i>0?0:r.length-1,i,c(g)))?null:m}(e.cm,a,t,n):Uo(a,t,n))){if(i||(s=t.line+n)<e.first||s>=e.first+e.size||(t=new me(s,t.ch,t.sticky),!(a=ae(e,s))))return!1;t=Ko(r,e.cm,a,t.line,n)}else t=o;return!0}if("char"==i)l();else if("column"==i)l(!0);else if("word"==i||"group"==i)for(var c=null,u="group"==i,h=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(n<0)||l(!d);d=!1){var f=a.text.charAt(t.ch)||"\n",p=te(f,h)?"w":u&&"\n"==f?"n":!u||/\s/.test(f)?null:"p";if(!u||d||p||(p="s"),c&&c!=p){n<0&&(n=1,l(),t.sticky="after");break}if(p&&(c=p),n>0&&!l(!d))break}var m=Zr(e,t,o,s,!0);return ve(o,m)&&(m.hitSide=!0),m}function Ls(e,t,n,i){var r,o,s=e.doc,a=t.left;if("page"==i){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*ei(e.display),3);r=(n>0?t.bottom:t.top)+n*c}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;(o=Vn(e,a,r)).outside;){if(n<0?r<=0:r>=s.height){o.hitSide=!0;break}r+=5*n}return o}var Ds=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Is(e,t){var n=Ln(e,t.line);if(!n||n.hidden)return null;var i=ae(e.doc,t.line),r=An(n,i,t.line),o=$e(i,e.doc.direction),s="left";o&&(s=Qe(o,t.ch)%2?"right":"left");var a=Nn(r.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Ps(e,t){return t&&(e.bad=!0),e}function Rs(e,t,n){var i;if(t==e.display.lineDiv){if(!(i=e.display.lineDiv.childNodes[n]))return Ps(e.clipPos(me(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return Ns(o,t,n)}}function Ns(e,t,n){var i=e.text.firstChild,r=!1;if(!t||!D(i,t))return Ps(me(he(e.line),0),!0);if(t==i&&(r=!0,t=i.childNodes[n],n=0,!t)){var o=e.rest?V(e.rest):e.line;return Ps(me(he(o),o.text.length),r)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));a.parentNode!=i;)a=a.parentNode;var l=e.measure,c=l.maps;function u(t,n,i){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?l.map:c[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var u=he(r<0?e.line:e.rest[r]),h=o[s]+i;return(i<0||a!=t)&&(h=o[s+(i?1:0)]),me(u,h)}}}var h=u(s,a,n);if(h)return Ps(h,r);for(var d=a.nextSibling,f=s?s.nodeValue.length-n:0;d;d=d.nextSibling){if(h=u(d,d.firstChild,0))return Ps(me(h.line,h.ch-f),r);f+=d.textContent.length}for(var p=a.previousSibling,m=n;p;p=p.previousSibling){if(h=u(p,p.firstChild,-1))return Ps(me(h.line,h.ch+m),r);m+=p.textContent.length}}Ds.prototype.init=function(e){var t=this,n=this,i=n.cm,r=n.div=e.lineDiv;function o(e){if(!rt(i,e)){if(i.somethingSelected())ws({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=Es(i);ws({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,U),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=xs.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var s=As(),a=s.firstChild;i.display.lineSpace.insertBefore(s,i.display.lineSpace.firstChild),a.value=xs.text.join("\n");var l=document.activeElement;N(a),setTimeout(function(){i.display.lineSpace.removeChild(s),l.focus(),l==r&&n.showPrimarySelection()},50)}}Ms(r,i.options.spellcheck),et(r,"paste",function(e){rt(i,e)||Cs(e,i)||a<=11&&setTimeout(Yi(i,function(){return t.updateFromDOM()}),20)}),et(r,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),et(r,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),et(r,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),et(r,"touchstart",function(){return n.forceCompositionEnd()}),et(r,"input",function(){t.composing||t.readFromDOMSoon()}),et(r,"copy",o),et(r,"cut",o)},Ds.prototype.prepareSelection=function(){var e=ci(this.cm,!1);return e.focus=this.cm.state.focused,e},Ds.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ds.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ds.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,i=t.doc.sel.primary(),r=i.from(),o=i.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var s=Rs(t,e.anchorNode,e.anchorOffset),a=Rs(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=ge(_e(s,a),r)||0!=ge(be(s,a),o)){var l=t.display.view,c=r.line>=t.display.viewFrom&&Is(t,r)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Is(t,o);if(!u){var h=l[l.length-1].measure,d=h.maps?h.maps[h.maps.length-1]:h.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(c&&u){var f,p=e.rangeCount&&e.getRangeAt(0);try{f=k(c.node,c.offset,u.offset,u.node)}catch(e){}f&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ds.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ds.prototype.showMultipleSelections=function(e){A(this.cm.display.cursorDiv,e.cursors),A(this.cm.display.selectionDiv,e.selection)},Ds.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ds.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return D(this.div,t)},Ds.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ds.prototype.blur=function(){this.div.blur()},Ds.prototype.getField=function(){return this.div},Ds.prototype.supportsTouch=function(){return!0},Ds.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Gi(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Ds.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ds.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Rs(t,e.anchorNode,e.anchorOffset),i=Rs(t,e.focusNode,e.focusOffset);n&&i&&Gi(t,function(){Wr(t.doc,yr(n,i),U),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}}},Ds.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,i=this.cm,r=i.display,o=i.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>i.firstLine()&&(s=me(s.line-1,ae(i.doc,s.line-1).length)),a.ch==ae(i.doc,a.line).text.length&&a.line<i.lastLine()&&(a=me(a.line+1,0)),s.line<r.viewFrom||a.line>r.viewTo-1)return!1;s.line==r.viewFrom||0==(e=ai(i,s.line))?(t=he(r.view[0].line),n=r.view[0].node):(t=he(r.view[e].line),n=r.view[e-1].node.nextSibling);var l,c,u=ai(i,a.line);if(u==r.view.length-1?(l=r.viewTo-1,c=r.lineDiv.lastChild):(l=he(r.view[u+1].line)-1,c=r.view[u+1].node.previousSibling),!n)return!1;for(var h=i.doc.splitLines(function(e,t,n,i,r){var o="",s=!1,a=e.doc.lineSeparator(),l=!1;function c(){s&&(o+=a,l&&(o+=a),s=l=!1)}function u(e){e&&(c(),o+=e)}function h(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void u(n);var o,d=t.getAttribute("cm-marker");if(d){var f=e.findMarks(me(i,0),me(r+1,0),(g=+d,function(e){return e.id==g}));return void(f.length&&(o=f[0].find(0))&&u(le(e.doc,o.from,o.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;p&&c();for(var m=0;m<t.childNodes.length;m++)h(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),p&&(s=!0)}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;h(t),t!=n;)t=t.nextSibling,l=!1;return o}(i,n,c,t,l)),d=le(i.doc,me(t,0),me(l,ae(i.doc,l).text.length));h.length>1&&d.length>1;)if(V(h)==V(d))h.pop(),d.pop(),l--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),t++}for(var f=0,p=0,m=h[0],g=d[0],v=Math.min(m.length,g.length);f<v&&m.charCodeAt(f)==g.charCodeAt(f);)++f;for(var y=V(h),b=V(d),_=Math.min(y.length-(1==h.length?f:0),b.length-(1==d.length?f:0));p<_&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==h.length&&1==d.length&&t==s.line)for(;f&&f>s.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)f--,p++;h[h.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(f).replace(/\u200b+$/,"");var x=me(t,f),w=me(l,d.length?V(d).length-p:0);return h.length>1||h[0]||ge(x,w)?(so(i.doc,h,x,w,"+input"),!0):void 0},Ds.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ds.prototype.reset=function(){this.forceCompositionEnd()},Ds.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ds.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Ds.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Gi(this.cm,function(){return Qi(e.cm)})},Ds.prototype.setUneditable=function(e){e.contentEditable="false"},Ds.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Yi(this.cm,Ss)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ds.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ds.prototype.onContextMenu=function(){},Ds.prototype.resetPosition=function(){},Ds.prototype.needsContentAttribute=!0;var Os=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.hasSelection=!1,this.composing=null};Os.prototype.init=function(e){var t=this,n=this,i=this.cm;this.createField(e);var r=this.textarea;function o(e){if(!rt(i,e)){if(i.somethingSelected())ws({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=Es(i);ws({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,U):(n.prevInput="",r.value=t.text.join("\n"),N(r))}"cut"==e.type&&(i.state.cutIncoming=!0)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(r.style.width="0px"),et(r,"input",function(){s&&a>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),et(r,"paste",function(e){rt(i,e)||Cs(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),et(r,"cut",o),et(r,"copy",o),et(e.scroller,"paste",function(t){xn(e,t)||rt(i,t)||(i.state.pasteIncoming=!0,n.focus())}),et(e.lineSpace,"selectstart",function(t){xn(e,t)||lt(t)}),et(r,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),et(r,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Os.prototype.createField=function(e){this.wrapper=As(),this.textarea=this.wrapper.firstChild},Os.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,i=ci(e);if(e.options.moveInputWithCursor){var r=Gn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},Os.prototype.showSelection=function(e){var t=this.cm.display;A(t.cursorDiv,e.cursors),A(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Os.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&N(this.textarea),s&&a>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},Os.prototype.getField=function(){return this.textarea},Os.prototype.supportsTouch=function(){return!1},Os.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||I()!=this.textarea))try{this.textarea.focus()}catch(e){}},Os.prototype.blur=function(){this.textarea.blur()},Os.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Os.prototype.receivedFocus=function(){this.slowPoll()},Os.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Os.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))})},Os.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||xt(n)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=n.value;if(r==i&&!t.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===r||y&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||i||(i="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(i.length,r.length);l<c&&i.charCodeAt(l)==r.charCodeAt(l);)++l;return Gi(t,function(){Ss(t,r.slice(l),i.length-l,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Os.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Os.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},Os.prototype.onContextMenu=function(e){var t=this,n=t.cm,i=n.display,r=t.textarea,o=si(n,e),c=i.scroller.scrollTop;if(o&&!h){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Yi(n,Wr)(n.doc,yr(o),U);var u=r.style.cssText,d=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var f,p=t.wrapper.getBoundingClientRect();if(r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(f=window.scrollY),i.input.focus(),l&&window.scrollTo(null,f),i.input.reset(),n.somethingSelected()||(r.value=t.prevInput=" "),t.contextMenuPending=!0,i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll),s&&a>=9&&g(),S){ht(e);var m=function(){nt(window,"mouseup",m),setTimeout(v,20)};et(window,"mouseup",m)}else setTimeout(v,50)}function g(){if(null!=r.selectionStart){var e=n.somethingSelected(),o="​"+(e?r.value:"");r.value="⇚",r.value=o,t.prevInput=e?"":"​",r.selectionStart=1,r.selectionEnd=o.length,i.selForContextMenu=n.doc.sel}}function v(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=d,r.style.cssText=u,s&&a<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=c),null!=r.selectionStart){(!s||s&&a<9)&&g();var e=0,o=function(){i.selForContextMenu==n.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"​"==t.prevInput?Yi(n,Jr)(n):e++<10?i.detectingSelectAll=setTimeout(o,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(o,200)}}},Os.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Os.prototype.setUneditable=function(){},Os.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,i,r,o){e.defaults[n]=i,r&&(t[n]=o?function(e,t,n){n!=ds&&r(e,t,n)}:r)}e.defineOption=n,e.Init=ds,n("value","",function(e,t){return e.setValue(t)},!0),n("mode",null,function(e,t){e.doc.modeOption=t,Sr(e)},!0),n("indentUnit",2,Sr,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){Cr(e),Bn(e),Qi(e)},!0),n("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,n.push(me(i,o))}i++});for(var r=n.length-1;r>=0;r--)so(e.doc,t,n[r],me(n[r].line,n[r].ch+t.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=ds&&e.refresh()}),n("specialCharPlaceholder",Zt,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),n("rtlMoveVisually",!_),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){hs(e),ms(e)},!0),n("keyMap","default",function(e,t,n){var i=Xo(t),r=n!=ds&&Xo(n);r&&r.detach&&r.detach(e,i),i.attach&&i.attach(e,r||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,vs,!0),n("gutters",[],function(e){ur(e.options),ms(e)},!0),n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?ii(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return Ni(e)},!0),n("scrollbarStyle","native",function(e){ji(e),Ni(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e){ur(e.options),ms(e)},!0),n("firstLineNumber",1,ms,!0),n("lineNumberFormatter",function(e){return e},ms,!0),n("showCursorWhenSelecting",!1,li,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("readOnly",!1,function(e,t){"nocursor"==t&&(vi(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),n("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),n("dragDrop",!0,gs),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,li,!0),n("singleCursorHeightPerLine",!0,li,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Cr,!0),n("addModeClass",!1,Cr,!0),n("pollInterval",100),n("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,Cr,!0),n("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),n("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),n("autofocus",null),n("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),n("phrases",null)}(ys),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var i=this.options,r=i[e];i[e]==n&&"mode"!=e||(i[e]=n,t.hasOwnProperty(e)&&Yi(this,t[e])(this,n,r),it(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Xo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:qi(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var i=0,r=n(t);i<e.length&&n(e[i])<=r;)i++;e.splice(i,0,t)}(this.state.overlays,{mode:i,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,Qi(this)}),removeOverlay:qi(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void Qi(this)}}),indentLine:qi(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),fe(this.doc,e)&&_s(this,e,t,n)}),indentSelection:qi(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(_s(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&ki(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)_s(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[i].from().ch>0&&Hr(this.doc,i,new gr(o,c[i].to()),U)}}}),getTokenAt:function(e,t){return Ht(this,e,t)},getLineTokens:function(e,t){return Ht(this,me(e),t,!0)},getTokenTypeAt:function(e){e=we(this.doc,e);var t,n=Ot(this,ae(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}i=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!n.hasOwnProperty(t))return i;var r=n[t],o=this.getModeAt(e);if("string"==typeof o[t])r[o[t]]&&i.push(r[o[t]]);else if(o[t])for(var s=0;s<o[t].length;s++){var a=r[o[t][s]];a&&i.push(a)}else o.helperType&&r[o.helperType]?i.push(r[o.helperType]):r[o.name]&&i.push(r[o.name]);for(var l=0;l<r._global.length;l++){var c=r._global[l];c.pred(o,this)&&-1==X(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(e,t){var n=this.doc;return Ft(this,(e=xe(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Gn(this,null==e?n.head:"object"==typeof e?we(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Wn(this,we(this.doc,e),t||"page")},coordsChar:function(e,t){return Vn(this,(e=Kn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Kn(this,{top:e,left:0},t||"page").top,de(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var i,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),i=ae(this.doc,e)}else i=e;return Un(this,i,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-Ge(i):0)},defaultTextHeight:function(){return ei(this.display)},defaultCharWidth:function(){return ti(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o,s,a=this.display,l=(e=Gn(this,we(this.doc,e))).bottom,c=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),a.sizer.appendChild(t),"over"==i)l=e.top;else if("above"==i||"near"==i){var u=Math.max(a.wrapper.clientHeight,this.doc.height),h=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(l=e.bottom),c+t.offsetWidth>h&&(c=h-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==r?(c=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?c=0:"middle"==r&&(c=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=c+"px"),n&&(null!=(s=Si(o=this,{left:c,top:l,right:c+t.offsetWidth,bottom:l+t.offsetHeight})).scrollTop&&Ti(o,s.scrollTop),null!=s.scrollLeft&&Di(o,s.scrollLeft))},triggerOnKeyDown:qi(es),triggerOnKeyPress:qi(ns),triggerOnKeyUp:ts,triggerOnMouseDown:qi(ss),execCommand:function(e){if(Wo.hasOwnProperty(e))return Wo[e].call(null,this)},triggerElectric:qi(function(e){ks(this,e)}),findPosH:function(e,t,n,i){var r=1;t<0&&(r=-1,t=-t);for(var o=we(this.doc,e),s=0;s<t&&!(o=Ts(this.doc,o,r,n,i)).hitSide;++s);return o},moveH:qi(function(e,t){var n=this;this.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Ts(n.doc,i.head,e,t,n.options.rtlMoveVisually):e<0?i.from():i.to()},W)}),deleteH:qi(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):zo(this,function(n){var r=Ts(i,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,o=i;t<0&&(r=-1,t=-t);for(var s=we(this.doc,e),a=0;a<t;++a){var l=Gn(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Ls(this,l,r,n)).hitSide)break}return s},moveV:qi(function(e,t){var n=this,i=this.doc,r=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return e<0?s.from():s.to();var a=Gn(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Ls(n,a,e,t);return"page"==t&&s==i.sel.primary()&&Ci(n,Wn(n,l,"div").top-a.top),l},W),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(e){var t=ae(this.doc,e.line).text,n=e.ch,i=e.ch;if(t){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=t.length||!n?++i:--n;for(var o=t.charAt(n),s=te(o,r)?function(e){return te(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};n>0&&s(t.charAt(n-1));)--n;for(;i<t.length&&s(t.charAt(i));)++i}return new gr(me(e.line,n),me(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?P(this.display.cursorDiv,"CodeMirror-overwrite"):E(this.display.cursorDiv,"CodeMirror-overwrite"),it(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==I()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:qi(function(e,t){Ei(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-kn(this)-this.display.barHeight,width:e.scrollWidth-kn(this)-this.display.barWidth,clientHeight:Mn(this),clientWidth:En(this)}},scrollIntoView:qi(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:me(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Mi(e),e.curOp.scrollToPos=t}(this,e):Ai(this,e.from,e.to,e.margin)}),setSize:qi(function(e,t){var n=this,i=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.options.lineWrapping&&jn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Zi(n,r,"widget");break}++r}),this.curOp.forceUpdate=!0,it(this,"refresh",this)}),operation:function(e){return Gi(this,e)},startOperation:function(){return Xi(this)},endOperation:function(){return zi(this)},refresh:qi(function(){var e=this.display.cachedTextHeight;Qi(this),this.curOp.forceUpdate=!0,Bn(this),Ei(this,this.doc.scrollLeft,this.doc.scrollTop),ar(this),(null==e||Math.abs(e-ei(this.display))>.5)&&oi(this),it(this,"refresh",this)}),swapDoc:qi(function(e){var t=this.doc;return t.cm=null,Ar(this,e),Bn(this),this.display.input.reset(),Ei(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,an(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},at(e),e.registerHelper=function(t,i,r){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][i]=r},e.registerGlobalHelper=function(t,i,r,o){e.registerHelper(t,i,o),n[t]._global.push({pred:r,val:o})}}(ys);var Fs,js="iter insert remove copy getEditor constructor".split(" ");for(var Bs in So.prototype)So.prototype.hasOwnProperty(Bs)&&X(js,Bs)<0&&(ys.prototype[Bs]=function(e){return function(){return e.apply(this.doc,arguments)}}(So.prototype[Bs]));return at(So),ys.inputStyles={textarea:Os,contenteditable:Ds},ys.defineMode=function(e){ys.defaults.mode||"null"==e||(ys.defaults.mode=e),function(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ct[e]=t}.apply(this,arguments)},ys.defineMIME=function(e,t){kt[e]=t},ys.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),ys.defineMIME("text/plain","null"),ys.defineExtension=function(e,t){ys.prototype[e]=t},ys.defineDocExtension=function(e,t){So.prototype[e]=t},ys.fromTextArea=function(e,t){if((t=t?F(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=I();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function i(){e.value=a.getValue()}var r;if(e.form&&(et(e.form,"submit",i),!t.leaveSubmitMethodAlone)){var o=e.form;r=o.submit;try{var s=o.submit=function(){i(),o.submit=r,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(t){t.save=i,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,i(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(nt(e.form,"submit",i),"function"==typeof e.form.submit&&(e.form.submit=r))}},e.style.display="none";var a=ys(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a},(Fs=ys).off=nt,Fs.on=et,Fs.wheelEventPixels=function(e){var t=fr(e);return t.x*=dr,t.y*=dr,t},Fs.Doc=So,Fs.splitLines=_t,Fs.countColumn=j,Fs.findColumn=G,Fs.isWordChar=ee,Fs.Pass=H,Fs.signal=it,Fs.Line=Wt,Fs.changeEnd=br,Fs.scrollbarModel=Fi,Fs.Pos=me,Fs.cmpPos=ge,Fs.modes=Ct,Fs.mimeModes=kt,Fs.resolveMode=Et,Fs.getMode=Mt,Fs.modeExtensions=At,Fs.extendMode=function(e,t){F(t,At.hasOwnProperty(e)?At[e]:At[e]={})},Fs.copyState=Tt,Fs.startState=Dt,Fs.innerMode=Lt,Fs.commands=Wo,Fs.keyMap=Ro,Fs.keyName=Bo,Fs.isModifierKey=Fo,Fs.lookupKey=Oo,Fs.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=Q(n.split(" "),No),o=0;o<r.length;o++){var s=void 0,a=void 0;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var c in t)e[c]=t[c];return e},Fs.StringStream=It,Fs.SharedTextMarker=bo,Fs.TextMarker=vo,Fs.LineWidget=po,Fs.e_preventDefault=lt,Fs.e_stopPropagation=ct,Fs.e_stop=ht,Fs.addClass=P,Fs.contains=D,Fs.rmClass=E,Fs.keyNames=Lo,ys.version="5.40.0",ys},e.exports=i()},function(e,t,n){"use strict";(function(t){var i=n(0),r=n(39),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,l={adapter:("undefined"!=typeof XMLHttpRequest?a=n(9):void 0!==t&&(a=n(9)),a),transformRequest:[function(e,t){return r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(e){l.headers[e]={}}),i.forEach(["post","put","patch"],function(e){l.headers[e]=i.merge(o)}),e.exports=l}).call(t,n(38))},function(e,t,n){(function(t){(function(){var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:c,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:c,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:c,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function n(e){this.tokens=[],this.tokens.links={},this.options=e||h.defaults,this.rules=t.normal,this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}t.bullet=/(?:[*+-]|\d+\.)/,t.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,t.item=l(t.item,"gm")(/bull/g,t.bullet)(),t.list=l(t.list)(/bull/g,t.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+t.def.source+")")(),t.blockquote=l(t.blockquote)("def",t.def)(),t._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",t.html=l(t.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,t._tag)(),t.paragraph=l(t.paragraph)("hr",t.hr)("heading",t.heading)("lheading",t.lheading)("blockquote",t.blockquote)("tag","<"+t._tag)("def",t.def)(),t.normal=u({},t),t.gfm=u({},t.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),t.gfm.paragraph=l(t.paragraph)("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|")(),t.tables=u({},t.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),n.rules=t,n.lex=function(e,t){return new n(t).lex(e)},n.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},n.prototype.token=function(e,n,i){var r,o,s,a,l,c,u,h,d;for(e=e.replace(/^ +$/gm,"");e;)if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(e))e=e.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?s:s.replace(/\n+$/,"")});else if(s=this.rules.fences.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"code",lang:s[2],text:s[3]||""});else if(s=this.rules.heading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if(n&&(s=this.rules.nptable.exec(e))){for(e=e.substring(s[0].length),c={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")},h=0;h<c.align.length;h++)/^ *-+: *$/.test(c.align[h])?c.align[h]="right":/^ *:-+: *$/.test(c.align[h])?c.align[h]="center":/^ *:-+ *$/.test(c.align[h])?c.align[h]="left":c.align[h]=null;for(h=0;h<c.cells.length;h++)c.cells[h]=c.cells[h].split(/ *\| */);this.tokens.push(c)}else if(s=this.rules.lheading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]});else if(s=this.rules.hr.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,n,!0),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),a=s[2],this.tokens.push({type:"list_start",ordered:a.length>1}),r=!1,d=(s=s[0].match(this.rules.item)).length,h=0;h<d;h++)u=(c=s[h]).length,~(c=c.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&h!==d-1&&(a===(l=t.bullet.exec(s[h+1])[0])||a.length>1&&l.length>1||(e=s.slice(h+1).join("\n")+e,h=d-1)),o=r||/\n\n(?!\s*$)/.test(c),h!==d-1&&(r="\n"===c.charAt(c.length-1),o||(o=r)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(c,!1,i),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(e))e=e.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:s[0]});else if(!i&&n&&(s=this.rules.def.exec(e)))e=e.substring(s[0].length),this.tokens.links[s[1].toLowerCase()]={href:s[2],title:s[3]};else if(n&&(s=this.rules.table.exec(e))){for(e=e.substring(s[0].length),c={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")},h=0;h<c.align.length;h++)/^ *-+: *$/.test(c.align[h])?c.align[h]="right":/^ *:-+: *$/.test(c.align[h])?c.align[h]="center":/^ *:-+ *$/.test(c.align[h])?c.align[h]="left":c.align[h]=null;for(h=0;h<c.cells.length;h++)c.cells[h]=c.cells[h].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(n&&(s=this.rules.paragraph.exec(e)))e=e.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var i={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:c,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:c,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,katex:/^\@\@(.*)\@\@$/,katexLine:/\@\@(.*)\@\@/g};function r(e,t){if(this.options=t||h.defaults,this.links=e,this.rules=i.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=i.breaks:this.rules=i.gfm:this.options.pedantic&&(this.rules=i.pedantic)}function o(e){this.options=e||{}}function s(e){this.tokens=[],this.token=null,this.options=e||h.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e,t){return e=e.source,t=t||"",function n(i,r){return i?(r=(r=r.source||r).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,r),n):new RegExp(e,t)}}function c(){}function u(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function h(e,t,i){if(i||"function"==typeof t){i||(i=t,t=null);var r,o,l=(t=u({},h.defaults,t||{})).highlight,c=0;try{r=n.lex(e,t)}catch(e){return i(e)}o=r.length;var d=function(e){if(e)return t.highlight=l,i(e);var n;try{n=s.parse(r,t)}catch(t){e=t}return t.highlight=l,e?i(e):i(null,n)};if(!l||l.length<3)return d();if(delete t.highlight,!o)return d();for(;c<r.length;c++)!function(e){"code"!==e.type?--o||d():l(e.text,e.lang,function(t,n){return t?d(t):null==n||n===e.text?--o||d():(e.text=n,e.escaped=!0,void(--o||d()))})}(r[c])}else try{return t&&(t=u({},h.defaults,t)),s.parse(n.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(t||h.defaults).silent)return"<p>An error occured:</p><pre>"+a(e.message+"",!0)+"</pre>";throw e}}i._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,i._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,i.link=l(i.link)("inside",i._inside)("href",i._href)(),i.reflink=l(i.reflink)("inside",i._inside)(),i.normal=u({},i),i.pedantic=u({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),i.gfm=u({},i.normal,{escape:l(i.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(i.text)("]|","~]|")("|","|https?://|")()}),i.breaks=u({},i.gfm,{br:l(i.br)("{2,}","*")(),text:l(i.gfm.text)("{2,}","*")()}),r.rules=i,r.output=function(e,t,n){return new r(t,n).output(e)},r.prototype.output=function(e){for(var t,n,i,r,o="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),o+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),"@"===r[2]?(n=":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1]),i=this.mangle("mailto:")+n):i=n=a(r[1]),o+=this.renderer.link(i,null,n);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):a(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,o+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){o+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),o+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),o+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(e))if(e.indexOf("```")>=0){let t="";e.indexOf("math")>=0&&(t="math"),e.indexOf("katex")>=0&&(t="katex"),e.indexOf("latex")>=0&&(t="latex"),t?(e=e.substring(r[0].length),o+=this.renderer.code(r[2].split(t)[1],t)):(e=e.substring(r[0].length),o+=this.renderer.codespan(a(r[2],!0)))}else e=e.substring(r[0].length),o+=this.renderer.codespan(a(r[2],!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),o+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),o+=this.renderer.del(this.output(r[1]));else if(r=this.rules.katex.exec(e))e=e.substring(r[0].length),o+=this.renderer.paragraph(r[0]);else if(r=this.rules.katexLine.exec(e))o+=this.renderer.katexLine(e.substring(0,r.index+r[0].length)),e=e.substring(r.index+r[0].length);else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),o+=this.renderer.text(a(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(r[0].length),i=n=a(r[1]),o+=this.renderer.link(i,null,n);return o},r.prototype.outputLink=function(e,t){var n=a(t.href),i=t.title?a(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,a(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},r.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,r=0;r<i;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},o.prototype.code=function(e,t,n){if("math"===t||"latex"===t||"katex"===t){e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">");try{var i=katex.renderToString(e)}catch(t){i=e}return'<p class="marked-katex">'+i+"</p>"}if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+a(t,!0)+'">'+(n?e:a(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:a(e,!0))+"\n</code></pre>"},o.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},o.prototype.html=function(e){return e},o.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},o.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},o.prototype.paragraph=function(e){var t=/^\@\@(.*)\@\@$/.test(e),n=/\@\@(.*)\@\@/g.test(e);if(!t&&n)return"<p>"+(e=e.replace(/(\@\@([^\@]*)\@\@)+/g,function(e,t){t=t.replace(/\@/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">");try{var n=katex.renderToString(t)}catch(t){n=e}return'<span class="marked-katex">'+n+"</span>"}))+"</p>\n";if(t){e=(e=t?e.replace(/\@/g,""):e).replace(/&lt;/g,"<").replace(/&gt;/g,">");try{var i=katex.renderToString(e)}catch(t){i=e}return'<p class="marked-katex">'+i+"</p>\n"}return"<p>"+e+"</p>\n"},o.prototype.katexLine=function(e){return/\@\@(.*)\@\@/g.test(e)?e=e.replace(/(\@\@([^\@]*)\@\@)+/g,function(e,t){t=t.replace(/\@/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">");try{var n=katex.renderToString(t)}catch(t){n=e}return'<span class="marked-katex">'+n+"</span>"}):e},o.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},o.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},o.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},o.prototype.strong=function(e){return"<strong>"+e+"</strong>"},o.prototype.em=function(e){return"<em>"+e+"</em>"},o.prototype.codespan=function(e){return"<code>"+e+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(e){return"<del>"+e+"</del>"},o.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent((r=e,r.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var r,o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+">"+n+"</a>"},o.prototype.image=function(e,t,n){var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+(this.options.xhtml?"/>":">")},o.prototype.text=function(e){return e},s.parse=function(e,t,n){return new s(t,n).parse(e)},s.prototype.parse=function(e){this.inline=new r(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},s.prototype.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},s.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r="",o="";for(n="",e=0;e<this.token.header.length;e++)this.token.align[e],n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},c.exec=c,h.options=h.setOptions=function(e){return u(h.defaults,e),h},h.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o,xhtml:!1},h.Parser=s,h.parser=s.parse,h.Renderer=o,h.Lexer=n,h.lexer=n.lex,h.InlineLexer=r,h.inlineLexer=r.output,h.parse=h,e.exports=h}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(t,n(15))},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t,n){var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r=n(27),o={},s=i&&(document.head||document.getElementsByTagName("head")[0]),a=null,l=0,c=!1,u=function(){},h=null,d="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e){for(var t=0;t<e.length;t++){var n=e[t],i=o[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(g(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var s=[];for(r=0;r<n.parts.length;r++)s.push(g(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:s}}}}function m(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function g(e){var t,n,i=document.querySelector("style["+d+'~="'+e.id+'"]');if(i){if(c)return u;i.parentNode.removeChild(i)}if(f){var r=l++;i=a||(a=m()),t=b.bind(null,i,r,!1),n=b.bind(null,i,r,!0)}else i=m(),t=function(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),h.ssrId&&e.setAttribute(d,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}e.exports=function(e,t,n,i){c=n,h=i||{};var s=r(e,t);return p(s),function(t){for(var n=[],i=0;i<s.length;i++){var a=s[i];(l=o[a.id]).refs--,n.push(l)}for(t?p(s=r(e,t)):s=[],i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete o[l.id]}}}};var v,y=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function b(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}},function(e,t,n){"use strict";var i=n(31),r=n.n(i),o=n(7),s=n(13);t.a={watch:{"config.id"(){this.initValue()}},data(){return{markdown:{value:""},videoButtonId:`pick_${((new Date).getTime()+"").slice(7)}`,videoUploader:null,videoParams:{fileMd5:"",ext:"mp4",size:0,path:"",loading:!1,status:"请选择文件进行上传",disabled:!1},videoBar:{name:"video",action:e=>{this.showVideoModal=!0},className:"iconfont icon-filevideo upload-video",title:"video"},showVideoModal:!1,toolbars:["bold","italic","strikethrough","heading","heading-smaller","heading-bigger",{name:"graphics",action:function(e){var t=e.codemirror;t.replaceSelection('<div class="img-graphics">'),t.execCommand("newlineAndIndent"),t.replaceSelection('<img src="图片路径" style="height: 图片高度;">'),t.execCommand("newlineAndIndent"),t.replaceSelection("在此输入并排文字内容"),t.execCommand("newlineAndIndent"),t.replaceSelection("</div>")},className:"iconfont icon-tuwen",title:"插入图文并排"},"code","link","image","preview","side-by-side","fullscreen","guide",{name:"ip",action:function(e){var t=e.codemirror;t.replaceSelection('<ip name="在此输入name" network="在此输入network">'),t.replaceSelection("在此输入ip地址"),t.replaceSelection("</ip>")},className:"iconfont icon-ip",title:"ip"}]}},props:{config:{type:Object,default:()=>({id:"markdown-instance",showToolBar:!0,uploadVideoUrl:"/manage/asset/chunkupload",pasteImageUrl:"",eventType:""})},value:{type:String,default:""},placeholder:{type:String,default:"请输入文本信息"}},mounted(){this.getMarkdownInstance()},methods:{getMarkdownInstance(){this.initValue(this.value),this.initMarkdown(),this.getVideoUploader()},initValue(e){this.markdown.value=e,this.MarkdownInstance&&this.MarkdownInstance.value(e)},closeVideoModal(){this.showVideoModal=!1},getVideoUploader(){if(!this.config.uploadVideoUrl)return;const e={runtimes:"html5,flash,html4",browse_button:this.videoButtonId,url:this.config.uploadVideoUrl,flash_swf_url:"/plugins/plupload/js/Moxie.swf",chunk_size:"1mb",auto_start:!0,multi_selection:!1,filters:{mime_types:[{title:"Video files",extensions:"mp4"}]},init:{FilesAdded:(e,t)=>{this.uploadVideo(),this.videoParams.status='<i class="ivu-load-loop ivu-icon ivu-icon-load-c" style="margin-right:5px;"></i>文件正在上传，请稍后。。。'},BeforeUpload:(e,t)=>{this.videoParams.loading=!0,this.videoParams.size=t.size,this.videoParams.ext=t.ext;const n=this.bytesToSize(t.size);if(~n.indexOf("GB")&&parseFloat(n)>=20)return this.videoParams.status="文件大小超过最大限制20GB, 请重新选择文件",this.videoParams.disabled=!1,!1;this.videoParams.disabled=!0},FileUploaded:(e,t,n)=>{const i=JSON.parse(n.response).data.path;this.videoParams.loading=!1,this.videoParams.disabled=!1,this.videoParams.status="文件上传成功，请根据情况调整宽高",this.videoParams.path=i;var r=this.MarkdownInstance.codemirror,o=`<source src="${this.videoParams.path}" type="video/mp4">`;r.replaceSelection('<video width="100%" height="" controls>'),r.replaceSelection(o),r.replaceSelection("</video>"),setTimeout(()=>{this.showVideoModal=!1,this.videoParams.status="请选择文件进行上传"},500)},Error:(e,t,n)=>{this.videoParams.status="视频上传失败，请重试",this.videoParams.loading=!1,this.videoParams.status="文件上传失败，请重试",this.videoParams.disabled=!1}}};this.videoUploader=new r.a.Uploader(e),this.videoUploader.init()},uploadVideo(){this.videoUploader&&this.videoUploader.start()},bytesToSize(e){if(0===e)return"0 B";var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(2)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]},initMarkdown(){const e=this.config.id,t={element:document.querySelector(`#${e} textarea`),autofocus:!1,autosave:{enabled:!0,uniqueId:"MyUniqueID",delay:0},toolbar:(()=>!1!==this.config.showToolBar&&(this.config.uploadVideoUrl?[...this.toolbars,this.videoBar]:this.toolbars))(),autoDownloadFontAwesome:!1,spellChecker:!1,status:!1};this.MarkdownInstance=new s.a(t),this.MarkdownInstance.value(this.markdown.value),this.config.pasteImageUrl&&Object(o.a)(this.MarkdownInstance.codemirror,this.config.pasteImageUrl);const n=document.querySelector(`#${e} .CodeMirror-scroll`),i=document.querySelector(`#${e} .CodeMirror-sizer`),r=document.querySelector(`#${e} .CodeMirror-vscrollbar`);n.className="CodeMirror-scroll overflow-hidden",setTimeout(function(){"none"!==r.style.display&&(n.className="CodeMirror-scroll")},20),this.MarkdownInstance.codemirror.on("change",()=>{this.markdown.value=this.MarkdownInstance.value(),this.eventType?this.$emit(`${this.eventType}-change`,this.markdown.value):this.$emit("on-change",this.markdown.value),setTimeout(function(){i.clientHeight>n.clientHeight?n.className="CodeMirror-scroll":n.className="CodeMirror-scroll overflow-hidden"},20)})}}}},function(e,t,n){"use strict";var i=n(32);const r=(e,t,n)=>{var r=new FormData;r.append("image",t),((e,t)=>Object(i.a)("post",e,t))(e,r).then(e=>{n(e)}).catch(e=>{413===e.status?n("上传图片过大，上传失败!"):500===e.status?n("图片上传失败!"):n("图片上传失败， 请重试")})};t.a=((e,t)=>{e.on("paste",function(n,i){i.preventDefault(),((e,t)=>{for(var n=!1,i=null,r=[],o=0;o<e.clipboardData.items.length;o++){var s=e.clipboardData.items[o];"string"===s.kind&&s.getAsString(function(e){-1!==e.indexOf("<html xmlns")?n=!0:-1!==e.indexOf("{\\rtf1\\")?n=!0:-1!==e.indexOf("<meta")?n=!0:r.push(e)}),"file"===s.kind&&(i=s.getAsFile())}var a=setTimeout(function(){t(n,i,r.join("")),clearTimeout(a)},300)})(i,function(n,i,o){i&&!n?r(t,i,function(t){t.data.path?e.replaceSelection("![]("+t.data.path+")"):e.replaceSelection(data)}):e.replaceSelection(o)})})})},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},function(e,t,n){"use strict";var i=n(0),r=n(40),o=n(42),s=n(43),a=n(44),l=n(10),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(45);e.exports=function(e){return new Promise(function(t,u){var h=e.data,d=e.headers;i.isFormData(h)&&delete d["Content-Type"];var f=new XMLHttpRequest,p="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||a(e.url)||(f=new window.XDomainRequest,p="onload",m=!0,f.onprogress=function(){},f.ontimeout=function(){}),e.auth){var g=e.auth.username||"",v=e.auth.password||"";d.Authorization="Basic "+c(g+":"+v)}if(f.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f[p]=function(){if(f&&(4===f.readyState||m)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:e,request:f};r(t,u,i),f=null}},f.onerror=function(){u(l("Network Error",e,null,f)),f=null},f.ontimeout=function(){u(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var y=n(46),b=(e.withCredentials||a(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in f&&i.forEach(d,function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),u(e),f=null)}),void 0===h&&(h=null),f.send(h)})}},function(e,t,n){"use strict";var i=n(41);e.exports=function(e,t,n,r,o){var s=new Error(e);return i(s,t,n,r,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},function(e,t,n){"use strict";var i=n(14),r=n.n(i),o=n(3),s=(n.n(o),n(54)),a=n.n(s),l=n(19),c=(n.n(l),n(20)),u=(n.n(c),n(21)),h=(n.n(u),n(69)),d=(n.n(h),n(70));n.n(d),window.katex=r.a,t.a=a.a},function(e,t,n){var i;"undefined"!=typeof self&&self,i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){},,function(e,t,n){"use strict";n.r(t),n(1);var i=n(0),r=n.n(i),o=function(){function e(t,n,i){r()(this,e),this.lexer=t,this.start=n,this.end=i}return e.range=function(t,n){return n?t&&t.loc&&n.loc&&t.loc.lexer===n.loc.lexer?new e(t.loc.lexer,t.loc.start,n.loc.end):null:t&&t.loc},e}(),s=function(){function e(t,n){r()(this,e),this.text=t,this.loc=n}return e.prototype.range=function(t,n){return new e(n,o.range(this,t))},e}(),a=function e(t,n){r()(this,e);var i="KaTeX parse error: "+t,o=void 0,s=n&&n.loc;if(s&&s.start<=s.end){var a=s.lexer.input;o=s.start;var l=s.end;o===a.length?i+=" at end of input: ":i+=" at position "+(o+1)+": ";var c=a.slice(o,l).replace(/[^]/g,"$&̲");i+=(o>15?"…"+a.slice(o-15,o):a.slice(0,o))+c+(l+15<a.length?a.slice(l,l+15)+"…":a.slice(l))}var u=new Error(i);return u.name="ParseError",u.__proto__=e.prototype,u.position=o,u};a.prototype.__proto__=Error.prototype;var l=a,c=/([A-Z])/g,u={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},h=/[&><"']/g,d=function e(t){return"ordgroup"===t.type?1===t.body.length?e(t.body[0]):t:"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},f=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},p={contains:function(e,t){return-1!==e.indexOf(t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(h,function(e){return u[e]})},hyphenate:function(e){return e.replace(c,"-$1").toLowerCase()},getBaseElem:d,isCharacterBox:function(e){var t=d(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type}},m=function(){function e(t){r()(this,e),t=t||{},this.displayMode=p.deflt(t.displayMode,!1),this.throwOnError=p.deflt(t.throwOnError,!0),this.errorColor=p.deflt(t.errorColor,"#cc0000"),this.macros=t.macros||{},this.colorIsTextColor=p.deflt(t.colorIsTextColor,!1),this.strict=p.deflt(t.strict,"warn"),this.maxSize=Math.max(0,p.deflt(t.maxSize,1/0)),this.maxExpand=Math.max(0,p.deflt(t.maxExpand,1e3)),this.allowedProtocols=p.deflt(t.allowedProtocols,["http","https","mailto","_relative"])}return e.prototype.reportNonstrict=function(e,t,n){var i=this.strict;if("function"==typeof i&&(i=i(e,t,n)),i&&"ignore"!==i){if(!0===i||"error"===i)throw new l("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",n);"warn"===i?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+t+" ["+e+"]")}},e.prototype.useStrictBehavior=function(e,t,n){var i=this.strict;if("function"==typeof i)try{i=i(e,t,n)}catch(e){i="error"}return!(!i||"ignore"===i||!0!==i&&"error"!==i&&("warn"===i?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+t+" ["+e+"]"),1)))},e}(),g=function(){function e(t,n,i){r()(this,e),this.id=t,this.size=n,this.cramped=i}return e.prototype.sup=function(){return v[y[this.id]]},e.prototype.sub=function(){return v[b[this.id]]},e.prototype.fracNum=function(){return v[_[this.id]]},e.prototype.fracDen=function(){return v[x[this.id]]},e.prototype.cramp=function(){return v[w[this.id]]},e.prototype.text=function(){return v[S[this.id]]},e.prototype.isTight=function(){return this.size>=2},e}(),v=[new g(0,0,!1),new g(1,0,!0),new g(2,1,!1),new g(3,1,!0),new g(4,2,!1),new g(5,2,!0),new g(6,3,!1),new g(7,3,!0)],y=[4,5,4,5,6,7,6,7],b=[5,5,5,5,7,7,7,7],_=[2,3,4,5,6,7,6,7],x=[3,3,5,5,7,7,7,7],w=[1,1,3,3,5,5,7,7],S=[0,1,2,3,2,3,2,3],C={DISPLAY:v[0],TEXT:v[2],SCRIPT:v[4],SCRIPTSCRIPT:v[6]},k=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],E=[];function M(e){for(var t=0;t<E.length;t+=2)if(e>=E[t]&&e<=E[t+1])return!0;return!1}k.forEach(function(e){return e.blocks.forEach(function(e){return E.push.apply(E,e)})});var A={path:{sqrtMain:"M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,\n-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,\n-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,\n35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,\n-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467\ns-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422\ns-65,47,-65,47z M834 80H400000v40H845z",sqrtSize1:"M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,\n158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067\nc4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,\n175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71\nc-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,\n-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26\ns76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z",sqrtSize2:"M1001,80H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,\n572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,\n-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39\nc-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60\ns208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,\n-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5c4,-6.7,10,-10,18,-10z\nM1001 80H400000v40H1013z",sqrtSize3:"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z",sqrtSize4:"M473,2793c339.3,-1799.3,509.3,-2700,510,-2702\nc3.3,-7.3,9.3,-11,18,-11H400000v40H1017.7s-90.5,478,-276.2,1466c-185.7,988,\n-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,\n-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200c0,-1.3,-5.3,8.7,-16,30c-10.7,\n21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26s76,-153,76,-153s77,-151,\n77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,606z\nM1001 80H400000v40H1017z",doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 241v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"}},T=function(){function e(t){r()(this,e),this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}return e.prototype.hasClass=function(e){return p.contains(this.classes,e)},e.prototype.tryCombine=function(e){return!1},e.prototype.toNode=function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e},e.prototype.toMarkup=function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e},e.prototype.toText=function(){return this.children.map(function(e){return e.toText()}).join("")},e}(),L=function(e){return e.filter(function(e){return e}).join(" ")},D=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},I=function(e){var t=document.createElement(e);for(var n in t.className=L(this.classes),this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t},P=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+p.escape(L(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=p.hyphenate(i)+":"+this.style[i]+";");for(var r in n&&(t+=' style="'+p.escape(n)+'"'),this.attributes)this.attributes.hasOwnProperty(r)&&(t+=" "+r+'="'+p.escape(this.attributes[r])+'"');t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+"</"+e+">"},R=function(){function e(t,n,i,o){r()(this,e),D.call(this,t,i,o),this.children=n||[]}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.hasClass=function(e){return p.contains(this.classes,e)},e.prototype.tryCombine=function(e){return!1},e.prototype.toNode=function(){return I.call(this,"span")},e.prototype.toMarkup=function(){return P.call(this,"span")},e}(),N=function(){function e(t,n,i,o){r()(this,e),D.call(this,n,o),this.children=i||[],this.setAttribute("href",t)}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.hasClass=function(e){return p.contains(this.classes,e)},e.prototype.tryCombine=function(e){return!1},e.prototype.toNode=function(){return I.call(this,"a")},e.prototype.toMarkup=function(){return P.call(this,"a")},e}(),O={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"},F=function(){function e(t,n,i,o,s,a,l,c){r()(this,e),this.text=t,this.height=n||0,this.depth=i||0,this.italic=o||0,this.skew=s||0,this.width=a||0,this.classes=l||[],this.style=c||{},this.maxFontSize=0;var u=function(e){for(var t=0;t<k.length;t++)for(var n=k[t],i=0;i<n.blocks.length;i++){var r=n.blocks[i];if(e>=r[0]&&e<=r[1])return n.name}return null}(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=O[this.text])}return e.prototype.hasClass=function(e){return p.contains(this.classes,e)},e.prototype.tryCombine=function(t){if(!t||!(t instanceof e)||this.italic>0||L(this.classes)!==L(t.classes)||this.skew!==t.skew||this.maxFontSize!==t.maxFontSize)return!1;for(var n in this.style)if(this.style.hasOwnProperty(n)&&this.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&this.style[i]!==t.style[i])return!1;return this.text+=t.text,this.height=Math.max(this.height,t.height),this.depth=Math.max(this.depth,t.depth),this.italic=t.italic,!0},e.prototype.toNode=function(){var e=document.createTextNode(this.text),t=null;for(var n in this.italic>0&&((t=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((t=t||document.createElement("span")).className=L(this.classes)),this.style)this.style.hasOwnProperty(n)&&((t=t||document.createElement("span")).style[n]=this.style[n]);return t?(t.appendChild(e),t):e},e.prototype.toMarkup=function(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=p.escape(L(this.classes)),t+='"');var n="";for(var i in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(i)&&(n+=p.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,t+=' style="'+p.escape(n)+'"');var r=p.escape(this.text);return e?(t+=">",t+=r,t+="</span>"):r},e}(),j=function(){function e(t,n){r()(this,e),this.children=t||[],this.attributes=n||{}}return e.prototype.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e},e.prototype.toMarkup=function(){var e="<svg";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+"</svg>"},e}(),B=function(){function e(t,n){r()(this,e),this.pathName=t,this.alternate=n}return e.prototype.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",A.path[this.pathName]),e},e.prototype.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+A.path[this.pathName]+"'/>"},e}(),X=function(){function e(t){r()(this,e),this.attributes=t||{}}return e.prototype.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e},e.prototype.toMarkup=function(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+"/>"},e}(),z={"AMS-Regular":{65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473]},"Fraktur-Regular":{33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],824:[.19444,.69444,0,0,0],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444]},"Main-BoldItalic":{33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],163:[0,.69444,0,0,.86853],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],163:[0,.69444,0,0,.76909],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],305:[0,.43056,0,.02778,.32246],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],567:[.19444,.43056,0,.08334,.38403],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],824:[.19444,.69444,0,0,0],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,1],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,.778],8800:[.215,.716,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.744,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.744,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778]},"Math-BoldItalic":{47:[.19444,.69444,0,0,0],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333]},"Math-Italic":{47:[.19444,.69444,0,0,0],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"Math-Regular":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"SansSerif-Bold":{33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212]},"Size1-Regular":{40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},H={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2]},U={"Å":"A","Ç":"C","Ð":"D","Þ":"o","å":"a","ç":"c","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};function K(e,t,n){if(!z[t])throw new Error("Font metrics not found for font: "+t+".");var i=e.charCodeAt(0);e[0]in U&&(i=U[e[0]].charCodeAt(0));var r=z[t][i];if(r||"text"!==n||M(i)&&(r=z[t][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var W={},G={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Y={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},q={math:{},text:{}},V=q;function Q(e,t,n,i,r,o){q[e][r]={font:t,group:n,replace:i},o&&i&&(q[e][i]=q[e][r])}var Z="main",$="ams",J="bin",ee="mathord",te="op-token",ne="rel",ie="spacing";Q("math",Z,ne,"≡","\\equiv",!0),Q("math",Z,ne,"≺","\\prec",!0),Q("math",Z,ne,"≻","\\succ",!0),Q("math",Z,ne,"∼","\\sim",!0),Q("math",Z,ne,"⊥","\\perp"),Q("math",Z,ne,"⪯","\\preceq",!0),Q("math",Z,ne,"⪰","\\succeq",!0),Q("math",Z,ne,"≃","\\simeq",!0),Q("math",Z,ne,"∣","\\mid",!0),Q("math",Z,ne,"≪","\\ll",!0),Q("math",Z,ne,"≫","\\gg",!0),Q("math",Z,ne,"≍","\\asymp",!0),Q("math",Z,ne,"∥","\\parallel"),Q("math",Z,ne,"⋈","\\bowtie",!0),Q("math",Z,ne,"⌣","\\smile",!0),Q("math",Z,ne,"⊑","\\sqsubseteq",!0),Q("math",Z,ne,"⊒","\\sqsupseteq",!0),Q("math",Z,ne,"≐","\\doteq",!0),Q("math",Z,ne,"⌢","\\frown",!0),Q("math",Z,ne,"∋","\\ni",!0),Q("math",Z,ne,"∝","\\propto",!0),Q("math",Z,ne,"⊢","\\vdash",!0),Q("math",Z,ne,"⊣","\\dashv",!0),Q("math",Z,ne,"∋","\\owns"),Q("math",Z,"punct",".","\\ldotp"),Q("math",Z,"punct","⋅","\\cdotp"),Q("math",Z,"textord","#","\\#"),Q("text",Z,"textord","#","\\#"),Q("math",Z,"textord","&","\\&"),Q("text",Z,"textord","&","\\&"),Q("math",Z,"textord","ℵ","\\aleph",!0),Q("math",Z,"textord","∀","\\forall",!0),Q("math",Z,"textord","ℏ","\\hbar",!0),Q("math",Z,"textord","∃","\\exists",!0),Q("math",Z,"textord","∇","\\nabla",!0),Q("math",Z,"textord","♭","\\flat",!0),Q("math",Z,"textord","ℓ","\\ell",!0),Q("math",Z,"textord","♮","\\natural",!0),Q("math",Z,"textord","♣","\\clubsuit",!0),Q("math",Z,"textord","℘","\\wp",!0),Q("math",Z,"textord","♯","\\sharp",!0),Q("math",Z,"textord","♢","\\diamondsuit",!0),Q("math",Z,"textord","ℜ","\\Re",!0),Q("math",Z,"textord","♡","\\heartsuit",!0),Q("math",Z,"textord","ℑ","\\Im",!0),Q("math",Z,"textord","♠","\\spadesuit",!0),Q("text",Z,"textord","§","\\S",!0),Q("text",Z,"textord","¶","\\P",!0),Q("math",Z,"textord","†","\\dag"),Q("text",Z,"textord","†","\\dag"),Q("text",Z,"textord","†","\\textdagger"),Q("math",Z,"textord","‡","\\ddag"),Q("text",Z,"textord","‡","\\ddag"),Q("text",Z,"textord","‡","\\textdaggerdbl"),Q("math",Z,"close","⎱","\\rmoustache",!0),Q("math",Z,"open","⎰","\\lmoustache",!0),Q("math",Z,"close","⟯","\\rgroup",!0),Q("math",Z,"open","⟮","\\lgroup",!0),Q("math",Z,J,"∓","\\mp",!0),Q("math",Z,J,"⊖","\\ominus",!0),Q("math",Z,J,"⊎","\\uplus",!0),Q("math",Z,J,"⊓","\\sqcap",!0),Q("math",Z,J,"∗","\\ast"),Q("math",Z,J,"⊔","\\sqcup",!0),Q("math",Z,J,"◯","\\bigcirc"),Q("math",Z,J,"∙","\\bullet"),Q("math",Z,J,"‡","\\ddagger"),Q("math",Z,J,"≀","\\wr",!0),Q("math",Z,J,"⨿","\\amalg"),Q("math",Z,J,"&","\\And"),Q("math",Z,ne,"⟵","\\longleftarrow",!0),Q("math",Z,ne,"⇐","\\Leftarrow",!0),Q("math",Z,ne,"⟸","\\Longleftarrow",!0),Q("math",Z,ne,"⟶","\\longrightarrow",!0),Q("math",Z,ne,"⇒","\\Rightarrow",!0),Q("math",Z,ne,"⟹","\\Longrightarrow",!0),Q("math",Z,ne,"↔","\\leftrightarrow",!0),Q("math",Z,ne,"⟷","\\longleftrightarrow",!0),Q("math",Z,ne,"⇔","\\Leftrightarrow",!0),Q("math",Z,ne,"⟺","\\Longleftrightarrow",!0),Q("math",Z,ne,"↦","\\mapsto",!0),Q("math",Z,ne,"⟼","\\longmapsto",!0),Q("math",Z,ne,"↗","\\nearrow",!0),Q("math",Z,ne,"↩","\\hookleftarrow",!0),Q("math",Z,ne,"↪","\\hookrightarrow",!0),Q("math",Z,ne,"↘","\\searrow",!0),Q("math",Z,ne,"↼","\\leftharpoonup",!0),Q("math",Z,ne,"⇀","\\rightharpoonup",!0),Q("math",Z,ne,"↙","\\swarrow",!0),Q("math",Z,ne,"↽","\\leftharpoondown",!0),Q("math",Z,ne,"⇁","\\rightharpoondown",!0),Q("math",Z,ne,"↖","\\nwarrow",!0),Q("math",Z,ne,"⇌","\\rightleftharpoons",!0),Q("math",$,ne,"≮","\\nless",!0),Q("math",$,ne,"","\\nleqslant"),Q("math",$,ne,"","\\nleqq"),Q("math",$,ne,"⪇","\\lneq",!0),Q("math",$,ne,"≨","\\lneqq",!0),Q("math",$,ne,"","\\lvertneqq"),Q("math",$,ne,"⋦","\\lnsim",!0),Q("math",$,ne,"⪉","\\lnapprox",!0),Q("math",$,ne,"⊀","\\nprec",!0),Q("math",$,ne,"⋠","\\npreceq",!0),Q("math",$,ne,"⋨","\\precnsim",!0),Q("math",$,ne,"⪹","\\precnapprox",!0),Q("math",$,ne,"≁","\\nsim",!0),Q("math",$,ne,"","\\nshortmid"),Q("math",$,ne,"∤","\\nmid",!0),Q("math",$,ne,"⊬","\\nvdash",!0),Q("math",$,ne,"⊭","\\nvDash",!0),Q("math",$,ne,"⋪","\\ntriangleleft"),Q("math",$,ne,"⋬","\\ntrianglelefteq",!0),Q("math",$,ne,"⊊","\\subsetneq",!0),Q("math",$,ne,"","\\varsubsetneq"),Q("math",$,ne,"⫋","\\subsetneqq",!0),Q("math",$,ne,"","\\varsubsetneqq"),Q("math",$,ne,"≯","\\ngtr",!0),Q("math",$,ne,"","\\ngeqslant"),Q("math",$,ne,"","\\ngeqq"),Q("math",$,ne,"⪈","\\gneq",!0),Q("math",$,ne,"≩","\\gneqq",!0),Q("math",$,ne,"","\\gvertneqq"),Q("math",$,ne,"⋧","\\gnsim",!0),Q("math",$,ne,"⪊","\\gnapprox",!0),Q("math",$,ne,"⊁","\\nsucc",!0),Q("math",$,ne,"⋡","\\nsucceq",!0),Q("math",$,ne,"⋩","\\succnsim",!0),Q("math",$,ne,"⪺","\\succnapprox",!0),Q("math",$,ne,"≆","\\ncong",!0),Q("math",$,ne,"","\\nshortparallel"),Q("math",$,ne,"∦","\\nparallel",!0),Q("math",$,ne,"⊯","\\nVDash",!0),Q("math",$,ne,"⋫","\\ntriangleright"),Q("math",$,ne,"⋭","\\ntrianglerighteq",!0),Q("math",$,ne,"","\\nsupseteqq"),Q("math",$,ne,"⊋","\\supsetneq",!0),Q("math",$,ne,"","\\varsupsetneq"),Q("math",$,ne,"⫌","\\supsetneqq",!0),Q("math",$,ne,"","\\varsupsetneqq"),Q("math",$,ne,"⊮","\\nVdash",!0),Q("math",$,ne,"⪵","\\precneqq",!0),Q("math",$,ne,"⪶","\\succneqq",!0),Q("math",$,ne,"","\\nsubseteqq"),Q("math",$,J,"⊴","\\unlhd"),Q("math",$,J,"⊵","\\unrhd"),Q("math",$,ne,"↚","\\nleftarrow",!0),Q("math",$,ne,"↛","\\nrightarrow",!0),Q("math",$,ne,"⇍","\\nLeftarrow",!0),Q("math",$,ne,"⇏","\\nRightarrow",!0),Q("math",$,ne,"↮","\\nleftrightarrow",!0),Q("math",$,ne,"⇎","\\nLeftrightarrow",!0),Q("math",$,ne,"△","\\vartriangle"),Q("math",$,"textord","ℏ","\\hslash"),Q("math",$,"textord","▽","\\triangledown"),Q("math",$,"textord","◊","\\lozenge"),Q("math",$,"textord","Ⓢ","\\circledS"),Q("math",$,"textord","®","\\circledR"),Q("text",$,"textord","®","\\circledR"),Q("math",$,"textord","∡","\\measuredangle",!0),Q("math",$,"textord","∄","\\nexists"),Q("math",$,"textord","℧","\\mho"),Q("math",$,"textord","Ⅎ","\\Finv",!0),Q("math",$,"textord","⅁","\\Game",!0),Q("math",$,"textord","k","\\Bbbk"),Q("math",$,"textord","‵","\\backprime"),Q("math",$,"textord","▲","\\blacktriangle"),Q("math",$,"textord","▼","\\blacktriangledown"),Q("math",$,"textord","■","\\blacksquare"),Q("math",$,"textord","⧫","\\blacklozenge"),Q("math",$,"textord","★","\\bigstar"),Q("math",$,"textord","∢","\\sphericalangle",!0),Q("math",$,"textord","∁","\\complement",!0),Q("math",$,"textord","ð","\\eth",!0),Q("math",$,"textord","╱","\\diagup"),Q("math",$,"textord","╲","\\diagdown"),Q("math",$,"textord","□","\\square"),Q("math",$,"textord","□","\\Box"),Q("math",$,"textord","◊","\\Diamond"),Q("math",$,"textord","¥","\\yen",!0),Q("text",$,"textord","¥","\\yen",!0),Q("math",$,"textord","✓","\\checkmark",!0),Q("text",$,"textord","✓","\\checkmark"),Q("math",$,"textord","ℶ","\\beth",!0),Q("math",$,"textord","ℸ","\\daleth",!0),Q("math",$,"textord","ℷ","\\gimel",!0),Q("math",$,"textord","ϝ","\\digamma"),Q("math",$,"textord","ϰ","\\varkappa"),Q("math",$,"open","┌","\\ulcorner",!0),Q("math",$,"close","┐","\\urcorner",!0),Q("math",$,"open","└","\\llcorner",!0),Q("math",$,"close","┘","\\lrcorner",!0),Q("math",$,ne,"≦","\\leqq",!0),Q("math",$,ne,"⩽","\\leqslant",!0),Q("math",$,ne,"⪕","\\eqslantless",!0),Q("math",$,ne,"≲","\\lesssim",!0),Q("math",$,ne,"⪅","\\lessapprox",!0),Q("math",$,ne,"≊","\\approxeq",!0),Q("math",$,J,"⋖","\\lessdot"),Q("math",$,ne,"⋘","\\lll",!0),Q("math",$,ne,"≶","\\lessgtr",!0),Q("math",$,ne,"⋚","\\lesseqgtr",!0),Q("math",$,ne,"⪋","\\lesseqqgtr",!0),Q("math",$,ne,"≑","\\doteqdot"),Q("math",$,ne,"≓","\\risingdotseq",!0),Q("math",$,ne,"≒","\\fallingdotseq",!0),Q("math",$,ne,"∽","\\backsim",!0),Q("math",$,ne,"⋍","\\backsimeq",!0),Q("math",$,ne,"⫅","\\subseteqq",!0),Q("math",$,ne,"⋐","\\Subset",!0),Q("math",$,ne,"⊏","\\sqsubset",!0),Q("math",$,ne,"≼","\\preccurlyeq",!0),Q("math",$,ne,"⋞","\\curlyeqprec",!0),Q("math",$,ne,"≾","\\precsim",!0),Q("math",$,ne,"⪷","\\precapprox",!0),Q("math",$,ne,"⊲","\\vartriangleleft"),Q("math",$,ne,"⊴","\\trianglelefteq"),Q("math",$,ne,"⊨","\\vDash",!0),Q("math",$,ne,"⊪","\\Vvdash",!0),Q("math",$,ne,"⌣","\\smallsmile"),Q("math",$,ne,"⌢","\\smallfrown"),Q("math",$,ne,"≏","\\bumpeq",!0),Q("math",$,ne,"≎","\\Bumpeq",!0),Q("math",$,ne,"≧","\\geqq",!0),Q("math",$,ne,"⩾","\\geqslant",!0),Q("math",$,ne,"⪖","\\eqslantgtr",!0),Q("math",$,ne,"≳","\\gtrsim",!0),Q("math",$,ne,"⪆","\\gtrapprox",!0),Q("math",$,J,"⋗","\\gtrdot"),Q("math",$,ne,"⋙","\\ggg",!0),Q("math",$,ne,"≷","\\gtrless",!0),Q("math",$,ne,"⋛","\\gtreqless",!0),Q("math",$,ne,"⪌","\\gtreqqless",!0),Q("math",$,ne,"≖","\\eqcirc",!0),Q("math",$,ne,"≗","\\circeq",!0),Q("math",$,ne,"≜","\\triangleq",!0),Q("math",$,ne,"∼","\\thicksim"),Q("math",$,ne,"≈","\\thickapprox"),Q("math",$,ne,"⫆","\\supseteqq",!0),Q("math",$,ne,"⋑","\\Supset",!0),Q("math",$,ne,"⊐","\\sqsupset",!0),Q("math",$,ne,"≽","\\succcurlyeq",!0),Q("math",$,ne,"⋟","\\curlyeqsucc",!0),Q("math",$,ne,"≿","\\succsim",!0),Q("math",$,ne,"⪸","\\succapprox",!0),Q("math",$,ne,"⊳","\\vartriangleright"),Q("math",$,ne,"⊵","\\trianglerighteq"),Q("math",$,ne,"⊩","\\Vdash",!0),Q("math",$,ne,"∣","\\shortmid"),Q("math",$,ne,"∥","\\shortparallel"),Q("math",$,ne,"≬","\\between",!0),Q("math",$,ne,"⋔","\\pitchfork",!0),Q("math",$,ne,"∝","\\varpropto"),Q("math",$,ne,"◀","\\blacktriangleleft"),Q("math",$,ne,"∴","\\therefore",!0),Q("math",$,ne,"∍","\\backepsilon"),Q("math",$,ne,"▶","\\blacktriangleright"),Q("math",$,ne,"∵","\\because",!0),Q("math",$,ne,"⋘","\\llless"),Q("math",$,ne,"⋙","\\gggtr"),Q("math",$,J,"⊲","\\lhd"),Q("math",$,J,"⊳","\\rhd"),Q("math",$,ne,"≂","\\eqsim",!0),Q("math",Z,ne,"⋈","\\Join"),Q("math",$,ne,"≑","\\Doteq",!0),Q("math",$,J,"∔","\\dotplus",!0),Q("math",$,J,"∖","\\smallsetminus"),Q("math",$,J,"⋒","\\Cap",!0),Q("math",$,J,"⋓","\\Cup",!0),Q("math",$,J,"⩞","\\doublebarwedge",!0),Q("math",$,J,"⊟","\\boxminus",!0),Q("math",$,J,"⊞","\\boxplus",!0),Q("math",$,J,"⋇","\\divideontimes",!0),Q("math",$,J,"⋉","\\ltimes",!0),Q("math",$,J,"⋊","\\rtimes",!0),Q("math",$,J,"⋋","\\leftthreetimes",!0),Q("math",$,J,"⋌","\\rightthreetimes",!0),Q("math",$,J,"⋏","\\curlywedge",!0),Q("math",$,J,"⋎","\\curlyvee",!0),Q("math",$,J,"⊝","\\circleddash",!0),Q("math",$,J,"⊛","\\circledast",!0),Q("math",$,J,"⋅","\\centerdot"),Q("math",$,J,"⊺","\\intercal",!0),Q("math",$,J,"⋒","\\doublecap"),Q("math",$,J,"⋓","\\doublecup"),Q("math",$,J,"⊠","\\boxtimes",!0),Q("math",$,ne,"⇢","\\dashrightarrow",!0),Q("math",$,ne,"⇠","\\dashleftarrow",!0),Q("math",$,ne,"⇇","\\leftleftarrows",!0),Q("math",$,ne,"⇆","\\leftrightarrows",!0),Q("math",$,ne,"⇚","\\Lleftarrow",!0),Q("math",$,ne,"↞","\\twoheadleftarrow",!0),Q("math",$,ne,"↢","\\leftarrowtail",!0),Q("math",$,ne,"↫","\\looparrowleft",!0),Q("math",$,ne,"⇋","\\leftrightharpoons",!0),Q("math",$,ne,"↶","\\curvearrowleft",!0),Q("math",$,ne,"↺","\\circlearrowleft",!0),Q("math",$,ne,"↰","\\Lsh",!0),Q("math",$,ne,"⇈","\\upuparrows",!0),Q("math",$,ne,"↿","\\upharpoonleft",!0),Q("math",$,ne,"⇃","\\downharpoonleft",!0),Q("math",$,ne,"⊸","\\multimap",!0),Q("math",$,ne,"↭","\\leftrightsquigarrow",!0),Q("math",$,ne,"⇉","\\rightrightarrows",!0),Q("math",$,ne,"⇄","\\rightleftarrows",!0),Q("math",$,ne,"↠","\\twoheadrightarrow",!0),Q("math",$,ne,"↣","\\rightarrowtail",!0),Q("math",$,ne,"↬","\\looparrowright",!0),Q("math",$,ne,"↷","\\curvearrowright",!0),Q("math",$,ne,"↻","\\circlearrowright",!0),Q("math",$,ne,"↱","\\Rsh",!0),Q("math",$,ne,"⇊","\\downdownarrows",!0),Q("math",$,ne,"↾","\\upharpoonright",!0),Q("math",$,ne,"⇂","\\downharpoonright",!0),Q("math",$,ne,"⇝","\\rightsquigarrow",!0),Q("math",$,ne,"⇝","\\leadsto"),Q("math",$,ne,"⇛","\\Rrightarrow",!0),Q("math",$,ne,"↾","\\restriction"),Q("math",Z,"textord","‘","`"),Q("math",Z,"textord","$","\\$"),Q("text",Z,"textord","$","\\$"),Q("text",Z,"textord","$","\\textdollar"),Q("math",Z,"textord","%","\\%"),Q("text",Z,"textord","%","\\%"),Q("math",Z,"textord","_","\\_"),Q("text",Z,"textord","_","\\_"),Q("text",Z,"textord","_","\\textunderscore"),Q("math",Z,"textord","∠","\\angle",!0),Q("math",Z,"textord","∞","\\infty",!0),Q("math",Z,"textord","′","\\prime"),Q("math",Z,"textord","△","\\triangle"),Q("math",Z,"textord","Γ","\\Gamma",!0),Q("math",Z,"textord","Δ","\\Delta",!0),Q("math",Z,"textord","Θ","\\Theta",!0),Q("math",Z,"textord","Λ","\\Lambda",!0),Q("math",Z,"textord","Ξ","\\Xi",!0),Q("math",Z,"textord","Π","\\Pi",!0),Q("math",Z,"textord","Σ","\\Sigma",!0),Q("math",Z,"textord","Υ","\\Upsilon",!0),Q("math",Z,"textord","Φ","\\Phi",!0),Q("math",Z,"textord","Ψ","\\Psi",!0),Q("math",Z,"textord","Ω","\\Omega",!0),Q("math",Z,"textord","A","Α"),Q("math",Z,"textord","B","Β"),Q("math",Z,"textord","E","Ε"),Q("math",Z,"textord","Z","Ζ"),Q("math",Z,"textord","H","Η"),Q("math",Z,"textord","I","Ι"),Q("math",Z,"textord","K","Κ"),Q("math",Z,"textord","M","Μ"),Q("math",Z,"textord","N","Ν"),Q("math",Z,"textord","O","Ο"),Q("math",Z,"textord","P","Ρ"),Q("math",Z,"textord","T","Τ"),Q("math",Z,"textord","X","Χ"),Q("math",Z,"textord","¬","\\neg",!0),Q("math",Z,"textord","¬","\\lnot"),Q("math",Z,"textord","⊤","\\top"),Q("math",Z,"textord","⊥","\\bot"),Q("math",Z,"textord","∅","\\emptyset"),Q("math",$,"textord","∅","\\varnothing"),Q("math",Z,ee,"α","\\alpha",!0),Q("math",Z,ee,"β","\\beta",!0),Q("math",Z,ee,"γ","\\gamma",!0),Q("math",Z,ee,"δ","\\delta",!0),Q("math",Z,ee,"ϵ","\\epsilon",!0),Q("math",Z,ee,"ζ","\\zeta",!0),Q("math",Z,ee,"η","\\eta",!0),Q("math",Z,ee,"θ","\\theta",!0),Q("math",Z,ee,"ι","\\iota",!0),Q("math",Z,ee,"κ","\\kappa",!0),Q("math",Z,ee,"λ","\\lambda",!0),Q("math",Z,ee,"μ","\\mu",!0),Q("math",Z,ee,"ν","\\nu",!0),Q("math",Z,ee,"ξ","\\xi",!0),Q("math",Z,ee,"ο","\\omicron",!0),Q("math",Z,ee,"π","\\pi",!0),Q("math",Z,ee,"ρ","\\rho",!0),Q("math",Z,ee,"σ","\\sigma",!0),Q("math",Z,ee,"τ","\\tau",!0),Q("math",Z,ee,"υ","\\upsilon",!0),Q("math",Z,ee,"ϕ","\\phi",!0),Q("math",Z,ee,"χ","\\chi",!0),Q("math",Z,ee,"ψ","\\psi",!0),Q("math",Z,ee,"ω","\\omega",!0),Q("math",Z,ee,"ε","\\varepsilon",!0),Q("math",Z,ee,"ϑ","\\vartheta",!0),Q("math",Z,ee,"ϖ","\\varpi",!0),Q("math",Z,ee,"ϱ","\\varrho",!0),Q("math",Z,ee,"ς","\\varsigma",!0),Q("math",Z,ee,"φ","\\varphi",!0),Q("math",Z,J,"∗","*"),Q("math",Z,J,"+","+"),Q("math",Z,J,"−","-"),Q("math",Z,J,"⋅","\\cdot",!0),Q("math",Z,J,"∘","\\circ"),Q("math",Z,J,"÷","\\div",!0),Q("math",Z,J,"±","\\pm",!0),Q("math",Z,J,"×","\\times",!0),Q("math",Z,J,"∩","\\cap",!0),Q("math",Z,J,"∪","\\cup",!0),Q("math",Z,J,"∖","\\setminus"),Q("math",Z,J,"∧","\\land"),Q("math",Z,J,"∨","\\lor"),Q("math",Z,J,"∧","\\wedge",!0),Q("math",Z,J,"∨","\\vee",!0),Q("math",Z,"textord","√","\\surd"),Q("math",Z,"open","(","("),Q("math",Z,"open","[","["),Q("math",Z,"open","⟨","\\langle",!0),Q("math",Z,"open","∣","\\lvert"),Q("math",Z,"open","∥","\\lVert"),Q("math",Z,"close",")",")"),Q("math",Z,"close","]","]"),Q("math",Z,"close","?","?"),Q("math",Z,"close","!","!"),Q("math",Z,"close","⟩","\\rangle",!0),Q("math",Z,"close","∣","\\rvert"),Q("math",Z,"close","∥","\\rVert"),Q("math",Z,ne,"=","="),Q("math",Z,ne,"<","<"),Q("math",Z,ne,">",">"),Q("math",Z,ne,":",":"),Q("math",Z,ne,"≈","\\approx",!0),Q("math",Z,ne,"≅","\\cong",!0),Q("math",Z,ne,"≥","\\ge"),Q("math",Z,ne,"≥","\\geq",!0),Q("math",Z,ne,"←","\\gets"),Q("math",Z,ne,">","\\gt"),Q("math",Z,ne,"∈","\\in",!0),Q("math",Z,ne,"̸","\\@not"),Q("math",Z,ne,"⊂","\\subset",!0),Q("math",Z,ne,"⊃","\\supset",!0),Q("math",Z,ne,"⊆","\\subseteq",!0),Q("math",Z,ne,"⊇","\\supseteq",!0),Q("math",$,ne,"⊈","\\nsubseteq",!0),Q("math",$,ne,"⊉","\\nsupseteq",!0),Q("math",Z,ne,"⊨","\\models"),Q("math",Z,ne,"←","\\leftarrow",!0),Q("math",Z,ne,"≤","\\le"),Q("math",Z,ne,"≤","\\leq",!0),Q("math",Z,ne,"<","\\lt"),Q("math",Z,ne,"→","\\rightarrow",!0),Q("math",Z,ne,"→","\\to"),Q("math",$,ne,"≱","\\ngeq",!0),Q("math",$,ne,"≰","\\nleq",!0),Q("math",Z,ie," ","\\ "),Q("math",Z,ie," ","~"),Q("math",Z,ie," ","\\space"),Q("math",Z,ie," ","\\nobreakspace"),Q("text",Z,ie," ","\\ "),Q("text",Z,ie," ","~"),Q("text",Z,ie," ","\\space"),Q("text",Z,ie," ","\\nobreakspace"),Q("math",Z,ie,null,"\\nobreak"),Q("math",Z,ie,null,"\\allowbreak"),Q("math",Z,"punct",",",","),Q("math",Z,"punct",";",";"),Q("math",$,J,"⊼","\\barwedge",!0),Q("math",$,J,"⊻","\\veebar",!0),Q("math",Z,J,"⊙","\\odot",!0),Q("math",Z,J,"⊕","\\oplus",!0),Q("math",Z,J,"⊗","\\otimes",!0),Q("math",Z,"textord","∂","\\partial",!0),Q("math",Z,J,"⊘","\\oslash",!0),Q("math",$,J,"⊚","\\circledcirc",!0),Q("math",$,J,"⊡","\\boxdot",!0),Q("math",Z,J,"△","\\bigtriangleup"),Q("math",Z,J,"▽","\\bigtriangledown"),Q("math",Z,J,"†","\\dagger"),Q("math",Z,J,"⋄","\\diamond"),Q("math",Z,J,"⋆","\\star"),Q("math",Z,J,"◃","\\triangleleft"),Q("math",Z,J,"▹","\\triangleright"),Q("math",Z,"open","{","\\{"),Q("text",Z,"textord","{","\\{"),Q("text",Z,"textord","{","\\textbraceleft"),Q("math",Z,"close","}","\\}"),Q("text",Z,"textord","}","\\}"),Q("text",Z,"textord","}","\\textbraceright"),Q("math",Z,"open","{","\\lbrace"),Q("math",Z,"close","}","\\rbrace"),Q("math",Z,"open","[","\\lbrack"),Q("text",Z,"textord","[","\\lbrack"),Q("math",Z,"close","]","\\rbrack"),Q("text",Z,"textord","]","\\rbrack"),Q("text",Z,"textord","<","\\textless"),Q("text",Z,"textord",">","\\textgreater"),Q("math",Z,"open","⌊","\\lfloor",!0),Q("math",Z,"close","⌋","\\rfloor",!0),Q("math",Z,"open","⌈","\\lceil",!0),Q("math",Z,"close","⌉","\\rceil",!0),Q("math",Z,"textord","\\","\\backslash"),Q("math",Z,"textord","∣","|"),Q("math",Z,"textord","∣","\\vert"),Q("text",Z,"textord","|","\\textbar"),Q("math",Z,"textord","∥","\\|"),Q("math",Z,"textord","∥","\\Vert"),Q("text",Z,"textord","∥","\\textbardbl"),Q("text",Z,"textord","~","\\textasciitilde"),Q("math",Z,ne,"↑","\\uparrow",!0),Q("math",Z,ne,"⇑","\\Uparrow",!0),Q("math",Z,ne,"↓","\\downarrow",!0),Q("math",Z,ne,"⇓","\\Downarrow",!0),Q("math",Z,ne,"↕","\\updownarrow",!0),Q("math",Z,ne,"⇕","\\Updownarrow",!0),Q("math",Z,te,"∐","\\coprod"),Q("math",Z,te,"⋁","\\bigvee"),Q("math",Z,te,"⋀","\\bigwedge"),Q("math",Z,te,"⨄","\\biguplus"),Q("math",Z,te,"⋂","\\bigcap"),Q("math",Z,te,"⋃","\\bigcup"),Q("math",Z,te,"∫","\\int"),Q("math",Z,te,"∫","\\intop"),Q("math",Z,te,"∬","\\iint"),Q("math",Z,te,"∭","\\iiint"),Q("math",Z,te,"∏","\\prod"),Q("math",Z,te,"∑","\\sum"),Q("math",Z,te,"⨂","\\bigotimes"),Q("math",Z,te,"⨁","\\bigoplus"),Q("math",Z,te,"⨀","\\bigodot"),Q("math",Z,te,"∮","\\oint"),Q("math",Z,te,"∯","\\oiint"),Q("math",Z,te,"∰","\\oiiint"),Q("math",Z,te,"⨆","\\bigsqcup"),Q("math",Z,te,"∫","\\smallint"),Q("text",Z,"inner","…","\\textellipsis"),Q("math",Z,"inner","…","\\mathellipsis"),Q("text",Z,"inner","…","\\ldots",!0),Q("math",Z,"inner","…","\\ldots",!0),Q("math",Z,"inner","⋯","\\@cdots",!0),Q("math",Z,"inner","⋱","\\ddots",!0),Q("math",Z,"textord","⋮","\\varvdots"),Q("math",Z,"accent-token","ˊ","\\acute"),Q("math",Z,"accent-token","ˋ","\\grave"),Q("math",Z,"accent-token","¨","\\ddot"),Q("math",Z,"accent-token","~","\\tilde"),Q("math",Z,"accent-token","ˉ","\\bar"),Q("math",Z,"accent-token","˘","\\breve"),Q("math",Z,"accent-token","ˇ","\\check"),Q("math",Z,"accent-token","^","\\hat"),Q("math",Z,"accent-token","⃗","\\vec"),Q("math",Z,"accent-token","˙","\\dot"),Q("math",Z,"accent-token","˚","\\mathring"),Q("math",Z,ee,"ı","\\imath",!0),Q("math",Z,ee,"ȷ","\\jmath",!0),Q("text",Z,"textord","ı","\\i",!0),Q("text",Z,"textord","ȷ","\\j",!0),Q("text",Z,"textord","ß","\\ss",!0),Q("text",Z,"textord","æ","\\ae",!0),Q("text",Z,"textord","æ","\\ae",!0),Q("text",Z,"textord","œ","\\oe",!0),Q("text",Z,"textord","ø","\\o",!0),Q("text",Z,"textord","Æ","\\AE",!0),Q("text",Z,"textord","Œ","\\OE",!0),Q("text",Z,"textord","Ø","\\O",!0),Q("text",Z,"accent-token","ˊ","\\'"),Q("text",Z,"accent-token","ˋ","\\`"),Q("text",Z,"accent-token","ˆ","\\^"),Q("text",Z,"accent-token","˜","\\~"),Q("text",Z,"accent-token","ˉ","\\="),Q("text",Z,"accent-token","˘","\\u"),Q("text",Z,"accent-token","˙","\\."),Q("text",Z,"accent-token","˚","\\r"),Q("text",Z,"accent-token","ˇ","\\v"),Q("text",Z,"accent-token","¨",'\\"'),Q("text",Z,"accent-token","˝","\\H"),Q("text",Z,"accent-token","◯","\\textcircled");var re={"--":!0,"---":!0,"``":!0,"''":!0};Q("text",Z,"textord","–","--"),Q("text",Z,"textord","–","\\textendash"),Q("text",Z,"textord","—","---"),Q("text",Z,"textord","—","\\textemdash"),Q("text",Z,"textord","‘","`"),Q("text",Z,"textord","‘","\\textquoteleft"),Q("text",Z,"textord","’","'"),Q("text",Z,"textord","’","\\textquoteright"),Q("text",Z,"textord","“","``"),Q("text",Z,"textord","“","\\textquotedblleft"),Q("text",Z,"textord","”","''"),Q("text",Z,"textord","”","\\textquotedblright"),Q("math",Z,"textord","°","\\degree",!0),Q("text",Z,"textord","°","\\degree"),Q("text",Z,"textord","°","\\textdegree",!0),Q("math",Z,ee,"£","\\pounds"),Q("math",Z,ee,"£","\\mathsterling",!0),Q("text",Z,ee,"£","\\pounds"),Q("text",Z,ee,"£","\\textsterling",!0),Q("math",$,"textord","✠","\\maltese"),Q("text",$,"textord","✠","\\maltese"),Q("text",Z,ie," ","\\ "),Q("text",Z,ie," "," "),Q("text",Z,ie," ","~");for(var oe=0;oe<'0123456789/@."'.length;oe++){var se='0123456789/@."'.charAt(oe);Q("math",Z,"textord",se,se)}for(var ae=0;ae<'0123456789!@*()-=+[]<>|";:?/.,'.length;ae++){var le='0123456789!@*()-=+[]<>|";:?/.,'.charAt(ae);Q("text",Z,"textord",le,le)}for(var ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ue=0;ue<ce.length;ue++){var he=ce.charAt(ue);Q("math",Z,ee,he,he),Q("text",Z,"textord",he,he)}for(var de="",fe=0;fe<ce.length;fe++){var pe=ce.charAt(fe);Q("math",Z,ee,pe,de=String.fromCharCode(55349,56320+fe)),Q("text",Z,"textord",pe,de),Q("math",Z,ee,pe,de=String.fromCharCode(55349,56372+fe)),Q("text",Z,"textord",pe,de),Q("math",Z,ee,pe,de=String.fromCharCode(55349,56424+fe)),Q("text",Z,"textord",pe,de),Q("math",Z,ee,pe,de=String.fromCharCode(55349,56580+fe)),Q("text",Z,"textord",pe,de),Q("math",Z,ee,pe,de=String.fromCharCode(55349,56736+fe)),Q("text",Z,"textord",pe,de),Q("math",Z,ee,pe,de=String.fromCharCode(55349,56788+fe)),Q("text",Z,"textord",pe,de),Q("math",Z,ee,pe,de=String.fromCharCode(55349,56840+fe)),Q("text",Z,"textord",pe,de),Q("math",Z,ee,pe,de=String.fromCharCode(55349,56944+fe)),Q("text",Z,"textord",pe,de),fe<26&&(Q("math",Z,ee,pe,de=String.fromCharCode(55349,56632+fe)),Q("text",Z,"textord",pe,de),Q("math",Z,ee,pe,de=String.fromCharCode(55349,56476+fe)),Q("text",Z,"textord",pe,de))}Q("math",Z,ee,"k",de=String.fromCharCode(55349,56668)),Q("text",Z,"textord","k",de);for(var me=0;me<10;me++){var ge=me.toString();Q("math",Z,ee,ge,de=String.fromCharCode(55349,57294+me)),Q("text",Z,"textord",ge,de),Q("math",Z,ee,ge,de=String.fromCharCode(55349,57314+me)),Q("text",Z,"textord",ge,de),Q("math",Z,ee,ge,de=String.fromCharCode(55349,57324+me)),Q("text",Z,"textord",ge,de),Q("math",Z,ee,ge,de=String.fromCharCode(55349,57334+me)),Q("text",Z,"textord",ge,de)}for(var ve=0;ve<"ÇÐÞçþ".length;ve++){var ye="ÇÐÞçþ".charAt(ve);Q("math",Z,ee,ye,ye),Q("text",Z,"textord",ye,ye)}Q("text",Z,"textord","ð","ð"),Q("text",Z,"textord","–","–"),Q("text",Z,"textord","—","—"),Q("text",Z,"textord","‘","‘"),Q("text",Z,"textord","’","’"),Q("text",Z,"textord","“","“"),Q("text",Z,"textord","”","”");var be=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathit","textit","Math-Italic"],["mathit","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],_e=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],xe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],we=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Se=function(e,t){return t.size<2?e:xe[e-1][t.size-1]},Ce=function(){function e(t){r()(this,e),this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=we[this.size-1],this.maxSize=t.maxSize,this._fontMetrics=void 0}return e.prototype.extend=function(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return new e(n)},e.prototype.havingStyle=function(e){return this.style===e?this:this.extend({style:e,size:Se(this.textSize,e)})},e.prototype.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},e.prototype.havingSize=function(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:we[e-1]})},e.prototype.havingBaseStyle=function(t){t=t||this.style.text();var n=Se(e.BASESIZE,t);return this.size===n&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})},e.prototype.havingBaseSizing=function(){var e=void 0;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})},e.prototype.withColor=function(e){return this.extend({color:e})},e.prototype.withPhantom=function(){return this.extend({phantom:!0})},e.prototype.withFont=function(e){return this.extend({font:e})},e.prototype.withTextFontFamily=function(e){return this.extend({fontFamily:e,font:""})},e.prototype.withTextFontWeight=function(e){return this.extend({fontWeight:e,font:""})},e.prototype.withTextFontShape=function(e){return this.extend({fontShape:e,font:""})},e.prototype.sizingClasses=function(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]},e.prototype.baseSizingClasses=function(){return this.size!==e.BASESIZE?["sizing","reset-size"+this.size,"size"+e.BASESIZE]:[]},e.prototype.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!W[t=e>=5?0:e>=3?1:2]){var n=W[t]={cssEmPerMu:H.quad[t]/18};for(var i in H)H.hasOwnProperty(i)&&(n[i]=H[i][t])}return W[t]}(this.size)),this._fontMetrics},e.prototype.getColor=function(){return this.phantom?"transparent":null!=this.color&&e.colorMap.hasOwnProperty(this.color)?e.colorMap[this.color]:this.color},e}();Ce.BASESIZE=6,Ce.colorMap={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#ccfaff","katex-blueB":"#80f6ff","katex-blueC":"#63d9ea","katex-blueD":"#11accd","katex-blueE":"#0c7f99","katex-tealA":"#94fff5","katex-tealB":"#26edd5","katex-tealC":"#01d1c1","katex-tealD":"#01a995","katex-tealE":"#208170","katex-greenA":"#b6ffb0","katex-greenB":"#8af281","katex-greenC":"#74cf70","katex-greenD":"#1fab54","katex-greenE":"#0d923f","katex-goldA":"#ffd0a9","katex-goldB":"#ffbb71","katex-goldC":"#ff9c39","katex-goldD":"#e07d10","katex-goldE":"#a75a05","katex-redA":"#fca9a9","katex-redB":"#ff8482","katex-redC":"#f9685d","katex-redD":"#e84d39","katex-redE":"#bc2612","katex-maroonA":"#ffbde0","katex-maroonB":"#ff92c6","katex-maroonC":"#ed5fa6","katex-maroonD":"#ca337c","katex-maroonE":"#9e034e","katex-purpleA":"#ddd7ff","katex-purpleB":"#c6b9fc","katex-purpleC":"#aa87ff","katex-purpleD":"#7854ab","katex-purpleE":"#543b78","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#f6f7f7","katex-grayB":"#f0f1f2","katex-grayC":"#e3e5e6","katex-grayD":"#d6d8da","katex-grayE":"#babec2","katex-grayF":"#888d93","katex-grayG":"#626569","katex-grayH":"#3b3e40","katex-grayI":"#21242c","katex-kaBlue":"#314453","katex-kaGreen":"#71B307"};var ke=Ce,Ee={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Me={ex:!0,em:!0,mu:!0},Ae=function(e,t){var n=void 0;if(e.unit in Ee)n=Ee[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)n=t.fontMetrics().cssEmPerMu;else{var i=void 0;if(i=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)n=i.fontMetrics().xHeight;else{if("em"!==e.unit)throw new l("Invalid unit: '"+e.unit+"'");n=i.fontMetrics().quad}i!==t&&(n*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},Te=["\\imath","ı","\\jmath","ȷ","\\pounds","\\mathsterling","\\textsterling","£"],Le=function(e,t,n){return V[n][e]&&V[n][e].replace&&(e=V[n][e].replace),{value:e,metrics:K(e,t,n)}},De=function(e,t,n,i,r){var o=Le(e,t,n),s=o.metrics;e=o.value;var a=void 0;if(s){var l=s.italic;"text"===n&&(l=0),a=new F(e,s.height,s.depth,l,s.skew,s.width,r)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"'"),a=new F(e,0,0,0,0,0,r);if(i){a.maxFontSize=i.sizeMultiplier,i.style.isTight()&&a.classes.push("mtight");var c=i.getColor();c&&(a.style.color=c)}return a},Ie=function(e,t,n,i,r){if("mathord"===r){var o=Pe(e,t,n,i);return De(e,o.fontName,t,n,i.concat([o.fontClass]))}if("textord"===r){var s=V[t][e]&&V[t][e].font;if("ams"===s){var a=je("amsrm",n.fontWeight,n.fontShape);return De(e,a,t,n,i.concat("amsrm",n.fontWeight,n.fontShape))}if("main"!==s&&s){var l=je(s,n.fontWeight,n.fontShape);return De(e,l,t,n,i.concat(l,n.fontWeight,n.fontShape))}var c=je("textrm",n.fontWeight,n.fontShape);return De(e,c,t,n,i.concat(n.fontWeight,n.fontShape))}throw new Error("unexpected type: "+r+" in mathDefault")},Pe=function(e,t,n,i){return/[0-9]/.test(e.charAt(0))||p.contains(Te,e)?{fontName:"Main-Italic",fontClass:"mainit"}:{fontName:"Math-Italic",fontClass:"mathit"}},Re=function(e){for(var t=0,n=0,i=0,r=0;r<e.children.length;r++){var o=e.children[r];o.height>t&&(t=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=i},Ne=function(e,t,n,i){var r=new R(e,t,n,i);return Re(r),r},Oe=function(e,t,n,i){return new R(e,t,n,i)},Fe=function(e){var t=new T(e);return Re(t),t},je=function(e,t,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}return i+"-"+("textbf"===t&&"textit"===n?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},Be={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Xe={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},ze={fontMap:Be,makeSymbol:De,mathsym:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return n&&n.font&&"boldsymbol"===n.font&&Le(e,"Main-Bold",t).metrics?De(e,"Main-Bold",t,n,i.concat(["mathbf"])):"\\"===e||"main"===V[t][e].font?De(e,"Main-Regular",t,n,i):De(e,"AMS-Regular",t,n,i.concat(["amsrm"]))},makeSpan:Ne,makeSvgSpan:Oe,makeLineSpan:function(e,t,n){var i=Ne([e],[],t);return i.height=n||t.fontMetrics().defaultRuleThickness,i.style.borderBottomWidth=i.height+"em",i.maxFontSize=1,i},makeAnchor:function(e,t,n,i){var r=new N(e,t,n,i);return Re(r),r},makeFragment:Fe,makeVList:function(e,t){for(var n=function(e){if("individualShift"===e.positionType){for(var t=e.children,n=[t[0]],i=-t[0].shift-t[0].elem.depth,r=i,o=1;o<t.length;o++){var s=-t[o].shift-r-t[o].elem.depth,a=s-(t[o-1].elem.height+t[o-1].elem.depth);r+=s,n.push({type:"kern",size:a}),n.push(t[o])}return{children:n,depth:i}}var l=void 0;if("top"===e.positionType){for(var c=e.positionData,u=0;u<e.children.length;u++){var h=e.children[u];c-="kern"===h.type?h.size:h.elem.height+h.elem.depth}l=c}else if("bottom"===e.positionType)l=-e.positionData;else{var d=e.children[0];if("elem"!==d.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-d.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-d.elem.depth}}return{children:e.children,depth:l}}(e),i=n.children,r=n.depth,o=0,s=0;s<i.length;s++){var a=i[s];if("elem"===a.type){var l=a.elem;o=Math.max(o,l.maxFontSize,l.height)}}o+=2;var c=Ne(["pstrut"],[]);c.style.height=o+"em";for(var u=[],h=r,d=r,f=r,p=0;p<i.length;p++){var m=i[p];if("kern"===m.type)f+=m.size;else{var g=m.elem,v=m.wrapperClasses||[],y=m.wrapperStyle||{},b=Ne(v,[c,g],void 0,y);b.style.top=-o-f-g.depth+"em",m.marginLeft&&(b.style.marginLeft=m.marginLeft),m.marginRight&&(b.style.marginRight=m.marginRight),u.push(b),f+=g.height+g.depth}h=Math.min(h,f),d=Math.max(d,f)}var _=Ne(["vlist"],u);_.style.height=d+"em";var x=void 0;if(h<0){var w=Ne([],[]),S=Ne(["vlist"],[w]);S.style.height=-h+"em";var C=Ne(["vlist-s"],[new F("​")]);x=[Ne(["vlist-r"],[_,C]),Ne(["vlist-r"],[S])]}else x=[Ne(["vlist-r"],[_])];var k=Ne(["vlist-t"],x);return 2===x.length&&k.classes.push("vlist-t2"),k.height=d,k.depth=-h,k},makeOrd:function(e,t,n){var i=e.mode,r=e.text,o=["mord"],s="math"===i||"text"===i&&t.font,a=s?t.font:t.fontFamily;if(55349===r.charCodeAt(0)){var c=function(e,t){var n=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,i="math"===t?0:1;if(119808<=n&&n<120484){var r=Math.floor((n-119808)/26);return[be[r][2],be[r][i]]}if(120782<=n&&n<=120831){var o=Math.floor((n-120782)/10);return[_e[o][2],_e[o][i]]}if(120485===n||120486===n)return[be[0][2],be[0][i]];if(120486<n&&n<120782)return["",""];throw new l("Unsupported character: "+e)}(r,i),u=c[0],h=c[1];return De(r,u,i,t,o.concat(h))}if(a){var d=void 0,f=void 0;if("boldsymbol"===a){var m=function(e,t,n,i){return Le(r,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(0,i);d=m.fontName,f=[m.fontClass]}else if("mathit"===a||p.contains(Te,r)){var g=Pe(r,i,t,o);d=g.fontName,f=[g.fontClass]}else s?(d=Be[a].fontName,f=[a]):(d=je(a,t.fontWeight,t.fontShape),f=[a,t.fontWeight,t.fontShape]);if(Le(r,d,i).metrics)return De(r,d,i,t,o.concat(f));if(re.hasOwnProperty(r)&&"Typewriter"===d.substr(0,10)){for(var v=[],y=0;y<r.length;y++)v.push(De(r[y],d,i,t,o.concat(f)));return Fe(v)}return Ie(r,i,t,o,n)}return Ie(r,i,t,o,n)},makeVerb:function(e,t){var n=e.body;return e.star?n.replace(/ /g,"␣"):n.replace(/ /g," ")},makeGlue:function(e,t){var n=Ne(["mspace"],[],t),i=Ae(e,t);return n.style.marginRight=i+"em",n},staticSvg:function(e,t){var n=Xe[e],i=n[0],r=n[1],o=n[2],s=new B(i),a=new j([s],{width:r+"em",height:o+"em",style:"width:"+r+"em",viewBox:"0 0 "+1e3*r+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),l=Oe(["overlay"],[a],t);return l.height=o,l.style.height=o+"em",l.style.width=r+"em",l},svgData:Xe,tryCombineChars:function(e){for(var t=0;t<e.length-1;t++)e[t].tryCombine(e[t+1])&&(e.splice(t+1,1),t--);return e},cssSpace:{"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace:{" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}}};function He(e,t){var n=Ue(e,t);if(!n)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return n}function Ue(e,t){return e&&e.type===t?e:null}function Ke(e,t){var n=function(e,t){return e&&"atom"===e.type&&e.family===t?e:null}(e,t);if(!n)throw new Error('Expected node of type "atom" and family "'+t+'", but got '+(e?"atom"===e.type?"atom of family "+e.family:"node of type "+e.type:String(e)));return n}function We(e){return e&&("atom"===e.type||Y.hasOwnProperty(e.type))?e:null}var Ge={number:3,unit:"mu"},Ye={number:4,unit:"mu"},qe={number:5,unit:"mu"},Ve={mord:{mop:Ge,mbin:Ye,mrel:qe,minner:Ge},mop:{mord:Ge,mop:Ge,mrel:qe,minner:Ge},mbin:{mord:Ye,mop:Ye,mopen:Ye,minner:Ye},mrel:{mord:qe,mop:qe,mopen:qe,minner:qe},mopen:{},mclose:{mop:Ge,mbin:Ye,mrel:qe,minner:Ge},mpunct:{mord:Ge,mop:Ge,mrel:qe,mopen:Ge,mclose:Ge,mpunct:Ge,minner:Ge},minner:{mord:Ge,mop:Ge,mbin:Ye,mrel:qe,mopen:Ge,mpunct:Ge,minner:Ge}},Qe={mord:{mop:Ge},mop:{mord:Ge,mop:Ge},mbin:{},mrel:{},mopen:{},mclose:{mop:Ge},mpunct:{},minner:{mop:Ge}},Ze={},$e={},Je={};function et(e){for(var t=e.type,n=(e.nodeType,e.names),i=e.props,r=e.handler,o=e.htmlBuilder,s=e.mathmlBuilder,a={type:t,numArgs:i.numArgs,argTypes:i.argTypes,greediness:void 0===i.greediness?1:i.greediness,allowedInText:!!i.allowedInText,allowedInMath:void 0===i.allowedInMath||i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,consumeMode:i.consumeMode,handler:r},l=0;l<n.length;++l)Ze[n[l]]=a;t&&(o&&($e[t]=o),s&&(Je[t]=s))}function tt(e){et({type:e.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:e.htmlBuilder,mathmlBuilder:e.mathmlBuilder})}var nt=function(e){var t=Ue(e,"ordgroup");return t?t.body:[e]},it=ze.makeSpan,rt=function(e,t){return e?p.contains(["mbin","mopen","mrel","mop","mpunct"],ut(e,"right")):t},ot=function(e,t){return e?p.contains(["mrel","mclose","mpunct"],ut(e,"left")):t},st={display:C.DISPLAY,text:C.TEXT,script:C.SCRIPT,scriptscript:C.SCRIPTSCRIPT},at={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},lt=function(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[null,null],r=[],o=0;o<e.length;o++){var s=ft(e[o],t);if(s instanceof T){var a=s.children;r.push.apply(r,a)}else r.push(s)}for(var l=[i[0]?it([i[0]],[],t):null].concat(r.filter(function(e){return e&&"mspace"!==e.classes[0]}),[i[1]?it([i[1]],[],t):null]),c=1;c<l.length-1;c++){var u=f(l[c]),h=ct(u,"left");"mbin"===h.classes[0]&&rt(l[c-1],n)&&(h.classes[0]="mord");var d=ct(u,"right");"mbin"===d.classes[0]&&ot(l[c+1],n)&&(d.classes[0]="mord")}for(var p=[],m=0,g=0;g<r.length;g++)if(p.push(r[g]),"mspace"!==r[g].classes[0]&&m<l.length-1){0===m&&(p.pop(),g--);var v=ut(l[m],"right"),y=ut(l[m+1],"left");if(v&&y&&n){var b=f(l[m+1]),_=ht(b)?Qe[v][y]:Ve[v][y];if(_){var x=t;if(1===e.length){var w=Ue(e[0],"sizing")||Ue(e[0],"styling");w&&("sizing"===w.type?x=t.havingSize(w.size):"styling"===w.type&&(x=t.havingStyle(st[w.style])))}p.push(ze.makeGlue(_,x))}}m++}return p},ct=function e(t,n){if(t instanceof T||t instanceof N){var i=t.children;if(i.length){if("right"===n)return e(i[i.length-1],"right");if("left"===n)return e(i[0],"right")}}return t},ut=function(e,t){return e?(e=ct(e,t),at[e.classes[0]]||null):null},ht=function(e){return(e=ct(e,"left")).hasClass("mtight")},dt=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return it(t.concat(n))},ft=function(e,t,n){if(!e)return it();if($e[e.type]){var i=$e[e.type](e,t);if(n&&t.size!==n.size){i=it(t.sizingClasses(n),[i],t);var r=t.sizeMultiplier/n.sizeMultiplier;i.height*=r,i.depth*=r}return i}throw new l("Got group of unknown type: '"+e.type+"'")};function pt(e,t){var n=it(["base"],e,t),i=it(["strut"]);return i.style.height=n.height+n.depth+"em",i.style.verticalAlign=-n.depth+"em",n.children.unshift(i),n}function mt(e,t){var n=null;1===e.length&&"tag"===e[0].type&&(n=e[0].tag,e=e[0].body);for(var i=lt(e,t,!0),r=[],o=[],s=0;s<i.length;s++)if(o.push(i[s]),i[s].hasClass("mbin")||i[s].hasClass("mrel")||i[s].hasClass("allowbreak")){for(var a=!1;s<i.length-1&&i[s+1].hasClass("mspace");)s++,o.push(i[s]),i[s].hasClass("nobreak")&&(a=!0);a||(r.push(pt(o,t)),o=[])}else i[s].hasClass("newline")&&(o.pop(),o.length>0&&(r.push(pt(o,t)),o=[]),r.push(i[s]));o.length>0&&r.push(pt(o,t));var l=void 0;n&&((l=pt(lt(n,t,!0))).classes=["tag"],r.push(l));var c=it(["katex-html"],r);if(c.setAttribute("aria-hidden","true"),l){var u=l.children[0];u.style.height=c.height+c.depth+"em",u.style.verticalAlign=-c.depth+"em"}return c}function gt(e){return new T(e)}var vt=function(){function e(t,n){r()(this,e),this.type=t,this.attributes={},this.children=n||[]}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.toNode=function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e},e.prototype.toMarkup=function(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=p.escape(this.attributes[t]),e+='"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+"</"+this.type+">"},e.prototype.toText=function(){return this.children.map(function(e){return e.toText()}).join("")},e}(),yt=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r()(this,e),this.text=t,this.needsEscape=n}return e.prototype.toNode=function(){return document.createTextNode(this.toText())},e.prototype.toMarkup=function(){return this.toText()},e.prototype.toText=function(){return this.needsEscape?p.escape(this.text):this.text},e}(),bt=function(){function e(t){r()(this,e),this.width=t,this.character=t>=.05555&&t<=.05556?"&VeryThinSpace;":t>=.1666&&t<=.1667?"&ThinSpace;":t>=.2222&&t<=.2223?"&MediumSpace;":t>=.2777&&t<=.2778?"&ThickSpace;":t>=-.05556&&t<=-.05555?"&NegativeVeryThinSpace;":t>=-.1667&&t<=-.1666?"&NegativeThinSpace;":t>=-.2223&&t<=-.2222?"&NegativeMediumSpace;":t>=-.2778&&t<=-.2777?"&NegativeThickSpace;":null}return e.prototype.toNode=function(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",this.width+"em"),e},e.prototype.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},e.prototype.toText=function(){return this.character?this.character:" "},e}(),_t={MathNode:vt,TextNode:yt,SpaceNode:bt,newDocumentFragment:gt},xt=function(e,t,n){return!V[t][e]||!V[t][e].replace||55349===e.charCodeAt(0)||re.hasOwnProperty(e)&&n&&(n.fontFamily&&"tt"===n.fontFamily.substr(4,2)||n.font&&"tt"===n.font.substr(4,2))||(e=V[t][e].replace),new _t.TextNode(e)},wt=function(e){return 1===e.length?e[0]:new _t.MathNode("mrow",e)},St=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var n=t.font;if(!n)return null;var i=e.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"bold-italic";var r=e.text;return p.contains(["\\imath","\\jmath"],r)?null:(V[i][r]&&V[i][r].replace&&(r=V[i][r].replace),K(r,ze.fontMap[n].fontName,i)?ze.fontMap[n].variant:null)},Ct=function(e,t){for(var n=[],i=void 0,r=0;r<e.length;r++){var o=Et(e[r],t);if(o instanceof vt&&i instanceof vt){if("mtext"===o.type&&"mtext"===i.type&&o.getAttribute("mathvariant")===i.getAttribute("mathvariant")){var s;(s=i.children).push.apply(s,o.children);continue}if("mn"===o.type&&"mn"===i.type){var a;(a=i.children).push.apply(a,o.children);continue}if("mi"===o.type&&1===o.children.length&&"mn"===i.type){var l=o.children[0];if(l instanceof yt&&"."===l.text){var c;(c=i.children).push.apply(c,o.children);continue}}}n.push(o),i=o}return n},kt=function(e,t){return wt(Ct(e,t))},Et=function(e,t){if(!e)return new _t.MathNode("mrow");if(Je[e.type])return Je[e.type](e,t);throw new l("Got group of unknown type: '"+e.type+"'")},Mt=function(e){return new ke({style:e.displayMode?C.DISPLAY:C.TEXT,maxSize:e.maxSize})},At={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⎵",overbrace:"⏞",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋"},Tt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Lt=function(e){var t=new _t.MathNode("mo",[new _t.TextNode(At[e.substr(1)])]);return t.setAttribute("stretchy","true"),t},Dt=function(e,t){var n=function(){var n=4e5,i=e.label.substr(1);if(p.contains(["widehat","widecheck","widetilde","utilde"],i)){var r=function(e){return"ordgroup"===e.type?e.body.length:1}(e.base),o=void 0,s=void 0,a=void 0;if(r>5)"widehat"===i||"widecheck"===i?(o=420,n=2364,a=.42,s=i+"4"):(o=312,n=2340,a=.34,s="tilde4");else{var l=[1,1,2,2,3,3][r];"widehat"===i||"widecheck"===i?(n=[0,1062,2364,2364,2364][l],o=[0,239,300,360,420][l],a=[0,.24,.3,.3,.36,.42][l],s=i+l):(n=[0,600,1033,2339,2340][l],o=[0,260,286,306,312][l],a=[0,.26,.286,.3,.306,.34][l],s="tilde"+l)}var c=new B(s),u=new j([c],{width:"100%",height:a+"em",viewBox:"0 0 "+n+" "+o,preserveAspectRatio:"none"});return{span:ze.makeSvgSpan([],[u],t),minWidth:0,height:a}}var h=[],d=Tt[i],f=d[0],m=d[1],g=d[2],v=g/1e3,y=f.length,b=void 0,_=void 0;if(1===y)b=["hide-tail"],_=[d[3]];else if(2===y)b=["halfarrow-left","halfarrow-right"],_=["xMinYMin","xMaxYMin"];else{if(3!==y)throw new Error("Correct katexImagesData or update code here to support\n                    "+y+" children.");b=["brace-left","brace-center","brace-right"],_=["xMinYMin","xMidYMin","xMaxYMin"]}for(var x=0;x<y;x++){var w=new B(f[x]),S=new j([w],{width:"400em",height:v+"em",viewBox:"0 0 "+n+" "+g,preserveAspectRatio:_[x]+" slice"}),C=ze.makeSvgSpan([b[x]],[S],t);if(1===y)return{span:C,minWidth:m,height:v};C.style.height=v+"em",h.push(C)}return{span:ze.makeSpan(["stretchy"],h,t),minWidth:m,height:v}}(),i=n.span,r=n.minWidth,o=n.height;return i.height=o,i.style.height=o+"em",r>0&&(i.style.minWidth=r+"em"),i},It=function(e,t){var n=void 0,i=void 0,r=Ue(e,"supsub"),o=void 0;r?(n=(i=He(r.base,"accent")).base,r.base=n,o=function(e){if(e instanceof R)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(ft(r,t)),r.base=i):n=(i=He(e,"accent")).base;var s=ft(n,t.havingCrampedStyle()),a=0;if(i.isShifty&&p.isCharacterBox(n)){var l=p.getBaseElem(n);a=function(e){if(e instanceof F)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}(ft(l,t.havingCrampedStyle())).skew}var c=Math.min(s.height,t.fontMetrics().xHeight),u=void 0;if(i.isStretchy)u=Dt(i,t),u=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:u,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+2*a+"em)",marginLeft:2*a+"em"}:void 0}]},t);else{var h=void 0,d=void 0;"\\vec"===i.label?(h=ze.staticSvg("vec",t),d=ze.svgData.vec[1]):((h=ze.makeSymbol(i.label,"Main-Regular",i.mode,t)).italic=0,d=h.width),u=ze.makeSpan(["accent-body"],[h]);var f="\\textcircled"===i.label;f&&(u.classes.push("accent-full"),c=s.height);var m=a;f||(m-=d/2),u.style.left=m+"em","\\textcircled"===i.label&&(u.style.top=".2em"),u=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-c},{type:"elem",elem:u}]},t)}var g=ze.makeSpan(["mord","accent"],[u],t);return o?(o.children[0]=g,o.height=Math.max(g.height,o.height),o.classes[0]="mord",o):g},Pt=function(e,t){var n=e.isStretchy?Lt(e.label):new _t.MathNode("mo",[xt(e.label,e.mode)]),i=new _t.MathNode("mover",[Et(e.base,t),n]);return i.setAttribute("accent","true"),i},Rt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(e){return"\\"+e}).join("|"));et({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(e,t){var n=t[0],i=!Rt.test(e.funcName),r=!i||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:i,isShifty:r,base:n}},htmlBuilder:It,mathmlBuilder:Pt}),et({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!1},handler:function(e,t){var n=t[0];return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:It,mathmlBuilder:Pt}),et({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"accentUnder",mode:n.mode,label:i,base:r}},htmlBuilder:function(e,t){var n=ft(e.base,t),i=Dt(e,t),r="\\utilde"===e.label?.12:0,o=ze.makeVList({positionType:"bottom",positionData:i.height+r,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:n}]},t);return ze.makeSpan(["mord","accentunder"],[o],t)},mathmlBuilder:function(e,t){var n=Lt(e.label),i=new _t.MathNode("munder",[Et(e.base,t),n]);return i.setAttribute("accentunder","true"),i}}),et({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,n){var i=e.parser,r=e.funcName;return{type:"xArrow",mode:i.mode,label:r,body:t[0],below:n[0]}},htmlBuilder:function(e,t){var n=t.style,i=t.havingStyle(n.sup()),r=ft(e.body,i,t);r.classes.push("x-arrow-pad");var o=void 0;e.below&&(i=t.havingStyle(n.sub()),(o=ft(e.below,i,t)).classes.push("x-arrow-pad"));var s=Dt(e,t),a=-t.fontMetrics().axisHeight+.5*s.height,l=-t.fontMetrics().axisHeight-.5*s.height-.111;(r.depth>.25||"\\xleftequilibrium"===e.label)&&(l-=r.depth);var c=void 0;if(o){var u=-t.fontMetrics().axisHeight+o.height+.5*s.height+.111;c=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:l},{type:"elem",elem:s,shift:a},{type:"elem",elem:o,shift:u}]},t)}else c=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:l},{type:"elem",elem:s,shift:a}]},t);return c.children[0].children[0].children[1].classes.push("svg-align"),ze.makeSpan(["mrel","x-arrow"],[c],t)},mathmlBuilder:function(e,t){var n=Lt(e.label),i=void 0,r=void 0;if(e.body){var o=Et(e.body,t);e.below?(r=Et(e.below,t),i=new _t.MathNode("munderover",[n,r,o])):i=new _t.MathNode("mover",[n,o])}else e.below?(r=Et(e.below,t),i=new _t.MathNode("munder",[n,r])):i=new _t.MathNode("mover",[n]);return i}}),et({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){for(var n=e.parser,i=He(t[0],"ordgroup").body,r="",o=0;o<i.length;o++)r+=He(i[o],"textord").text;var s=parseInt(r);if(isNaN(s))throw new l("\\@char has non-numeric argument "+r);return{type:"textord",mode:n.mode,text:String.fromCharCode(s)}}});var Nt=function(e,t){var n=lt(e.body,t.withColor(e.color),!1);return ze.makeFragment(n)},Ot=function(e,t){var n=Ct(e.body,t),i=new _t.MathNode("mstyle",n);return i.setAttribute("mathcolor",e.color),i};et({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},handler:function(e,t){var n=e.parser,i=He(t[0],"color-token").color,r=t[1];return{type:"color",mode:n.mode,color:i,body:nt(r)}},htmlBuilder:Nt,mathmlBuilder:Ot}),et({type:"color",names:["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple","\\blueA","\\blueB","\\blueC","\\blueD","\\blueE","\\tealA","\\tealB","\\tealC","\\tealD","\\tealE","\\greenA","\\greenB","\\greenC","\\greenD","\\greenE","\\goldA","\\goldB","\\goldC","\\goldD","\\goldE","\\redA","\\redB","\\redC","\\redD","\\redE","\\maroonA","\\maroonB","\\maroonC","\\maroonD","\\maroonE","\\purpleA","\\purpleB","\\purpleC","\\purpleD","\\purpleE","\\mintA","\\mintB","\\mintC","\\grayA","\\grayB","\\grayC","\\grayD","\\grayE","\\grayF","\\grayG","\\grayH","\\grayI","\\kaBlue","\\kaGreen"],props:{numArgs:1,allowedInText:!0,greediness:3},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"color",mode:n.mode,color:"katex-"+i.slice(1),body:nt(r)}},htmlBuilder:Nt,mathmlBuilder:Ot}),et({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,greediness:3,argTypes:["color"]},handler:function(e,t){var n=e.parser,i=e.breakOnTokenText,r=He(t[0],"color-token").color,o=n.parseExpression(!0,i);return{type:"color",mode:n.mode,color:r,body:o}},htmlBuilder:Nt,mathmlBuilder:Ot}),et({type:"cr",names:["\\cr","\\newline"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t,n){var i=e.parser,r=e.funcName,o=n[0],s="\\cr"===r,a=!1;return s||(a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode")),{type:"cr",mode:i.mode,newLine:a,newRow:s,size:o&&He(o,"size").value}},htmlBuilder:function(e,t){if(e.newRow)throw new l("\\cr valid only within a tabular/array environment");var n=ze.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=Ae(e.size,t)+"em")),n},mathmlBuilder:function(e,t){var n=new _t.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",Ae(e.size,t)+"em")),n}});var Ft=function(e,t,n){var i=K(V.math[e]&&V.math[e].replace||e,t,n);if(!i)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return i},jt=function(e,t,n,i){var r=n.havingBaseStyle(t),o=ze.makeSpan(i.concat(r.sizingClasses(n)),[e],n),s=r.sizeMultiplier/n.sizeMultiplier;return o.height*=s,o.depth*=s,o.maxFontSize=r.sizeMultiplier,o},Bt=function(e,t,n){var i=t.havingBaseStyle(n),r=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=r+"em",e.height-=r,e.depth+=r},Xt=function(e,t,n,i,r,o){var s=function(e,t,n,i){return ze.makeSymbol(e,"Size"+t+"-Regular",n,i)}(e,t,r,i),a=jt(ze.makeSpan(["delimsizing","size"+t],[s],i),C.TEXT,i,o);return n&&Bt(a,i,C.TEXT),a},zt=function(e,t,n){var i;return i="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:ze.makeSpan(["delimsizinginner",i],[ze.makeSpan([],[ze.makeSymbol(e,t,n)])])}},Ht=function(e,t,n,i,r,o){var s=void 0,a=void 0,l=void 0,c=void 0;s=l=c=e,a=null;var u="Size1-Regular";"\\uparrow"===e?l=c="⏐":"\\Uparrow"===e?l=c="‖":"\\downarrow"===e?s=l="⏐":"\\Downarrow"===e?s=l="‖":"\\updownarrow"===e?(s="\\uparrow",l="⏐",c="\\downarrow"):"\\Updownarrow"===e?(s="\\Uparrow",l="‖",c="\\Downarrow"):"["===e||"\\lbrack"===e?(s="⎡",l="⎢",c="⎣",u="Size4-Regular"):"]"===e||"\\rbrack"===e?(s="⎤",l="⎥",c="⎦",u="Size4-Regular"):"\\lfloor"===e||"⌊"===e?(l=s="⎢",c="⎣",u="Size4-Regular"):"\\lceil"===e||"⌈"===e?(s="⎡",l=c="⎢",u="Size4-Regular"):"\\rfloor"===e||"⌋"===e?(l=s="⎥",c="⎦",u="Size4-Regular"):"\\rceil"===e||"⌉"===e?(s="⎤",l=c="⎥",u="Size4-Regular"):"("===e?(s="⎛",l="⎜",c="⎝",u="Size4-Regular"):")"===e?(s="⎞",l="⎟",c="⎠",u="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(s="⎧",a="⎨",c="⎩",l="⎪",u="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(s="⎫",a="⎬",c="⎭",l="⎪",u="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(s="⎧",c="⎩",l="⎪",u="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(s="⎫",c="⎭",l="⎪",u="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(s="⎧",c="⎭",l="⎪",u="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(s="⎫",c="⎩",l="⎪",u="Size4-Regular");var h=Ft(s,u,r),d=h.height+h.depth,f=Ft(l,u,r),p=f.height+f.depth,m=Ft(c,u,r),g=m.height+m.depth,v=0,y=1;if(null!==a){var b=Ft(a,u,r);v=b.height+b.depth,y=2}var _=d+g+v,x=Math.ceil((t-_)/(y*p)),w=_+x*y*p,S=i.fontMetrics().axisHeight;n&&(S*=i.sizeMultiplier);var k=w/2-S,E=[];if(E.push(zt(c,u,r)),null===a)for(var M=0;M<x;M++)E.push(zt(l,u,r));else{for(var A=0;A<x;A++)E.push(zt(l,u,r));E.push(zt(a,u,r));for(var T=0;T<x;T++)E.push(zt(l,u,r))}E.push(zt(s,u,r));var L=i.havingBaseStyle(C.TEXT),D=ze.makeVList({positionType:"bottom",positionData:k,children:E},L);return jt(ze.makeSpan(["delimsizing","mult"],[D],L),C.TEXT,i,o)},Ut=function(e,t,n,i){var r=void 0;"sqrtTall"===e&&(r="M702 80H400000v40H742v"+(n-54-80)+"l-4 4-4 4c-.667.7\n-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667\n-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155\n 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z");var o=new B(e,r),s=new j([o],{width:"400em",height:t+"em",viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return ze.makeSvgSpan(["hide-tail"],[s],i)},Kt=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Wt=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Gt=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Yt=[0,1.2,1.8,2.4,3],qt=[{type:"small",style:C.SCRIPTSCRIPT},{type:"small",style:C.SCRIPT},{type:"small",style:C.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Vt=[{type:"small",style:C.SCRIPTSCRIPT},{type:"small",style:C.SCRIPT},{type:"small",style:C.TEXT},{type:"stack"}],Qt=[{type:"small",style:C.SCRIPTSCRIPT},{type:"small",style:C.SCRIPT},{type:"small",style:C.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Zt=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},$t=function(e,t,n,i){for(var r=Math.min(2,3-i.style.size);r<n.length&&"stack"!==n[r].type;r++){var o=Ft(e,Zt(n[r]),"math"),s=o.height+o.depth;if("small"===n[r].type&&(s*=i.havingBaseStyle(n[r].style).sizeMultiplier),s>t)return n[r]}return n[n.length-1]},Jt=function(e,t,n,i,r,o){var s;"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),s=p.contains(Gt,e)?qt:p.contains(Kt,e)?Qt:Vt;var a=$t(e,t,s,i);return"small"===a.type?function(e,t,n,i,r,o){var s=ze.makeSymbol(e,"Main-Regular",r,i),a=jt(s,t,i,o);return n&&Bt(a,i,t),a}(e,a.style,n,i,r,o):"large"===a.type?Xt(e,a.size,n,i,r,o):Ht(e,t,n,i,r,o)},en=function(e,t,n,i,r){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),p.contains(Kt,e)||p.contains(Gt,e))return Xt(e,t,!1,n,i,r);if(p.contains(Wt,e))return Ht(e,Yt[t],!1,n,i,r);throw new l("Illegal delimiter: '"+e+"'")},tn=Jt,nn=function(e,t,n,i,r,o){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,a=5/i.fontMetrics().ptPerEm,l=Math.max(t-s,n+s),c=Math.max(l/500*901,2*l-a);return Jt(e,c,!0,i,r,o)},rn={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},on=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function sn(e,t){var n=We(e);if(n&&p.contains(on,n.text))return n;throw new l("Invalid delimiter: '"+(n?n.text:JSON.stringify(e))+"' after '"+t.funcName+"'",e)}function an(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}et({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1},handler:function(e,t){var n=sn(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:rn[e.funcName].size,mclass:rn[e.funcName].mclass,delim:n.text}},htmlBuilder:function(e,t){return"."===e.delim?ze.makeSpan([e.mclass]):en(e.delim,e.size,t,e.mode,[e.mclass])},mathmlBuilder:function(e){var t=[];"."!==e.delim&&t.push(xt(e.delim,e.mode));var n=new _t.MathNode("mo",t);return"mopen"===e.mclass||"mclose"===e.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n}}),et({type:"leftright-right",names:["\\right"],props:{numArgs:1},handler:function(e,t){return{type:"leftright-right",mode:e.parser.mode,delim:sn(t[0],e).text}}}),et({type:"leftright",names:["\\left"],props:{numArgs:1},handler:function(e,t){var n=sn(t[0],e),i=e.parser;++i.leftrightDepth;var r=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var o=i.parseFunction();if(!o)throw new l("failed to parse function after \\right");return{type:"leftright",mode:i.mode,body:r,left:n.text,right:He(o,"leftright-right").delim}},htmlBuilder:function(e,t){an(e);for(var n=lt(e.body,t,!0,[null,"mclose"]),i=0,r=0,o=!1,s=0;s<n.length;s++)n[s].isMiddle?o=!0:(i=Math.max(n[s].height,i),r=Math.max(n[s].depth,r));var a,l;if(i*=t.sizeMultiplier,r*=t.sizeMultiplier,a="."===e.left?dt(t,["mopen"]):nn(e.left,i,r,t,e.mode,["mopen"]),n.unshift(a),o)for(var c=1;c<n.length;c++){var u=n[c].isMiddle;u&&(n[c]=nn(u.delim,i,r,u.options,e.mode,[]))}return l="."===e.right?dt(t,["mclose"]):nn(e.right,i,r,t,e.mode,["mclose"]),n.push(l),ze.makeSpan(["minner"],n,t)},mathmlBuilder:function(e,t){an(e);var n=Ct(e.body,t);if("."!==e.left){var i=new _t.MathNode("mo",[xt(e.left,e.mode)]);i.setAttribute("fence","true"),n.unshift(i)}if("."!==e.right){var r=new _t.MathNode("mo",[xt(e.right,e.mode)]);r.setAttribute("fence","true"),n.push(r)}return wt(n)}}),et({type:"middle",names:["\\middle"],props:{numArgs:1},handler:function(e,t){var n=sn(t[0],e);if(!e.parser.leftrightDepth)throw new l("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:function(e,t){var n=void 0;if("."===e.delim)n=dt(t,[]);else{n=en(e.delim,1,t,e.mode,[]);var i={delim:e.delim,options:t};n.isMiddle=i}return n},mathmlBuilder:function(e,t){var n=new _t.MathNode("mo",[xt(e.delim,e.mode)]);return n.setAttribute("fence","true"),n}});var ln=function(e,t){var n,i=ft(e.body,t),r=e.label.substr(1),o=t.sizeMultiplier,s=void 0,a=0,l=p.isCharacterBox(e.body);"sout"===r?((s=ze.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/o,a=-.5*t.fontMetrics().xHeight):(/cancel/.test(r)?l||i.classes.push("cancel-pad"):i.classes.push("boxpad"),s=function(e,t,n,i){var r=void 0,o=e.height+e.depth+2*n;if(/fbox|color/.test(t)){if(r=ze.makeSpan(["stretchy",t],[],i),"fbox"===t){var s=i.color&&i.getColor();s&&(r.style.borderColor=s)}}else{var a=[];/^[bx]cancel$/.test(t)&&a.push(new X({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&a.push(new X({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var l=new j(a,{width:"100%",height:o+"em"});r=ze.makeSvgSpan([],[l],i)}return r.height=o,r.style.height=o+"em",r}(i,r,n=/box/.test(r)?"colorbox"===r?.3:.34:l?.2:0,t),a=i.depth+n,e.backgroundColor&&(s.style.backgroundColor=e.backgroundColor,e.borderColor&&(s.style.borderColor=e.borderColor)));var c=void 0;return c=e.backgroundColor?ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:i,shift:0}]},t):ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:/cancel/.test(r)?["svg-align"]:[]}]},t),/cancel/.test(r)&&(c.height=i.height,c.depth=i.depth),/cancel/.test(r)&&!l?ze.makeSpan(["mord","cancel-lap"],[c],t):ze.makeSpan(["mord"],[c],t)},cn=function(e,t){var n=new _t.MathNode("menclose",[Et(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":case"\\fcolorbox":n.setAttribute("notation","box");break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};et({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","text"]},handler:function(e,t,n){var i=e.parser,r=e.funcName,o=He(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:i.mode,label:r,backgroundColor:o,body:s}},htmlBuilder:ln,mathmlBuilder:cn}),et({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,greediness:3,argTypes:["color","color","text"]},handler:function(e,t,n){var i=e.parser,r=e.funcName,o=He(t[0],"color-token").color,s=He(t[1],"color-token").color,a=t[2];return{type:"enclose",mode:i.mode,label:r,backgroundColor:s,borderColor:o,body:a}},htmlBuilder:ln,mathmlBuilder:cn}),et({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\fbox",body:t[0]}}}),et({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout"],props:{numArgs:1},handler:function(e,t,n){var i=e.parser,r=e.funcName,o=t[0];return{type:"enclose",mode:i.mode,label:r,body:o}},htmlBuilder:ln,mathmlBuilder:cn}),et({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(e,t){var n=e.parser,i=t[0];if("ordgroup"!==i.type)throw new l("Invalid environment name",i);for(var r="",o=0;o<i.body.length;++o)r+=He(i.body[o],"textord").text;return{type:"environment",mode:n.mode,name:r,nameGroup:i}}});var un=ze.makeSpan;function hn(e,t){var n=lt(e.body,t,!0);return un([e.mclass],n,t)}function dn(e,t){var n=Ct(e.body,t);return _t.newDocumentFragment(n)}et({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+i.substr(5),body:nt(r)}},htmlBuilder:hn,mathmlBuilder:dn});var fn=function(e){var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};et({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(e,t){return{type:"mclass",mode:e.parser.mode,mclass:fn(t[0]),body:[t[1]]}}}),et({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(e,t){var n,i=e.parser,r=e.funcName,o=t[1],s=t[0];n="\\stackrel"!==r?fn(o):"mrel";var a={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,symbol:!1,suppressBaseShift:"\\stackrel"!==r,body:nt(o)},l={type:"supsub",mode:s.mode,base:a,sup:"\\underset"===r?null:s,sub:"\\underset"===r?s:null};return{type:"mclass",mode:i.mode,mclass:n,body:[l]}},htmlBuilder:hn,mathmlBuilder:dn});var pn=function(e,t){var n=e.font,i=t.withFont(n);return ft(e.body,i)},mn=function(e,t){var n=e.font,i=t.withFont(n);return Et(e.body,i)},gn={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};et({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,greediness:2},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0],o=i;return o in gn&&(o=gn[o]),{type:"font",mode:n.mode,font:o.slice(1),body:r}},htmlBuilder:pn,mathmlBuilder:mn}),et({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1,greediness:2},handler:function(e,t){var n=e.parser,i=t[0];return{type:"mclass",mode:n.mode,mclass:fn(i),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:i}]}}}),et({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,r=e.breakOnTokenText,o=n.mode;n.consumeSpaces();var s=n.parseExpression(!0,r);return{type:"font",mode:o,font:"math"+i.slice(1),body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:pn,mathmlBuilder:mn});var vn=function(e,t){var n=t.style;"display"===e.size?n=C.DISPLAY:"text"===e.size&&n.size===C.DISPLAY.size?n=C.TEXT:"script"===e.size?n=C.SCRIPT:"scriptscript"===e.size&&(n=C.SCRIPTSCRIPT);var i=n.fracNum(),r=n.fracDen(),o=void 0;o=t.havingStyle(i);var s=ft(e.numer,o,t);if(e.continued){var a=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<a?a:s.height,s.depth=s.depth<l?l:s.depth}o=t.havingStyle(r);var c=ft(e.denom,o,t),u=void 0,h=void 0,d=void 0;e.hasBarLine?(e.barSize?(h=Ae(e.barSize,t),u=ze.makeLineSpan("frac-line",t,h)):u=ze.makeLineSpan("frac-line",t),h=u.height,d=u.height):(u=null,h=0,d=t.fontMetrics().defaultRuleThickness);var f=void 0,p=void 0,m=void 0;n.size===C.DISPLAY.size?(f=t.fontMetrics().num1,p=h>0?3*d:7*d,m=t.fontMetrics().denom1):(h>0?(f=t.fontMetrics().num2,p=d):(f=t.fontMetrics().num3,p=3*d),m=t.fontMetrics().denom2);var g,v,y,b=void 0;if(u){var _=t.fontMetrics().axisHeight;f-s.depth-(_+.5*h)<p&&(f+=p-(f-s.depth-(_+.5*h))),_-.5*h-(c.height-m)<p&&(m+=p-(_-.5*h-(c.height-m)));var x=-(_-.5*h);b=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:m},{type:"elem",elem:u,shift:x},{type:"elem",elem:s,shift:-f}]},t)}else{var w=f-s.depth-(c.height-m);w<p&&(f+=.5*(p-w),m+=.5*(p-w)),b=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:m},{type:"elem",elem:s,shift:-f}]},t)}return o=t.havingStyle(n),b.height*=o.sizeMultiplier/t.sizeMultiplier,b.depth*=o.sizeMultiplier/t.sizeMultiplier,g=n.size===C.DISPLAY.size?t.fontMetrics().delim1:t.fontMetrics().delim2,v=null==e.leftDelim?dt(t,["mopen"]):tn(e.leftDelim,g,!0,t.havingStyle(n),e.mode,["mopen"]),y=e.continued?ze.makeSpan([]):null==e.rightDelim?dt(t,["mclose"]):tn(e.rightDelim,g,!0,t.havingStyle(n),e.mode,["mclose"]),ze.makeSpan(["mord"].concat(o.sizingClasses(t)),[v,ze.makeSpan(["mfrac"],[b]),y],t)},yn=function(e,t){var n=new _t.MathNode("mfrac",[Et(e.numer,t),Et(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var i=Ae(e.barSize,t);n.setAttribute("linethickness",i+"em")}}else n.setAttribute("linethickness","0px");if(null!=e.leftDelim||null!=e.rightDelim){var r=[];if(null!=e.leftDelim){var o=new _t.MathNode("mo",[new _t.TextNode(e.leftDelim)]);o.setAttribute("fence","true"),r.push(o)}if(r.push(n),null!=e.rightDelim){var s=new _t.MathNode("mo",[new _t.TextNode(e.rightDelim)]);s.setAttribute("fence","true"),r.push(s)}return wt(r)}return n};et({type:"genfrac",names:["\\cfrac","\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,greediness:2},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0],o=t[1],s=void 0,a=null,l=null,c="auto";switch(i){case"\\cfrac":case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,a="(",l=")";break;case"\\\\bracefrac":s=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\cfrac":case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text"}return{type:"genfrac",mode:n.mode,continued:"\\cfrac"===i,numer:r,denom:o,hasBarLine:s,leftDelim:a,rightDelim:l,size:c,barSize:null}},htmlBuilder:vn,mathmlBuilder:yn}),et({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(e){var t=e.parser,n=e.funcName,i=e.token,r=void 0;switch(n){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:r,token:i}}});var bn=["display","text","script","scriptscript"],_n=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};et({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,greediness:6,argTypes:["math","math","size","text","math","math"]},handler:function(e,t){var n=e.parser,i=t[4],r=t[5],o=Ue(t[0],"ordgroup");o=Ke(o?o.body[0]:t[0],"open");var s=_n(o.text),a=Ue(t[1],"ordgroup");a=Ke(a?a.body[0]:t[1],"close");var l,c=_n(a.text),u=He(t[2],"size"),h=null;l=!!u.isBlank||(h=u.value).number>0;var d="auto",f=Ue(t[3],"ordgroup");if(f){if(f.body.length>0){var p=He(f.body[0],"textord");d=bn[Number(p.text)]}}else f=He(t[3],"textord"),d=bn[Number(f.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:r,continued:!1,hasBarLine:l,barSize:h,leftDelim:s,rightDelim:c,size:d}},htmlBuilder:vn,mathmlBuilder:yn}),et({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(e,t){var n=e.parser,i=(e.funcName,e.token);return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:He(t[0],"size").value,token:i}}}),et({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(e,t){var n=e.parser,i=(e.funcName,t[0]),r=f(He(t[1],"infix").size),o=t[2],s=r.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:s,barSize:r,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:vn,mathmlBuilder:yn});var xn=function(e,t){var n=t.style,i=void 0,r=void 0,o=Ue(e,"supsub");o?(i=o.sup?ft(o.sup,t.havingStyle(n.sup()),t):ft(o.sub,t.havingStyle(n.sub()),t),r=He(o.base,"horizBrace")):r=He(e,"horizBrace");var s=ft(r.base,t.havingBaseStyle(C.DISPLAY)),a=Dt(r,t),l=void 0;if(r.isOver?(l=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(l=ze.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[0].classes.push("svg-align"),i){var c=ze.makeSpan(["mord",r.isOver?"mover":"munder"],[l],t);l=r.isOver?ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:i}]},t):ze.makeVList({positionType:"bottom",positionData:c.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:c}]},t)}return ze.makeSpan(["mord",r.isOver?"mover":"munder"],[l],t)};et({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName;return{type:"horizBrace",mode:n.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:xn,mathmlBuilder:function(e,t){var n=Lt(e.label);return new _t.MathNode(e.isOver?"mover":"munder",[Et(e.base,t),n])}}),et({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[1],r=He(t[0],"url").url;return{type:"href",mode:n.mode,href:r,body:nt(i)}},htmlBuilder:function(e,t){var n=lt(e.body,t,!1);return ze.makeAnchor(e.href,[],n,t)},mathmlBuilder:function(e,t){var n=kt(e.body,t);return function(e,t){if(e instanceof t)return e;var n=String(t.name||t),i=String(e.constructor.name||e);throw new Error("Expected "+n+" but got "+i+".")}(n,vt).setAttribute("href",e.href),n}}),et({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(e,t){for(var n=e.parser,i=He(t[0],"url").url,r=[],o=0;o<i.length;o++){var s=i[o];"~"===s&&(s="\\textasciitilde"),r.push({type:"textord",mode:"text",text:s})}var a={type:"text",mode:n.mode,font:"\\texttt",body:r};return{type:"href",mode:n.mode,href:i,body:nt(a)}}}),et({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(e,t){return{type:"htmlmathml",mode:e.parser.mode,html:nt(t[0]),mathml:nt(t[1])}},htmlBuilder:function(e,t){var n=lt(e.html,t,!1);return ze.makeFragment(n)},mathmlBuilder:function(e,t){return kt(e.mathml,t)}}),et({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,r=He(t[0],"size");if(n.settings.strict){var o="m"===i[1],s="mu"===r.value.unit;o?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, not "+r.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:r.value}},htmlBuilder:function(e,t){return ze.makeGlue(e.dimension,t)},mathmlBuilder:function(e,t){var n=Ae(e.dimension,t);return new _t.SpaceNode(n)}}),et({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"lap",mode:n.mode,alignment:i.slice(5),body:r}},htmlBuilder:function(e,t){var n=void 0;"clap"===e.alignment?(n=ze.makeSpan([],[ft(e.body,t)]),n=ze.makeSpan(["inner"],[n],t)):n=ze.makeSpan(["inner"],[ft(e.body,t)]);var i=ze.makeSpan(["fix"],[]),r=ze.makeSpan([e.alignment],[n,i],t),o=ze.makeSpan(["strut"]);return o.style.height=r.height+r.depth+"em",o.style.verticalAlign=-r.depth+"em",r.children.unshift(o),r=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),ze.makeSpan(["mord"],[r],t)},mathmlBuilder:function(e,t){var n=new _t.MathNode("mpadded",[Et(e.body,t)]);if("rlap"!==e.alignment){var i="llap"===e.alignment?"-1":"-0.5";n.setAttribute("lspace",i+"width")}return n.setAttribute("width","0px"),n}}),et({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1,consumeMode:"math"},handler:function(e,t){var n=e.funcName,i=e.parser,r=i.mode;i.switchMode("math");var o="\\("===n?"\\)":"$",s=i.parseExpression(!1,o);return i.expect(o,!1),i.switchMode(r),i.consume(),{type:"styling",mode:i.mode,style:"text",body:s}}}),et({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){throw new l("Mismatched "+e.funcName)}});var wn=function(e,t){switch(t.style.size){case C.DISPLAY.size:return e.display;case C.TEXT.size:return e.text;case C.SCRIPT.size:return e.script;case C.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};et({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4},handler:function(e,t){return{type:"mathchoice",mode:e.parser.mode,display:nt(t[0]),text:nt(t[1]),script:nt(t[2]),scriptscript:nt(t[3])}},htmlBuilder:function(e,t){var n=wn(e,t),i=lt(n,t,!1);return ze.makeFragment(i)},mathmlBuilder:function(e,t){var n=wn(e,t);return kt(n,t)}});var Sn=function(e,t){var n=void 0,i=void 0,r=!1,o=void 0,s=Ue(e,"supsub");s?(n=s.sup,i=s.sub,o=He(s.base,"op"),r=!0):o=He(e,"op");var a=t.style,l=!1;a.size===C.DISPLAY.size&&o.symbol&&!p.contains(["\\smallint"],o.name)&&(l=!0);var c=void 0;if(o.symbol){var u=l?"Size2-Regular":"Size1-Regular",h="";if("\\oiint"!==o.name&&"\\oiiint"!==o.name||(h=o.name.substr(1),o.name="oiint"===h?"\\iint":"\\iiint"),c=ze.makeSymbol(o.name,u,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),h.length>0){var d=c.italic,f=ze.staticSvg(h+"Size"+(l?"2":"1"),t);c=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:f,shift:l?.08:0}]},t),o.name="\\"+h,c.classes.unshift("mop"),c.italic=d}}else if(o.body){var m=lt(o.body,t,!0);1===m.length&&m[0]instanceof F?(c=m[0]).classes[0]="mop":c=ze.makeSpan(["mop"],m,t)}else{for(var g=[],v=1;v<o.name.length;v++)g.push(ze.mathsym(o.name[v],o.mode));c=ze.makeSpan(["mop"],g,t)}var y=0,b=0;if((c instanceof F||"\\oiint"===o.name||"\\oiiint"===o.name)&&!o.suppressBaseShift&&(y=(c.height-c.depth)/2-t.fontMetrics().axisHeight,b=c.italic),r){c=ze.makeSpan([],[c]);var _=void 0,x=void 0;if(n){var w=ft(n,t.havingStyle(a.sup()),t);x={elem:w,kern:Math.max(t.fontMetrics().bigOpSpacing1,t.fontMetrics().bigOpSpacing3-w.depth)}}if(i){var S=ft(i,t.havingStyle(a.sub()),t);_={elem:S,kern:Math.max(t.fontMetrics().bigOpSpacing2,t.fontMetrics().bigOpSpacing4-S.height)}}var k=void 0;if(x&&_){var E=t.fontMetrics().bigOpSpacing5+_.elem.height+_.elem.depth+_.kern+c.depth+y;k=ze.makeVList({positionType:"bottom",positionData:E,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:_.elem,marginLeft:-b+"em"},{type:"kern",size:_.kern},{type:"elem",elem:c},{type:"kern",size:x.kern},{type:"elem",elem:x.elem,marginLeft:b+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}else if(_){var M=c.height-y;k=ze.makeVList({positionType:"top",positionData:M,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:_.elem,marginLeft:-b+"em"},{type:"kern",size:_.kern},{type:"elem",elem:c}]},t)}else{if(!x)return c;var A=c.depth+y;k=ze.makeVList({positionType:"bottom",positionData:A,children:[{type:"elem",elem:c},{type:"kern",size:x.kern},{type:"elem",elem:x.elem,marginLeft:b+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}return ze.makeSpan(["mop","op-limits"],[k],t)}return y&&(c.style.position="relative",c.style.top=y+"em"),c},Cn=function(e,t){var n=void 0;if(e.symbol)n=new vt("mo",[xt(e.name,e.mode)]);else{if(!e.body)return gt([n=new vt("mi",[new yt(e.name.slice(1))]),new vt("mo",[xt("⁡","text")])]);n=new vt("mo",Ct(e.body,t))}return n},kn={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcap","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};et({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(e,t){var n=e.parser,i=e.funcName;return 1===i.length&&(i=kn[i]),{type:"op",mode:n.mode,limits:!0,symbol:!0,name:i}},htmlBuilder:Sn,mathmlBuilder:Cn}),et({type:"op",names:["\\mathop"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=t[0];return{type:"op",mode:n.mode,limits:!1,symbol:!1,body:nt(i)}},htmlBuilder:Sn,mathmlBuilder:Cn});var En={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};function Mn(e,t,n){for(var i=lt(e,t,!1),r=t.sizeMultiplier/n.sizeMultiplier,o=0;o<i.length;o++){var s=i[o].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[o].classes,t.sizingClasses(n)):i[o].classes[s+1]==="reset-size"+t.size&&(i[o].classes[s+1]="reset-size"+n.size),i[o].height*=r,i[o].depth*=r}return ze.makeFragment(i)}et({type:"op",names:["\\mathop"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=t[0];return{type:"op",mode:n.mode,limits:!1,symbol:!1,body:nt(i)}},htmlBuilder:Sn,mathmlBuilder:Cn}),et({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return{type:"op",mode:t.mode,limits:!1,symbol:!1,name:n}},htmlBuilder:Sn,mathmlBuilder:Cn}),et({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return{type:"op",mode:t.mode,limits:!0,symbol:!1,name:n}},htmlBuilder:Sn,mathmlBuilder:Cn}),et({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return 1===n.length&&(n=En[n]),{type:"op",mode:t.mode,limits:!1,symbol:!0,name:n}},htmlBuilder:Sn,mathmlBuilder:Cn}),et({type:"operatorname",names:["\\operatorname"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=t[0];return{type:"operatorname",mode:n.mode,body:nt(i)}},htmlBuilder:function(e,t){if(e.body.length>0){for(var n=e.body.map(function(e){var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e}),i=lt(n,t.withFont("mathrm"),!0),r=0;r<i.length;r++){var o=i[r];o instanceof F&&(o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}return ze.makeSpan(["mop"],i,t)}return ze.makeSpan(["mop"],[],t)},mathmlBuilder:function(e,t){for(var n=Ct(e.body,t.withFont("mathrm")),i=!0,r=0;r<n.length;r++){var o=n[r];if(o instanceof _t.SpaceNode);else if(o instanceof _t.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var s=o.children[0];1===o.children.length&&s instanceof _t.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break;default:i=!1}else i=!1}if(i){var a=n.map(function(e){return e.toText()}).join("");n=[new _t.TextNode(a,!1)]}var l=new _t.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new _t.MathNode("mo",[xt("⁡","text")]);return _t.newDocumentFragment([l,c])}}),tt({type:"ordgroup",htmlBuilder:function(e,t){return ze.makeSpan(["mord"],lt(e.body,t,!0),t)},mathmlBuilder:function(e,t){return kt(e.body,t)}}),et({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=t[0];return{type:"overline",mode:n.mode,body:i}},htmlBuilder:function(e,t){var n=ft(e.body,t.havingCrampedStyle()),i=ze.makeLineSpan("overline-line",t),r=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i.height},{type:"elem",elem:i},{type:"kern",size:i.height}]},t);return ze.makeSpan(["mord","overline"],[r],t)},mathmlBuilder:function(e,t){var n=new _t.MathNode("mo",[new _t.TextNode("‾")]);n.setAttribute("stretchy","true");var i=new _t.MathNode("mover",[Et(e.body,t),n]);return i.setAttribute("accent","true"),i}}),et({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[0];return{type:"phantom",mode:n.mode,body:nt(i)}},htmlBuilder:function(e,t){var n=lt(e.body,t.withPhantom(),!1);return ze.makeFragment(n)},mathmlBuilder:function(e,t){var n=Ct(e.body,t);return new _t.MathNode("mphantom",n)}}),et({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[0];return{type:"hphantom",mode:n.mode,body:i}},htmlBuilder:function(e,t){var n=ze.makeSpan([],[ft(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t)},mathmlBuilder:function(e,t){var n=Ct(nt(e.body),t),i=new _t.MathNode("mphantom",n);return i.setAttribute("height","0px"),i}}),et({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[0];return{type:"vphantom",mode:n.mode,body:i}},htmlBuilder:function(e,t){var n=ze.makeSpan(["inner"],[ft(e.body,t.withPhantom())]),i=ze.makeSpan(["fix"],[]);return ze.makeSpan(["mord","rlap"],[n,i],t)},mathmlBuilder:function(e,t){var n=Ct(nt(e.body),t),i=new _t.MathNode("mphantom",n);return i.setAttribute("width","0px"),i}});var An=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Tn=function(e,t){var n=t.havingSize(e.size);return Mn(e.body,n,t)};et({type:"sizing",names:An,props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.breakOnTokenText,i=e.funcName,r=e.parser;r.consumeSpaces();var o=r.parseExpression(!1,n);return{type:"sizing",mode:r.mode,size:An.indexOf(i)+1,body:o}},htmlBuilder:Tn,mathmlBuilder:function(e,t){var n=t.havingSize(e.size),i=Ct(e.body,n),r=new _t.MathNode("mstyle",i);return r.setAttribute("mathsize",n.sizeMultiplier+"em"),r}}),et({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","text"],allowedInText:!0},handler:function(e,t){var n=e.parser,i=He(t[0],"size").value,r=t[1];return{type:"raisebox",mode:n.mode,dy:i,body:r}},htmlBuilder:function(e,t){var n={type:"text",mode:e.mode,body:nt(e.body),font:"mathrm"},i={type:"sizing",mode:e.mode,body:[n],size:6},r=Tn(i,t),o=Ae(e.dy,t);return ze.makeVList({positionType:"shift",positionData:-o,children:[{type:"elem",elem:r}]},t)},mathmlBuilder:function(e,t){var n=new _t.MathNode("mpadded",[Et(e.body,t)]),i=e.dy.number+e.dy.unit;return n.setAttribute("voffset",i),n}}),et({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(e,t,n){var i=e.parser,r=n[0],o=He(t[0],"size"),s=He(t[1],"size");return{type:"rule",mode:i.mode,shift:r&&He(r,"size").value,width:o.value,height:s.value}},htmlBuilder:function(e,t){var n=ze.makeSpan(["mord","rule"],[],t),i=0;e.shift&&(i=Ae(e.shift,t));var r=Ae(e.width,t),o=Ae(e.height,t);return n.style.borderRightWidth=r+"em",n.style.borderTopWidth=o+"em",n.style.bottom=i+"em",n.width=r,n.height=o+i,n.depth=-i,n.maxFontSize=1.125*o*t.sizeMultiplier,n},mathmlBuilder:function(e,t){return new _t.MathNode("mrow")}}),et({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(e,t,n){var i=e.parser,r=!1,o=!1,s=n[0]&&He(n[0],"ordgroup");if(s)for(var a="",l=0;l<s.body.length;++l)if("t"===(a=s.body[l].text))r=!0;else{if("b"!==a){r=!1,o=!1;break}o=!0}else r=!0,o=!0;var c=t[0];return{type:"smash",mode:i.mode,body:c,smashHeight:r,smashDepth:o}},htmlBuilder:function(e,t){var n=ze.makeSpan(["mord"],[ft(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].depth=0;return ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t)},mathmlBuilder:function(e,t){var n=new _t.MathNode("mpadded",[Et(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}}),et({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,n){var i=e.parser,r=n[0],o=t[0];return{type:"sqrt",mode:i.mode,body:o,index:r}},htmlBuilder:function(e,t){var n=ft(e.body,t.havingCrampedStyle());0===n.height&&(n.height=t.fontMetrics().xHeight),n instanceof T&&(n=ze.makeSpan([],[n],t));var i=t.fontMetrics().defaultRuleThickness,r=i;t.style.id<C.TEXT.id&&(r=t.fontMetrics().xHeight);var o=i+r/4,s=function(e,t){var n=t.havingBaseSizing(),i=$t("\\surd",e*n.sizeMultiplier,Qt,n),r=n.sizeMultiplier,o=void 0,s=0,a=0,l=0,c=void 0;return"small"===i.type?(l=1080,e<1?r=1:e<1.4&&(r=.7),a=1/r,(o=Ut("sqrtMain",s=1.08/r,l,t)).style.minWidth="0.853em",c=.833/r):"large"===i.type?(l=1080*Yt[i.size],a=Yt[i.size]/r,s=(Yt[i.size]+.08)/r,(o=Ut("sqrtSize"+i.size,s,l,t)).style.minWidth="1.02em",c=1/r):(s=e+.08,a=e,l=Math.floor(1e3*e)+80,(o=Ut("sqrtTall",s,l,t)).style.minWidth="0.742em",c=1.056),o.height=a,o.style.height=s+"em",{span:o,advanceWidth:c,ruleWidth:t.fontMetrics().sqrtRuleThickness*r}}(n.height+n.depth+o+i,t),a=s.span,l=s.ruleWidth,c=s.advanceWidth,u=a.height-l;u>n.height+n.depth+o&&(o=(o+u-n.height-n.depth)/2);var h=a.height-n.height-o-l;n.style.paddingLeft=c+"em";var d=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:a},{type:"kern",size:l}]},t);if(e.index){var f=t.havingStyle(C.SCRIPTSCRIPT),p=ft(e.index,f,t),m=.6*(d.height-d.depth),g=ze.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:p}]},t),v=ze.makeSpan(["root"],[g]);return ze.makeSpan(["mord","sqrt"],[v,d],t)}return ze.makeSpan(["mord","sqrt"],[d],t)},mathmlBuilder:function(e,t){var n=e.body,i=e.index;return i?new _t.MathNode("mroot",[Et(n,t),Et(i,t)]):new _t.MathNode("msqrt",[Et(n,t)])}});var Ln={display:C.DISPLAY,text:C.TEXT,script:C.SCRIPT,scriptscript:C.SCRIPTSCRIPT};et({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.breakOnTokenText,i=e.funcName,r=e.parser;r.consumeSpaces();var o=r.parseExpression(!0,n),s=i.slice(1,i.length-5);return{type:"styling",mode:r.mode,style:s,body:o}},htmlBuilder:function(e,t){var n=Ln[e.style],i=t.havingStyle(n).withFont("");return Mn(e.body,i,t)},mathmlBuilder:function(e,t){var n={display:C.DISPLAY,text:C.TEXT,script:C.SCRIPT,scriptscript:C.SCRIPTSCRIPT}[e.style],i=t.havingStyle(n),r=Ct(e.body,i),o=new _t.MathNode("mstyle",r),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return o.setAttribute("scriptlevel",s[0]),o.setAttribute("displaystyle",s[1]),o}}),tt({type:"supsub",htmlBuilder:function(e,t){var n=function(e,t){var n=e.base;return n?"op"===n.type?n.limits&&(t.style.size===C.DISPLAY.size||n.alwaysHandleSupSub)?Sn:null:"accent"===n.type?p.isCharacterBox(n.base)?It:null:"horizBrace"===n.type&&!e.sub===n.isOver?xn:null:null}(e,t);if(n)return n(e,t);var i,r=e.base,o=e.sup,s=e.sub,a=ft(r,t),l=void 0,c=void 0,u=t.fontMetrics(),h=0,d=0,f=r&&p.isCharacterBox(r);if(o){var m=t.havingStyle(t.style.sup());l=ft(o,m,t),f||(h=a.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(s){var g=t.havingStyle(t.style.sub());c=ft(s,g,t),f||(d=a.depth+g.fontMetrics().subDrop*g.sizeMultiplier/t.sizeMultiplier)}i=t.style===C.DISPLAY?u.sup1:t.style.cramped?u.sup3:u.sup2;var v=t.sizeMultiplier,y=.5/u.ptPerEm/v+"em",b=null;if(c){var _=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(a instanceof F||_)&&(b=-a.italic+"em")}var x=void 0;if(l&&c){h=Math.max(h,i,l.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var w=4*u.defaultRuleThickness;if(h-l.depth-(c.height-d)<w){d=w-(h-l.depth)+c.height;var S=.8*u.xHeight-(h-l.depth);S>0&&(h+=S,d-=S)}var k=[{type:"elem",elem:c,shift:d,marginRight:y,marginLeft:b},{type:"elem",elem:l,shift:-h,marginRight:y}];x=ze.makeVList({positionType:"individualShift",children:k},t)}else if(c){d=Math.max(d,u.sub1,c.height-.8*u.xHeight);var E=[{type:"elem",elem:c,marginLeft:b,marginRight:y}];x=ze.makeVList({positionType:"shift",positionData:d,children:E},t)}else{if(!l)throw new Error("supsub must have either sup or sub.");h=Math.max(h,i,l.depth+.25*u.xHeight),x=ze.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:l,marginRight:y}]},t)}var M=ut(a,"right")||"mord";return ze.makeSpan([M],[a,ze.makeSpan(["msupsub"],[x])],t)},mathmlBuilder:function(e,t){var n=!1,i=void 0,r=Ue(e.base,"horizBrace");r&&!!e.sup===r.isOver&&(n=!0,i=r.isOver);var o=[Et(e.base,t)];e.sub&&o.push(Et(e.sub,t)),e.sup&&o.push(Et(e.sup,t));var s=void 0;if(n)s=i?"mover":"munder";else if(e.sub)if(e.sup){var a=e.base;s=a&&"op"===a.type&&a.limits&&t.style===C.DISPLAY?"munderover":"msubsup"}else{var l=e.base;s=l&&"op"===l.type&&l.limits&&t.style===C.DISPLAY?"munder":"msub"}else{var c=e.base;s=c&&"op"===c.type&&c.limits&&t.style===C.DISPLAY?"mover":"msup"}return new _t.MathNode(s,o)}}),tt({type:"atom",htmlBuilder:function(e,t){return ze.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder:function(e,t){var n=new _t.MathNode("mo",[xt(e.text,e.mode)]);if("bin"===e.family){var i=St(e,t);"bold-italic"===i&&n.setAttribute("mathvariant",i)}else"punct"===e.family&&n.setAttribute("separator","true");return n}});var Dn={mi:"italic",mn:"normal",mtext:"normal"};tt({type:"mathord",htmlBuilder:function(e,t){return ze.makeOrd(e,t,"mathord")},mathmlBuilder:function(e,t){var n=new _t.MathNode("mi",[xt(e.text,e.mode,t)]),i=St(e,t)||"italic";return i!==Dn[n.type]&&n.setAttribute("mathvariant",i),n}}),tt({type:"textord",htmlBuilder:function(e,t){return ze.makeOrd(e,t,"textord")},mathmlBuilder:function(e,t){var n=xt(e.text,e.mode,t),i=St(e,t)||"normal",r=void 0;return r="text"===e.mode?new _t.MathNode("mtext",[n]):/[0-9]/.test(e.text)?new _t.MathNode("mn",[n]):"\\prime"===e.text?new _t.MathNode("mo",[n]):new _t.MathNode("mi",[n]),i!==Dn[r.type]&&r.setAttribute("mathvariant",i),r}}),tt({type:"spacing",htmlBuilder:function(e,t){if(ze.regularSpace.hasOwnProperty(e.text)){var n=ze.regularSpace[e.text].className||"";if("text"===e.mode){var i=ze.makeOrd(e,t,"textord");return i.classes.push(n),i}return ze.makeSpan(["mspace",n],[ze.mathsym(e.text,e.mode,t)],t)}if(ze.cssSpace.hasOwnProperty(e.text))return ze.makeSpan(["mspace",ze.cssSpace[e.text]],[],t);throw new l('Unknown type of space "'+e.text+'"')},mathmlBuilder:function(e,t){if(!ze.regularSpace.hasOwnProperty(e.text)){if(ze.cssSpace.hasOwnProperty(e.text))return new _t.MathNode("mspace");throw new l('Unknown type of space "'+e.text+'"')}return new _t.MathNode("mtext",[new _t.TextNode(" ")])}}),tt({type:"tag",mathmlBuilder:function(e,t){var n=new _t.MathNode("mtable",[new _t.MathNode("mlabeledtr",[new _t.MathNode("mtd",[kt(e.tag,t)]),new _t.MathNode("mtd",[kt(e.body,t)])])]);return n.setAttribute("side","right"),n}});var In={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Pn={"\\textbf":"textbf"},Rn={"\\textit":"textit"},Nn=function(e,t){var n=e.font;return n?In[n]?t.withTextFontFamily(In[n]):Pn[n]?t.withTextFontWeight(Pn[n]):t.withTextFontShape(Rn[n]):t};et({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textit"],props:{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0,consumeMode:"text"},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"text",mode:n.mode,body:nt(r),font:i}},htmlBuilder:function(e,t){var n=Nn(e,t),i=lt(e.body,n,!0);return ze.tryCombineChars(i),ze.makeSpan(["mord","text"],i,n)},mathmlBuilder:function(e,t){var n=Nn(e,t);return kt(e.body,n)}}),et({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return{type:"underline",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var n=ft(e.body,t),i=ze.makeLineSpan("underline-line",t),r=ze.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i.height},{type:"elem",elem:i},{type:"kern",size:3*i.height},{type:"elem",elem:n}]},t);return ze.makeSpan(["mord","underline"],[r],t)},mathmlBuilder:function(e,t){var n=new _t.MathNode("mo",[new _t.TextNode("‾")]);n.setAttribute("stretchy","true");var i=new _t.MathNode("munder",[Et(e.body,t),n]);return i.setAttribute("accentunder","true"),i}}),et({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(e,t,n){throw new l("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(e,t){for(var n=ze.makeVerb(e,t),i=[],r=t.havingStyle(t.style.text()),o=0;o<n.length;o++){var s=n[o];"~"===s&&(s="\\textasciitilde"),i.push(ze.makeSymbol(s,"Typewriter-Regular",e.mode,r,["mord","texttt"]))}return ze.tryCombineChars(i),ze.makeSpan(["mord","text"].concat(r.sizingClasses(t)),i,r)},mathmlBuilder:function(e,t){var n=new _t.TextNode(ze.makeVerb(e,t)),i=new _t.MathNode("mtext",[n]);return i.setAttribute("mathvariant","monospace"),i}});var On=Ze,Fn={};function jn(e){for(var t=e.type,n=e.names,i=e.props,r=e.handler,o=e.htmlBuilder,s=e.mathmlBuilder,a={type:t,numArgs:i.numArgs||0,greediness:1,allowedInText:!1,numOptionalArgs:0,handler:r},l=0;l<n.length;++l)Fn[n[l]]=a;o&&($e[t]=o),s&&(Je[t]=s)}function Bn(e){var t=[];e.consumeSpaces();for(var n=e.nextToken.text;"\\hline"===n||"\\hdashline"===n;)e.consume(),t.push("\\hdashline"===n),e.consumeSpaces(),n=e.nextToken.text;return t}function Xn(e,t,n){var i=t.hskipBeforeAndAfter,r=t.addJot,o=t.cols,s=t.arraystretch;if(e.gullet.beginGroup(),e.gullet.macros.set("\\\\","\\cr"),!s){var a=e.gullet.expandMacroAsText("\\arraystretch");if(null==a)s=1;else if(!(s=parseFloat(a))||s<0)throw new l("Invalid \\arraystretch: "+a)}var c=[],u=[c],h=[],d=[];for(d.push(Bn(e));;){var f=e.parseExpression(!1,"\\cr");f={type:"ordgroup",mode:e.mode,body:f},n&&(f={type:"styling",mode:e.mode,style:n,body:[f]}),c.push(f);var p=e.nextToken.text;if("&"===p)e.consume();else{if("\\end"===p){1===c.length&&"styling"===f.type&&0===f.body[0].body.length&&u.pop(),d.length<u.length+1&&d.push([]);break}if("\\cr"!==p)throw new l("Expected & or \\\\ or \\cr or \\end",e.nextToken);var m=e.parseFunction();if(!m)throw new l("Failed to parse function after "+p);h.push(He(m,"cr").size),d.push(Bn(e)),c=[],u.push(c)}}return e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:r,arraystretch:s,body:u,cols:o,rowGaps:h,hskipBeforeAndAfter:i,hLinesBeforeRow:d}}function zn(e){return"d"===e.substr(0,1)?"display":"text"}var Hn=function(e,t){var n=void 0,i=void 0,r=e.body.length,o=e.hLinesBeforeRow,s=0,a=new Array(r),c=[],u=1/t.fontMetrics().ptPerEm,h=5*u,d=12*u,f=3*u,m=e.arraystretch*d,g=.7*m,v=.3*m,y=0;function b(e){for(var t=0;t<e.length;++t)t>0&&(y+=.25),c.push({pos:y,isDashed:e[t]})}for(b(o[0]),n=0;n<e.body.length;++n){var _=e.body[n],x=g,w=v;s<_.length&&(s=_.length);var S=new Array(_.length);for(i=0;i<_.length;++i){var C=ft(_[i],t);w<C.depth&&(w=C.depth),x<C.height&&(x=C.height),S[i]=C}var k=e.rowGaps[n],E=0;k&&(E=Ae(k,t))>0&&(w<(E+=v)&&(w=E),E=0),e.addJot&&(w+=f),S.height=x,S.depth=w,y+=x,S.pos=y,y+=w+E,a[n]=S,b(o[n+1])}var M=y/2+t.fontMetrics().axisHeight,A=e.cols||[],T=[],L=void 0,D=void 0;for(i=0,D=0;i<s||D<A.length;++i,++D){for(var I=A[D]||{},P=!0;"separator"===I.type;){if(P||((L=ze.makeSpan(["arraycolsep"],[])).style.width=t.fontMetrics().doubleRuleSep+"em",T.push(L)),"|"===I.separator){var R=ze.makeSpan(["vertical-separator"],[],t);R.style.height=y+"em",R.style.verticalAlign=-(y-M)+"em",T.push(R)}else{if(":"!==I.separator)throw new l("Invalid separator type: "+I.separator);var N=ze.makeSpan(["vertical-separator","vs-dashed"],[],t);N.style.height=y+"em",N.style.verticalAlign=-(y-M)+"em",T.push(N)}I=A[++D]||{},P=!1}if(!(i>=s)){var O=void 0;(i>0||e.hskipBeforeAndAfter)&&0!==(O=p.deflt(I.pregap,h))&&((L=ze.makeSpan(["arraycolsep"],[])).style.width=O+"em",T.push(L));var F=[];for(n=0;n<r;++n){var j=a[n],B=j[i];if(B){var X=j.pos-M;B.depth=j.depth,B.height=j.height,F.push({type:"elem",elem:B,shift:X})}}F=ze.makeVList({positionType:"individualShift",children:F},t),F=ze.makeSpan(["col-align-"+(I.align||"c")],[F]),T.push(F),(i<s-1||e.hskipBeforeAndAfter)&&0!==(O=p.deflt(I.postgap,h))&&((L=ze.makeSpan(["arraycolsep"],[])).style.width=O+"em",T.push(L))}}if(a=ze.makeSpan(["mtable"],T),c.length>0){for(var z=ze.makeLineSpan("hline",t,.05),H=ze.makeLineSpan("hdashline",t,.05),U=[{type:"elem",elem:a,shift:0}];c.length>0;){var K=c.pop(),W=K.pos-M;K.isDashed?U.push({type:"elem",elem:H,shift:W}):U.push({type:"elem",elem:z,shift:W})}a=ze.makeVList({positionType:"individualShift",children:U},t)}return ze.makeSpan(["mord"],[a],t)},Un=function(e,t){return new _t.MathNode("mtable",e.body.map(function(e){return new _t.MathNode("mtr",e.map(function(e){return new _t.MathNode("mtd",[Et(e,t)])}))}))},Kn=function(e,t){var n=[],i=Xn(e.parser,{cols:n,addJot:!0},"display"),r=void 0,o=0,s={type:"ordgroup",mode:e.mode,body:[]},a=Ue(t[0],"ordgroup");if(a){for(var c="",u=0;u<a.body.length;u++)c+=He(a.body[u],"textord").text;r=Number(c),o=2*r}var h=!o;i.body.forEach(function(e){for(var t=1;t<e.length;t+=2)He(He(e[t],"styling").body[0],"ordgroup").body.unshift(s);if(h)o<e.length&&(o=e.length);else{var n=e.length/2;if(r<n)throw new l("Too many math in a row: expected "+r+", but got "+n,e[0])}});for(var d=0;d<o;++d){var f="r",p=0;d%2==1?f="l":d>0&&h&&(p=1),n[d]={type:"align",align:f,pregap:p,postgap:0}}return i};jn({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(e,t){var n={cols:(We(t[0])?[t[0]]:He(t[0],"ordgroup").body).map(function(e){var t=function(e){var t=We(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new l("Unknown column alignment: "+t,e)}),hskipBeforeAndAfter:!0};return Xn(e.parser,n,zn(e.envName))},htmlBuilder:Hn,mathmlBuilder:Un}),jn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],props:{numArgs:0},handler:function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName],n=Xn(e.parser,{hskipBeforeAndAfter:!1},zn(e.envName));return t?{type:"leftright",mode:e.mode,body:[n],left:t[0],right:t[1]}:n},htmlBuilder:Hn,mathmlBuilder:Un}),jn({type:"array",names:["cases","dcases"],props:{numArgs:0},handler:function(e){var t=Xn(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},zn(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:"\\{",right:"."}},htmlBuilder:Hn,mathmlBuilder:Un}),jn({type:"array",names:["aligned"],props:{numArgs:0},handler:Kn,htmlBuilder:Hn,mathmlBuilder:Un}),jn({type:"array",names:["gathered"],props:{numArgs:0},handler:function(e){return Xn(e.parser,{cols:[{type:"align",align:"c"}],addJot:!0},"display")},htmlBuilder:Hn,mathmlBuilder:Un}),jn({type:"array",names:["alignedat"],props:{numArgs:1},handler:Kn,htmlBuilder:Hn,mathmlBuilder:Un}),et({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(e,t){throw new l(e.funcName+" valid only within array environment")}});var Wn=Fn,Gn=new RegExp("^(\\\\[a-zA-Z@]+)[ \r\n\t]*$"),Yn=new RegExp("[̀-ͯ]+$"),qn="(\\\\href|\\\\url)(?:[ \r\n\t]*\\{((?:[^{}\\\\]|\\\\[^]|{[^{}]*})*)\\}|[ \r\n\t]+([^{}])|[ \r\n\t]*([^{}a-zA-Z]))",Vn="([ \r\n\t]+)|(%[^\n]*(?:\n|$)|[!-\\[\\]-‧‪-퟿豈-￿][̀-ͯ]*|[\ud800-\udbff][\udc00-\udfff][̀-ͯ]*|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|"+qn+"|\\\\[a-zA-Z@]+[ \r\n\t]*|\\\\[^\ud800-\udfff])",Qn=(new RegExp("^\\\\[a-zA-Z@]+"),new RegExp("^"+qn)),Zn=function(){function e(t,n){r()(this,e),this.input=t,this.settings=n,this.tokenRegex=new RegExp(Vn,"g")}return e.prototype.lex=function(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new s("EOF",new o(this,t,t));var n=this.tokenRegex.exec(e);if(null===n||n.index!==t)throw new l("Unexpected character: '"+e[t]+"'",new s(e[t],new o(this,t,t+1)));var i=n[2]||" ",r=i.match(Gn);return r&&(i=r[1]+i.slice(r[0].length)),"%"===i[0]?("\n"!==i[i.length-1]&&this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)"),this.lex()):new s(i,new o(this,t,this.tokenRegex.lastIndex))},e}(),$n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r()(this,e),this.current=n,this.builtins=t,this.undefStack=[]}return e.prototype.beginGroup=function(){this.undefStack.push({})},e.prototype.endGroup=function(){if(0===this.undefStack.length)throw new l("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?delete this.current[t]:this.current[t]=e[t])},e.prototype.has=function(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)},e.prototype.get=function(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]},e.prototype.set=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}this.current[e]=t},e}(),Jn={},ei=Jn;function ti(e,t){Jn[e]=t}ti("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),ti("\\@secondoftwo",function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),ti("\\@ifnextchar",function(e){var t=e.consumeArgs(3),n=e.future();return 1===t[0].length&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),ti("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),ti("\\TextOrMath",function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var ni={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ti("\\char",function(e){var t=e.popToken(),n=void 0,i="";if("'"===t.text)n=8,t=e.popToken();else if('"'===t.text)n=16,t=e.popToken();else if("`"===t.text)if("\\"===(t=e.popToken()).text[0])i=t.text.charCodeAt(1);else{if("EOF"===t.text)throw new l("\\char` missing argument");i=t.text.charCodeAt(0)}else n=10;if(n){if(null==(i=ni[t.text])||i>=n)throw new l("Invalid base-"+n+" digit "+t.text);for(var r=void 0;null!=(r=ni[e.future().text])&&r<n;)i*=n,i+=r,e.popToken()}return"\\@char{"+i+"}"});var ii=function(e,t){var n=e.consumeArgs(1)[0];if(1!==n.length)throw new l("\\gdef's first argument must be a macro name");var i=n[0].text,r=0;for(n=e.consumeArgs(1)[0];1===n.length&&"#"===n[0].text;){if(1!==(n=e.consumeArgs(1)[0]).length)throw new l('Invalid argument number length "'+n.length+'"');if(!/^[1-9]$/.test(n[0].text))throw new l('Invalid argument number "'+n[0].text+'"');if(r++,parseInt(n[0].text)!==r)throw new l('Argument number "'+n[0].text+'" out of order');n=e.consumeArgs(1)[0]}return e.macros.set(i,{tokens:n,numArgs:r},t),""};ti("\\gdef",function(e){return ii(e,!0)}),ti("\\def",function(e){return ii(e,!1)}),ti("\\global",function(e){var t=e.consumeArgs(1)[0];if(1!==t.length)throw new l("Invalid command after \\global");var n=t[0].text;if("\\def"===n)return ii(e,!0);throw new l("Invalid command '"+n+"' after \\global")});var ri=function(e,t,n){var i=e.consumeArgs(1)[0];if(1!==i.length)throw new l("\\newcommand's first argument must be a macro name");var r=i[0].text,o=e.isDefined(r);if(o&&!t)throw new l("\\newcommand{"+r+"} attempting to redefine "+r+"; use \\renewcommand");if(!o&&!n)throw new l("\\renewcommand{"+r+"} when command "+r+" does not yet exist; use \\newcommand");var s=0;if(1===(i=e.consumeArgs(1)[0]).length&&"["===i[0].text){for(var a="",c=e.expandNextToken();"]"!==c.text&&"EOF"!==c.text;)a+=c.text,c=e.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new l("Invalid number of arguments: "+a);s=parseInt(a),i=e.consumeArgs(1)[0]}return e.macros.set(r,{tokens:i,numArgs:s}),""};ti("\\newcommand",function(e){return ri(e,!1,!0)}),ti("\\renewcommand",function(e){return ri(e,!0,!1)}),ti("\\providecommand",function(e){return ri(e,!0,!0)}),ti("\\bgroup","{"),ti("\\egroup","}"),ti("\\begingroup","{"),ti("\\endgroup","}"),ti("\\lq","`"),ti("\\rq","'"),ti("\\aa","\\r a"),ti("\\AA","\\r A"),ti("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),ti("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),ti("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),ti("ℂ","\\mathbb{C}"),ti("ℍ","\\mathbb{H}"),ti("ℕ","\\mathbb{N}"),ti("ℙ","\\mathbb{P}"),ti("ℚ","\\mathbb{Q}"),ti("ℝ","\\mathbb{R}"),ti("ℤ","\\mathbb{Z}"),ti("ℎ","\\mathit{h}"),ti("ℬ","\\mathscr{B}"),ti("ℰ","\\mathscr{E}"),ti("ℱ","\\mathscr{F}"),ti("ℋ","\\mathscr{H}"),ti("ℐ","\\mathscr{I}"),ti("ℒ","\\mathscr{L}"),ti("ℳ","\\mathscr{M}"),ti("ℛ","\\mathscr{R}"),ti("ℭ","\\mathfrak{C}"),ti("ℌ","\\mathfrak{H}"),ti("ℨ","\\mathfrak{Z}"),ti("·","\\cdotp"),ti("\\llap","\\mathllap{\\textrm{#1}}"),ti("\\rlap","\\mathrlap{\\textrm{#1}}"),ti("\\clap","\\mathclap{\\textrm{#1}}"),ti("\\not","\\mathrel{\\mathrlap\\@not}"),ti("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),ti("\\ne","\\neq"),ti("≠","\\neq"),ti("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),ti("∉","\\notin"),ti("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),ti("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),ti("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),ti("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),ti("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),ti("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),ti("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),ti("⟂","\\perp"),ti("‼","\\mathclose{!\\mkern-0.8mu!}"),ti("∌","\\notni"),ti("⌜","\\ulcorner"),ti("⌝","\\urcorner"),ti("⌞","\\llcorner"),ti("⌟","\\lrcorner"),ti("©","\\copyright"),ti("®","\\textregistered"),ti("️","\\textregistered"),ti("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),ti("⋮","\\vdots"),ti("\\varGamma","\\mathit{\\Gamma}"),ti("\\varDelta","\\mathit{\\Delta}"),ti("\\varTheta","\\mathit{\\Theta}"),ti("\\varLambda","\\mathit{\\Lambda}"),ti("\\varXi","\\mathit{\\Xi}"),ti("\\varPi","\\mathit{\\Pi}"),ti("\\varSigma","\\mathit{\\Sigma}"),ti("\\varUpsilon","\\mathit{\\Upsilon}"),ti("\\varPhi","\\mathit{\\Phi}"),ti("\\varPsi","\\mathit{\\Psi}"),ti("\\varOmega","\\mathit{\\Omega}"),ti("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),ti("\\boxed","\\fbox{$\\displaystyle{#1}$}"),ti("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),ti("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),ti("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var oi={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ti("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in oi?t=oi[n]:"\\not"===n.substr(0,4)?t="\\dotsb":n in V.math&&p.contains(["bin","rel"],V.math[n].group)&&(t="\\dotsb"),t});var si={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ti("\\dotso",function(e){return e.future().text in si?"\\ldots\\,":"\\ldots"}),ti("\\dotsc",function(e){var t=e.future().text;return t in si&&","!==t?"\\ldots\\,":"\\ldots"}),ti("\\cdots",function(e){return e.future().text in si?"\\@cdots\\,":"\\@cdots"}),ti("\\dotsb","\\cdots"),ti("\\dotsm","\\cdots"),ti("\\dotsi","\\!\\cdots"),ti("\\dotsx","\\ldots\\,"),ti("\\DOTSI","\\relax"),ti("\\DOTSB","\\relax"),ti("\\DOTSX","\\relax"),ti("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),ti("\\,","\\tmspace+{3mu}{.1667em}"),ti("\\thinspace","\\,"),ti("\\:","\\tmspace+{4mu}{.2222em}"),ti("\\medspace","\\:"),ti("\\;","\\tmspace+{5mu}{.2777em}"),ti("\\thickspace","\\;"),ti("\\!","\\tmspace-{3mu}{.1667em}"),ti("\\negthinspace","\\!"),ti("\\negmedspace","\\tmspace-{4mu}{.2222em}"),ti("\\negthickspace","\\tmspace-{5mu}{.277em}"),ti("\\enspace","\\kern.5em "),ti("\\enskip","\\hskip.5em\\relax"),ti("\\quad","\\hskip1em\\relax"),ti("\\qquad","\\hskip2em\\relax"),ti("\\tag","\\@ifstar\\tag@literal\\tag@paren"),ti("\\tag@paren","\\tag@literal{({#1})}"),ti("\\tag@literal",function(e){if(e.macros.get("\\df@tag"))throw new l("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),ti("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),ti("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),ti("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),ti("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),ti("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\mathrlap{\\mkern0.4mu\\raisebox{0.4mu}{$#1$}}{\\mkern0.8mu#1}}}{\\mathbf{#1}}"),ti("\\\\","\\newline"),ti("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var ai=z["Main-Regular"]["T".charCodeAt(0)][1]-.7*z["Main-Regular"]["A".charCodeAt(0)][1]+"em";ti("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+ai+"}{\\scriptsize A}\\kern-.15em\\TeX}{LaTeX}}"),ti("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+ai+"}{\\scriptsize A}\\kern-.15em\\TeX}{KaTeX}}"),ti("\\hspace","\\@ifstar\\@hspacer\\@hspace"),ti("\\@hspace","\\hskip #1\\relax"),ti("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),ti("\\ordinarycolon",":"),ti("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),ti("\\dblcolon","\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}"),ti("\\coloneqq","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}"),ti("\\Coloneqq","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}"),ti("\\coloneq","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}"),ti("\\Coloneq","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}"),ti("\\eqqcolon","\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ti("\\Eqqcolon","\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ti("\\eqcolon","\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ti("\\Eqcolon","\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ti("\\colonapprox","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}"),ti("\\Colonapprox","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}"),ti("\\colonsim","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}"),ti("\\Colonsim","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}"),ti("≔","\\coloneqq"),ti("≕","\\eqqcolon"),ti("⩴","\\Coloneqq"),ti("\\ratio","\\vcentcolon"),ti("\\coloncolon","\\dblcolon"),ti("\\colonequals","\\coloneqq"),ti("\\coloncolonequals","\\Coloneqq"),ti("\\equalscolon","\\eqqcolon"),ti("\\equalscoloncolon","\\Eqqcolon"),ti("\\colonminus","\\coloneq"),ti("\\coloncolonminus","\\Coloneq"),ti("\\minuscolon","\\eqcolon"),ti("\\minuscoloncolon","\\Eqcolon"),ti("\\coloncolonapprox","\\Colonapprox"),ti("\\coloncolonsim","\\Colonsim"),ti("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ti("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ti("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ti("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ti("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),ti("\\limsup","\\DOTSB\\mathop{\\operatorname{lim\\,sup}}\\limits"),ti("\\liminf","\\DOTSB\\mathop{\\operatorname{lim\\,inf}}\\limits"),ti("\\darr","\\downarrow"),ti("\\dArr","\\Downarrow"),ti("\\Darr","\\Downarrow"),ti("\\lang","\\langle"),ti("\\rang","\\rangle"),ti("\\uarr","\\uparrow"),ti("\\uArr","\\Uparrow"),ti("\\Uarr","\\Uparrow"),ti("\\N","\\mathbb{N}"),ti("\\R","\\mathbb{R}"),ti("\\Z","\\mathbb{Z}"),ti("\\alef","\\aleph"),ti("\\alefsym","\\aleph"),ti("\\Alpha","\\mathrm{A}"),ti("\\Beta","\\mathrm{B}"),ti("\\bull","\\bullet"),ti("\\Chi","\\mathrm{X}"),ti("\\clubs","\\clubsuit"),ti("\\cnums","\\mathbb{C}"),ti("\\Complex","\\mathbb{C}"),ti("\\Dagger","\\ddagger"),ti("\\diamonds","\\diamondsuit"),ti("\\empty","\\emptyset"),ti("\\Epsilon","\\mathrm{E}"),ti("\\Eta","\\mathrm{H}"),ti("\\exist","\\exists"),ti("\\harr","\\leftrightarrow"),ti("\\hArr","\\Leftrightarrow"),ti("\\Harr","\\Leftrightarrow"),ti("\\hearts","\\heartsuit"),ti("\\image","\\Im"),ti("\\infin","\\infty"),ti("\\Iota","\\mathrm{I}"),ti("\\isin","\\in"),ti("\\Kappa","\\mathrm{K}"),ti("\\larr","\\leftarrow"),ti("\\lArr","\\Leftarrow"),ti("\\Larr","\\Leftarrow"),ti("\\lrarr","\\leftrightarrow"),ti("\\lrArr","\\Leftrightarrow"),ti("\\Lrarr","\\Leftrightarrow"),ti("\\Mu","\\mathrm{M}"),ti("\\natnums","\\mathbb{N}"),ti("\\Nu","\\mathrm{N}"),ti("\\Omicron","\\mathrm{O}"),ti("\\plusmn","\\pm"),ti("\\rarr","\\rightarrow"),ti("\\rArr","\\Rightarrow"),ti("\\Rarr","\\Rightarrow"),ti("\\real","\\Re"),ti("\\reals","\\mathbb{R}"),ti("\\Reals","\\mathbb{R}"),ti("\\Rho","\\mathrm{R}"),ti("\\sdot","\\cdot"),ti("\\sect","\\S"),ti("\\spades","\\spadesuit"),ti("\\sub","\\subset"),ti("\\sube","\\subseteq"),ti("\\supe","\\supseteq"),ti("\\Tau","\\mathrm{T}"),ti("\\thetasym","\\vartheta"),ti("\\weierp","\\wp"),ti("\\Zeta","\\mathrm{Z}");var li={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},ci=function(){function e(t,n,i){r()(this,e),this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new $n(ei,n.macros),this.mode=i,this.stack=[]}return e.prototype.feed=function(e){this.lexer=new Zn(e,this.settings)},e.prototype.switchMode=function(e){this.mode=e},e.prototype.beginGroup=function(){this.macros.beginGroup()},e.prototype.endGroup=function(){this.macros.endGroup()},e.prototype.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},e.prototype.popToken=function(){return this.future(),this.stack.pop()},e.prototype.pushToken=function(e){this.stack.push(e)},e.prototype.pushTokens=function(e){var t;(t=this.stack).push.apply(t,e)},e.prototype.consumeSpaces=function(){for(;" "===this.future().text;)this.stack.pop()},e.prototype.consumeArgs=function(e){for(var t=[],n=0;n<e;++n){this.consumeSpaces();var i=this.popToken();if("{"===i.text){for(var r=[],o=1;0!==o;){var s=this.popToken();if(r.push(s),"{"===s.text)++o;else if("}"===s.text)--o;else if("EOF"===s.text)throw new l("End of input in macro argument",i)}r.pop(),r.reverse(),t[n]=r}else{if("EOF"===i.text)throw new l("End of input expecting macro argument");t[n]=[i]}}return t},e.prototype.expandOnce=function(){var e=this.popToken(),t=e.text,n=this._getExpansion(t);if(null==n)return this.pushToken(e),e;if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new l("Too many expansions: infinite loop or need to increase maxExpand setting");var i=n.tokens;if(n.numArgs)for(var r=this.consumeArgs(n.numArgs),o=(i=i.slice()).length-1;o>=0;--o){var s=i[o];if("#"===s.text){if(0===o)throw new l("Incomplete placeholder at end of macro body",s);if("#"===(s=i[--o]).text)i.splice(o+1,1);else{if(!/^[1-9]$/.test(s.text))throw new l("Not a valid argument number",s);var a;(a=i).splice.apply(a,[o,2].concat(r[+s.text-1]))}}}return this.pushTokens(i),i},e.prototype.expandAfterFuture=function(){return this.expandOnce(),this.future()},e.prototype.expandNextToken=function(){for(;;){var e=this.expandOnce();if(e instanceof s){if("\\relax"!==e.text)return this.stack.pop();this.stack.pop()}}throw new Error},e.prototype.expandMacro=function(e){if(this.macros.get(e)){var t=[],n=this.stack.length;for(this.pushToken(new s(e));this.stack.length>n;)this.expandOnce()instanceof s&&t.push(this.stack.pop());return t}},e.prototype.expandMacroAsText=function(e){var t=this.expandMacro(e);return t?t.map(function(e){return e.text}).join(""):t},e.prototype._getExpansion=function(e){var t=this.macros.get(e);if(null==t)return t;var n="function"==typeof t?t(this):t;if("string"==typeof n){var i=0;if(-1!==n.indexOf("#"))for(var r=n.replace(/##/g,"");-1!==r.indexOf("#"+(i+1));)++i;for(var o=new Zn(n,this.settings),s=[],a=o.lex();"EOF"!==a.text;)s.push(a),a=o.lex();return s.reverse(),{tokens:s,numArgs:i}}return n},e.prototype.isDefined=function(e){return this.macros.has(e)||On.hasOwnProperty(e)||V.math.hasOwnProperty(e)||V.text.hasOwnProperty(e)||li.hasOwnProperty(e)},e}(),ui={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"}},hi={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ","ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","č":"č","ĉ":"ĉ","ċ":"ċ","ď":"ď","ḋ":"ḋ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ","ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ĺ":"ĺ","ľ":"ľ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ú":"ú","ù":"ù","ü":"ü","ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ","Ć":"Ć","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ď":"Ď","Ḋ":"Ḋ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ĺ":"Ĺ","Ľ":"Ľ","Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ť":"Ť","Ṫ":"Ṫ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū","Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ","Ώ":"Ώ","Ὼ":"Ὼ"};function di(e,t){return{type:"arg",result:e,token:t}}var fi=function(){function e(t,n){r()(this,e),this.mode="math",this.gullet=new ci(t,n,this.mode),this.settings=n,this.leftrightDepth=0}return e.prototype.expect=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.nextToken.text!==e)throw new l("Expected '"+e+"', got '"+this.nextToken.text+"'",this.nextToken);t&&this.consume()},e.prototype.consume=function(){this.nextToken=this.gullet.expandNextToken()},e.prototype.switchMode=function(e){this.mode=e,this.gullet.switchMode(e)},e.prototype.parse=function(){this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor"),this.consume();var e=this.parseExpression(!1);return this.expect("EOF",!1),this.gullet.endGroup(),e},e.prototype.parseExpression=function(t,n){for(var i=[];;){"math"===this.mode&&this.consumeSpaces();var r=this.nextToken;if(-1!==e.endOfExpression.indexOf(r.text))break;if(n&&r.text===n)break;if(t&&On[r.text]&&On[r.text].infix)break;var o=this.parseAtom(n);if(!o){if(!this.settings.throwOnError&&"\\"===r.text[0]){var s=this.handleUnsupportedCmd();i.push(s);continue}break}i.push(o)}return"text"===this.mode&&this.formLigatures(i),this.handleInfixNodes(i)},e.prototype.handleInfixNodes=function(e){for(var t=-1,n=void 0,i=0;i<e.length;i++){var r=Ue(e[i],"infix");if(r){if(-1!==t)throw new l("only one infix operator per group",r.token);t=i,n=r.replaceWith}}if(-1!==t&&n){var o,s,a=e.slice(0,t),c=e.slice(t+1);return o=1===a.length&&"ordgroup"===a[0].type?a[0]:{type:"ordgroup",mode:this.mode,body:a},s=1===c.length&&"ordgroup"===c[0].type?c[0]:{type:"ordgroup",mode:this.mode,body:c},["\\\\abovefrac"===n?this.callFunction(n,[o,e[t],s],[]):this.callFunction(n,[o,s],[])]}return e},e.prototype.handleSupSubscript=function(t){var n=this.nextToken,i=n.text;this.consume(),this.consumeSpaces();var r=this.parseGroup();if(!r){if(this.settings.throwOnError||"\\"!==this.nextToken.text[0])throw new l("Expected group after '"+i+"'",n);return this.handleUnsupportedCmd()}if("fn"===r.type){if(On[r.result].greediness>e.SUPSUB_GREEDINESS)return this.parseGivenFunction(r);throw new l("Got function '"+r.result+"' with no arguments as "+t,n)}return r.result},e.prototype.handleUnsupportedCmd=function(){for(var e=this.nextToken.text,t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:t},r={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return this.consume(),r},e.prototype.parseAtom=function(e){var t=this.parseImplicitGroup(e);if("text"===this.mode)return t;for(var n=void 0,i=void 0;;){this.consumeSpaces();var r=this.nextToken;if("\\limits"===r.text||"\\nolimits"===r.text){var o=Ue(t,"op");if(!o)throw new l("Limit controls must follow a math operator",r);var s="\\limits"===r.text;o.limits=s,o.alwaysHandleSupSub=!0,this.consume()}else if("^"===r.text){if(n)throw new l("Double superscript",r);n=this.handleSupSubscript("superscript")}else if("_"===r.text){if(i)throw new l("Double subscript",r);i=this.handleSupSubscript("subscript")}else{if("'"!==r.text)break;if(n)throw new l("Double superscript",r);var a={type:"textord",mode:this.mode,text:"\\prime"},c=[a];for(this.consume();"'"===this.nextToken.text;)c.push(a),this.consume();"^"===this.nextToken.text&&c.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:c}}}return n||i?{type:"supsub",mode:this.mode,base:t,sup:n,sub:i}:t},e.prototype.parseImplicitGroup=function(e){var t=this.parseSymbol();if(null==t)return this.parseFunction();if("arg"===t.type)return this.parseGivenFunction(t);if("\\begin"===t.result){var n=He(this.parseGivenFunction(t),"environment"),i=n.name;if(!Wn.hasOwnProperty(i))throw new l("No such environment: "+i,n.nameGroup);var r=Wn[i],o=this.parseArguments("\\begin{"+i+"}",r),s=o.args,a=o.optArgs,c={mode:this.mode,envName:i,parser:this},u=r.handler(c,s,a);this.expect("\\end",!1);var h=this.nextToken,d=this.parseFunction();if(!d)throw new l("failed to parse function after \\end");if((d=He(d,"environment")).name!==i)throw new l("Mismatch: \\begin{"+i+"} matched by \\end{"+d.name+"}",h);return u}return this.parseGivenFunction(t,e)},e.prototype.parseFunction=function(){var e=this.parseGroup();return e?this.parseGivenFunction(e):null},e.prototype.parseGivenFunction=function(e,t){if("fn"===e.type){var n=e.result,i=On[n];if("text"===this.mode&&!i.allowedInText)throw new l("Can't use function '"+n+"' in text mode",e.token);if("math"===this.mode&&!1===i.allowedInMath)throw new l("Can't use function '"+n+"' in math mode",e.token);if(i.consumeMode){var r=this.mode;this.switchMode(i.consumeMode),this.consume(),this.switchMode(r)}else this.consume();var o=this.parseArguments(n,i),s=o.args,a=o.optArgs,c=e.token;return this.callFunction(n,s,a,c,t)}return e.result},e.prototype.callFunction=function(e,t,n,i,r){var o={funcName:e,parser:this,token:i,breakOnTokenText:r},s=On[e];if(s&&s.handler)return s.handler(o,t,n);throw new l("No function handler for "+e)},e.prototype.parseArguments=function(e,t){var n=t.numArgs+t.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var i=t.greediness,r=[],o=[],s=0;s<n;s++){var a=t.argTypes&&t.argTypes[s],c=s<t.numOptionalArgs;s>0&&!c&&this.consumeSpaces(),0!==s||c||"math"!==this.mode||this.consumeSpaces();var u=this.nextToken,h=a?this.parseGroupOfType(a,c):this.parseGroup(c);if(!h){if(c){o.push(null);continue}if(this.settings.throwOnError||"\\"!==this.nextToken.text[0])throw new l("Expected group after '"+e+"'",u);h=di(this.handleUnsupportedCmd(),u)}var d=void 0;if("fn"===h.type){if(!(On[h.result].greediness>i))throw new l("Got function '"+h.result+"' as argument to '"+e+"'",u);d=this.parseGivenFunction(h)}else d=h.result;(c?o:r).push(d)}return{args:r,optArgs:o}},e.prototype.parseGroupOfType=function(e,t){if("original"===e&&(e=this.mode),"color"===e)return this.parseColorGroup(t);if("size"===e)return this.parseSizeGroup(t);if("url"===e)throw new l("Internal bug: 'url' arguments should be handled by Lexer",this.nextToken);return this.parseGroup(t,e)},e.prototype.consumeSpaces=function(){for(;" "===this.nextToken.text;)this.consume()},e.prototype.parseStringGroup=function(e,t){if(t&&"["!==this.nextToken.text)return null;var n=this.mode;this.mode="text",this.expect(t?"[":"{");for(var i="",r=this.nextToken,o=r;this.nextToken.text!==(t?"]":"}");){if("EOF"===this.nextToken.text)throw new l("Unexpected end of input in "+e,r.range(this.nextToken,i));i+=(o=this.nextToken).text,this.consume()}return this.mode=n,this.expect(t?"]":"}"),r.range(o,i)},e.prototype.parseRegexGroup=function(e,t){var n=this.mode;this.mode="text";for(var i=this.nextToken,r=i,o="";"EOF"!==this.nextToken.text&&e.test(o+this.nextToken.text);)o+=(r=this.nextToken).text,this.consume();if(""===o)throw new l("Invalid "+t+": '"+i.text+"'",i);return this.mode=n,i.range(r,o)},e.prototype.parseColorGroup=function(e){var t=this.parseStringGroup("color",e);if(!t)return null;var n=/^(#[a-f0-9]{3}|#[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new l("Invalid color: '"+t.text+"'",t);return di({type:"color-token",mode:this.mode,color:n[0]},t)},e.prototype.parseSizeGroup=function(e){var t=void 0,n=!1;if(!(t=e||"{"===this.nextToken.text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new l("Invalid size: '"+t.text+"'",t);var r={number:+(i[1]+i[2]),unit:i[3]};if(!function(e){return"string"!=typeof e&&(e=e.unit),e in Ee||e in Me||"ex"===e}(r))throw new l("Invalid unit: '"+r.unit+"'",t);return di({type:"size",mode:this.mode,value:r,isBlank:n},t)},e.prototype.parseGroup=function(e,t){var n=this.mode,i=this.nextToken;if(this.nextToken.text===(e?"[":"{")){t&&this.switchMode(t),this.gullet.beginGroup(),this.consume();var r=this.parseExpression(!1,e?"]":"}"),s=this.nextToken;return t&&this.switchMode(n),this.gullet.endGroup(),this.expect(e?"]":"}"),di({type:"ordgroup",mode:this.mode,loc:o.range(i,s),body:r},i.range(s,i.text))}t&&this.switchMode(t);var a=e?null:this.parseSymbol();return t&&this.switchMode(n),a},e.prototype.formLigatures=function(e){for(var t=e.length-1,n=0;n<t;++n){var i=e[n],r=i.text;"-"===r&&"-"===e[n+1].text&&(n+1<t&&"-"===e[n+2].text?(e.splice(n,3,{type:"textord",mode:"text",loc:o.range(i,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:o.range(i,e[n+1]),text:"--"}),t-=1)),"'"!==r&&"`"!==r||e[n+1].text!==r||(e.splice(n,2,{type:"textord",mode:"text",loc:o.range(i,e[n+1]),text:r+r}),t-=1)}},e.prototype.parseSymbol=function(){var e=this.nextToken,t=e.text;if(On[t])return function(e){return{type:"fn",result:e.text,token:e}}(e);if(/^\\(href|url)[^a-zA-Z]/.test(t)){var n=t.match(Qn);if(!n)throw new l("Internal error: invalid URL token '"+t+"'",e);var i=n[1],r=(n[4]||n[3]||n[2]).replace(/\\([#$%&~_^{}])/g,"$1"),s=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(r);s=null!=s?s[1]:"_relative";var a=this.settings.allowedProtocols;if(!p.contains(a,"*")&&!p.contains(a,s))throw new l("Forbidden protocol '"+s+"' in "+i,e);var c={type:"url",mode:this.mode,url:r};if(this.consume(),"\\href"===i){this.consumeSpaces();var u=this.parseGroupOfType("original",!1);if(null==u)throw new l(i+" missing second argument",e);return u="fn"===u.type?this.parseGivenFunction(u):u.result,di(this.callFunction(i,[c,u],[]),e)}return di(this.callFunction(i,[c],[]),e)}if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var h=t.slice(5),d="*"===h.charAt(0);if(d&&(h=h.slice(1)),h.length<2||h.charAt(0)!==h.slice(-1))throw new l("\\verb assertion failed --\n                    please report what input caused this bug");return di({type:"verb",mode:"text",body:h=h.slice(1,-1),star:d},e)}hi.hasOwnProperty(t[0])&&!V[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=hi[t[0]]+t.substr(1));var f=Yn.exec(t);f&&("i"===(t=t.substring(0,f.index))?t="ı":"j"===t&&(t="ȷ"));var m=void 0;if(V[this.mode][t]){this.settings.strict&&"math"===this.mode&&"ÇÐÞçþ".indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var g=V[this.mode][t].group,v=o.range(e),y=void 0;if(G.hasOwnProperty(g)){var b=g;y={type:"atom",mode:this.mode,family:b,loc:v,text:t}}else y={type:g,mode:this.mode,loc:v,text:t};m=y}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(M(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),m={type:"textord",mode:this.mode,loc:o.range(e),text:t}}if(this.consume(),f)for(var _=0;_<f[0].length;_++){var x=f[0][_];if(!ui[x])throw new l("Unknown accent ' "+x+"'",e);var w=ui[x][this.mode];if(!w)throw new l("Accent "+x+" unsupported in "+this.mode+" mode",e);m={type:"accent",mode:this.mode,loc:o.range(e),label:w,isStretchy:!1,isShifty:!0,base:m}}return di(m,e)},e}();fi.endOfExpression=["}","\\end","\\right","&"],fi.SUPSUB_GREEDINESS=1;var pi=fi,mi=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new pi(e,t);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new l("\\tag works only in display equations");n.gullet.feed("\\df@tag"),i=[{type:"tag",mode:"text",body:i,tag:n.parse()}]}return i},gi=function(e,t,n){t.textContent="";var i=yi(e,n).toNode();t.appendChild(i)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),gi=function(){throw new l("KaTeX doesn't work in quirks mode.")});var vi=function(e,t,n){if(n.throwOnError||!(e instanceof l))throw e;var i=ze.makeSpan(["katex-error"],[new F(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},yi=function(e,t){var n=new m(t);try{return function(e,t,n){var i=Mt(n),r=function(e,t,n){var i,r=Ct(e,n);i=1===r.length&&r[0]instanceof vt&&p.contains(["mrow","mtable"],r[0].type)?r[0]:new _t.MathNode("mrow",r);var o=new _t.MathNode("annotation",[new _t.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var s=new _t.MathNode("semantics",[i,o]),a=new _t.MathNode("math",[s]);return ze.makeSpan(["katex-mathml"],[a])}(e,t,i),o=mt(e,i),s=ze.makeSpan(["katex"],[r,o]);return n.displayMode?ze.makeSpan(["katex-display"],[s]):s}(mi(e,n),e,n)}catch(t){return vi(t,e,n)}},bi={version:"0.10.0-rc.1",render:gi,renderToString:function(e,t){return yi(e,t).toMarkup()},ParseError:l,__parse:function(e,t){var n=new m(t);return mi(e,n)},__renderToDomTree:yi,__renderToHTMLTree:function(e,t){var n=new m(t);try{return function(e,t,n){var i=mt(e,Mt(n)),r=ze.makeSpan(["katex"],[i]);return n.displayMode?ze.makeSpan(["katex-display"],[r]):r}(mi(e,n),0,n)}catch(t){return vi(t,e,n)}},__setFontMetrics:function(e,t){z[e]=t},__defineSymbol:Q,__defineMacro:ti,__domTree:{Span:R,Anchor:N,SymbolNode:F,SvgNode:j,PathNode:B,LineNode:X}};t.default=bi}]).default},e.exports=i()},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){!function(e){"use strict";e.defineMode("markdown",function(t,n){var i=e.getMode(t,"text/html"),r="null"==i.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.emoji&&(n.emoji=!1),void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0),void 0===n.xml&&(n.xml=!0),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var o={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var s in o)o.hasOwnProperty(s)&&n.tokenTypeOverrides[s]&&(o[s]=n.tokenTypeOverrides[s]);var a=/^([*\-_])(?:\s*\1){2,}\s*$/,l=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,c=/^\[(x| )\](?=\s)/i,u=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,h=/^ *(?:\={1,}|-{1,})\s*$/,d=/^[^#!\[\]*_\\<>` "'(~:]+/,f=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,p=/^\s*\[[^\]]+?\]:.*$/,m=/[!\"#$%&\'()*+,\-\.\/:;<=>?@\[\\\]^_`{|}~—]/;function g(e,t,n){return t.f=t.inline=n,n(e,t)}function v(e,t,n){return t.f=t.block=n,n(e,t)}function y(t){if(t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==_){var n=r;if(!n){var o=e.innerMode(i,t.htmlState);n="xml"==o.mode.name&&null===o.state.tagStart&&!o.state.context&&o.state.tokenize.isInText}n&&(t.f=C,t.block=b,t.htmlState=null)}return t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function b(i,r){var s,d=i.column()===r.indentation,m=!(s=r.prevLine.stream)||!/\S/.test(s.string),v=r.indentedCode,y=r.prevLine.hr,b=!1!==r.list,_=(r.listStack[r.listStack.length-1]||0)+3;r.indentedCode=!1;var S=r.indentation;if(null===r.indentationDiff&&(r.indentationDiff=r.indentation,b)){for(r.em=!1,r.strong=!1,r.code=!1,r.strikethrough=!1,r.list=null;S<r.listStack[r.listStack.length-1];)r.listStack.pop(),r.listStack.length?r.indentation=r.listStack[r.listStack.length-1]:r.list=!1;!1!==r.list&&(r.indentationDiff=S-r.listStack[r.listStack.length-1])}var C=!(m||y||r.prevLine.header||b&&v||r.prevLine.fencedCodeEnd),k=(!1===r.list||y||m)&&r.indentation<=_&&i.match(a),E=null;if(r.indentationDiff>=4&&(v||r.prevLine.fencedCodeEnd||r.prevLine.header||m))return i.skipToEnd(),r.indentedCode=!0,o.code;if(i.eatSpace())return null;if(d&&r.indentation<=_&&(E=i.match(u))&&E[1].length<=6)return r.quote=0,r.header=E[1].length,r.thisLine.header=!0,n.highlightFormatting&&(r.formatting="header"),r.f=r.inline,w(r);if(r.indentation<=_&&i.eat(">"))return r.quote=d?1:r.quote+1,n.highlightFormatting&&(r.formatting="quote"),i.eatSpace(),w(r);if(!k&&!r.setext&&d&&r.indentation<=_&&(E=i.match(l))){var M=E[1]?"ol":"ul";return r.indentation=S+i.current().length,r.list=!0,r.quote=0,r.listStack.push(r.indentation),n.taskLists&&i.match(c,!1)&&(r.taskList=!0),r.f=r.inline,n.highlightFormatting&&(r.formatting=["list","list-"+M]),w(r)}return d&&r.indentation<=_&&(E=i.match(f,!0))?(r.quote=0,r.fencedEndRE=new RegExp(E[1]+"+ *$"),r.localMode=n.fencedCodeBlockHighlighting&&function(n){if(e.findModeByName){var i=e.findModeByName(n);i&&(n=i.mime||i.mimes[0])}var r=e.getMode(t,n);return"null"==r.name?null:r}(E[2]),r.localMode&&(r.localState=e.startState(r.localMode)),r.f=r.block=x,n.highlightFormatting&&(r.formatting="code-block"),r.code=-1,w(r)):r.setext||!(C&&b||r.quote||!1!==r.list||r.code||k||p.test(i.string))&&(E=i.lookAhead(1))&&(E=E.match(h))?(r.setext?(r.header=r.setext,r.setext=0,i.skipToEnd(),n.highlightFormatting&&(r.formatting="header")):(r.header="="==E[0].charAt(0)?1:2,r.setext=r.header),r.thisLine.header=!0,r.f=r.inline,w(r)):k?(i.skipToEnd(),r.hr=!0,r.thisLine.hr=!0,o.hr):"["===i.peek()?g(i,r,A):g(i,r,r.inline)}function _(t,n){var o=i.token(t,n.htmlState);if(!r){var s=e.innerMode(i,n.htmlState);("xml"==s.mode.name&&null===s.state.tagStart&&!s.state.context&&s.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=C,n.block=b,n.htmlState=null)}return o}function x(e,t){var i,r=t.listStack[t.listStack.length-1]||0,s=t.indentation<r,a=r+3;return t.fencedEndRE&&t.indentation<=a&&(s||e.match(t.fencedEndRE))?(n.highlightFormatting&&(t.formatting="code-block"),s||(i=w(t)),t.localMode=t.localState=null,t.block=b,t.f=C,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,s?v(e,t,t.block):i):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),o.code)}function w(e){var t=[];if(e.formatting){t.push(o.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var i=0;i<e.formatting.length;i++)t.push(o.formatting+"-"+e.formatting[i]),"header"===e.formatting[i]&&t.push(o.formatting+"-"+e.formatting[i]+"-"+e.header),"quote"===e.formatting[i]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(o.formatting+"-"+e.formatting[i]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(o.linkHref,"url"):(e.strong&&t.push(o.strong),e.em&&t.push(o.em),e.strikethrough&&t.push(o.strikethrough),e.emoji&&t.push(o.emoji),e.linkText&&t.push(o.linkText),e.code&&t.push(o.code),e.image&&t.push(o.image),e.imageAltText&&t.push(o.imageAltText,"link"),e.imageMarker&&t.push(o.imageMarker)),e.header&&t.push(o.header,o.header+"-"+e.header),e.quote&&(t.push(o.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(o.quote+"-"+e.quote):t.push(o.quote+"-"+n.maxBlockquoteDepth)),!1!==e.list){var r=(e.listStack.length-1)%3;r?1===r?t.push(o.list2):t.push(o.list3):t.push(o.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function S(e,t){if(e.match(d,!0))return w(t)}function C(t,r){var s=r.text(t,r);if(void 0!==s)return s;if(r.list)return r.list=null,w(r);if(r.taskList)return" "===t.match(c,!0)[1]?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,w(r);if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),w(r);var a=t.next();if(r.linkTitle){r.linkTitle=!1;var l=a;"("===a&&(l=")");var u="^\\s*(?:[^"+(l=(l+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(t.match(new RegExp(u),!0))return o.linkHref}if("`"===a){var h=r.formatting;n.highlightFormatting&&(r.formatting="code"),t.eatWhile("`");var d=t.current().length;if(0!=r.code||r.quote&&1!=d){if(d==r.code){var f=w(r);return r.code=0,f}return r.formatting=h,w(r)}return r.code=d,w(r)}if(r.code)return w(r);if("\\"===a&&(t.next(),n.highlightFormatting)){var p=w(r),g=o.formatting+"-escape";return p?p+" "+g:g}if("!"===a&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return r.imageMarker=!0,r.image=!0,n.highlightFormatting&&(r.formatting="image"),w(r);if("["===a&&r.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return r.imageMarker=!1,r.imageAltText=!0,n.highlightFormatting&&(r.formatting="image"),w(r);if("]"===a&&r.imageAltText){n.highlightFormatting&&(r.formatting="image");p=w(r);return r.imageAltText=!1,r.image=!1,r.inline=r.f=E,p}if("["===a&&!r.image)return r.linkText&&t.match(/^.*?\]/)?w(r):(r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),w(r));if("]"===a&&r.linkText){n.highlightFormatting&&(r.formatting="link");p=w(r);return r.linkText=!1,r.inline=r.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?E:C,p}if("<"===a&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=k,n.highlightFormatting&&(r.formatting="link"),(p=w(r))?p+=" ":p="",p+o.linkInline;if("<"===a&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=k,n.highlightFormatting&&(r.formatting="link"),(p=w(r))?p+=" ":p="",p+o.linkEmail;if(n.xml&&"<"===a&&t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var y=t.string.indexOf(">",t.pos);if(-1!=y){var b=t.string.substring(t.start,y);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(b)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(i),v(t,r,_)}if(n.xml&&"<"===a&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";if("*"===a||"_"===a){for(var x=1,S=1==t.pos?" ":t.string.charAt(t.pos-2);x<3&&t.eat(a);)x++;var M=t.peek()||" ",A=!/\s/.test(M)&&(!m.test(M)||/\s/.test(S)||m.test(S)),T=!/\s/.test(S)&&(!m.test(S)||/\s/.test(M)||m.test(M)),L=null,D=null;if(x%2&&(r.em||!A||"*"!==a&&T&&!m.test(S)?r.em!=a||!T||"*"!==a&&A&&!m.test(M)||(L=!1):L=!0),x>1&&(r.strong||!A||"*"!==a&&T&&!m.test(S)?r.strong!=a||!T||"*"!==a&&A&&!m.test(M)||(D=!1):D=!0),null!=D||null!=L)return n.highlightFormatting&&(r.formatting=null==L?"strong":null==D?"em":"strong em"),!0===L&&(r.em=a),!0===D&&(r.strong=a),f=w(r),!1===L&&(r.em=!1),!1===D&&(r.strong=!1),f}else if(" "===a&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return w(r);t.backUp(1)}if(n.strikethrough)if("~"===a&&t.eatWhile(a)){if(r.strikethrough)return n.highlightFormatting&&(r.formatting="strikethrough"),f=w(r),r.strikethrough=!1,f;if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),w(r)}else if(" "===a&&t.match(/^~~/,!0)){if(" "===t.peek())return w(r);t.backUp(2)}if(n.emoji&&":"===a&&t.match(/^[a-z_\d+-]+:/)){r.emoji=!0,n.highlightFormatting&&(r.formatting="emoji");var I=w(r);return r.emoji=!1,I}return" "===a&&(t.match(/^ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),w(r)}function k(e,t){if(">"===e.next()){t.f=t.inline=C,n.highlightFormatting&&(t.formatting="link");var i=w(t);return i?i+=" ":i="",i+o.linkInline}return e.match(/^[^>]+/,!0),o.linkInline}function E(e,t){if(e.eatSpace())return null;var i,r=e.next();return"("===r||"["===r?(t.f=t.inline=(i="("===r?")":"]",function(e,t){if(e.next()===i){t.f=t.inline=C,n.highlightFormatting&&(t.formatting="link-string");var r=w(t);return t.linkHref=!1,r}return e.match(M[i]),t.linkHref=!0,w(t)}),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,w(t)):"error"}var M={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function A(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=T,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,w(t)):g(e,t,C)}function T(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=L,n.highlightFormatting&&(t.formatting="link");var i=w(t);return t.linkText=!1,i}return e.match(/^([^\]\\]|\\.)+/,!0),o.linkText}function L(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=C,o.linkHref+" url")}var D={startState:function(){return{f:b,prevLine:{stream:null},thisLine:{stream:null},block:b,htmlState:null,indentation:0,inline:C,text:S,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(i,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return y(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=_)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==_?{state:e.htmlState,mode:i}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:D}},indent:function(t,n,r){return t.block==_&&i.indent?i.indent(t.htmlState,n,r):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},blankLine:y,getType:w,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return D},"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")}(n(1),n(17),n(58))},function(e,t,n){!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(i,r){var o,s,a=i.indentUnit,l={},c=r.htmlMode?t:n;for(var u in c)l[u]=c[u];for(var u in r)l[u]=r[u];function h(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();return"<"==i?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(f("atom","]]>")):null:e.match("--")?n(f("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(function e(t){return function(n,i){for(var r;null!=(r=n.next());){if("<"==r)return i.tokenize=e(t+1),i.tokenize(n,i);if(">"==r){if(1==t){i.tokenize=h;break}return i.tokenize=e(t-1),i.tokenize(n,i)}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=f("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=d,"tag bracket"):"&"==i?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function d(e,t){var n,i,r=e.next();if(">"==r||"/"==r&&e.eat(">"))return t.tokenize=h,o=">"==r?"endTag":"selfcloseTag","tag bracket";if("="==r)return o="equals",null;if("<"==r){t.tokenize=h,t.state=g,t.tagName=t.tagStart=null;var s=t.tokenize(e,t);return s?s+" tag error":"tag error"}return/[\'\"]/.test(r)?(t.tokenize=(n=r,(i=function(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=d;break}return"string"}).isInAttribute=!0,i),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=h;break}n.next()}return e}}function p(e){e.context&&(e.context=e.context.prev)}function m(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(t))return;p(e)}}function g(e,t,n){return"openTag"==e?(n.tagStart=t.column(),v):"closeTag"==e?y:g}function v(e,t,n){return"word"==e?(n.tagName=t.current(),s="tag",x):l.allowMissingTagName&&"endTag"==e?(s="tag bracket",x(e,t,n)):(s="error",v)}function y(e,t,n){if("word"==e){var i=t.current();return n.context&&n.context.tagName!=i&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&p(n),n.context&&n.context.tagName==i||!1===l.matchClosing?(s="tag",b):(s="tag error",_)}return l.allowMissingTagName&&"endTag"==e?(s="tag bracket",b(e,t,n)):(s="error",_)}function b(e,t,n){return"endTag"!=e?(s="error",b):(p(n),g)}function _(e,t,n){return s="error",b(e,0,n)}function x(e,t,n){if("word"==e)return s="attribute",w;if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(i)?m(n,i):(m(n,i),n.context=new function(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}(n,i,r==n.indented)),g}return s="error",x}function w(e,t,n){return"equals"==e?S:(l.allowMissing||(s="error"),x(e,0,n))}function S(e,t,n){return"string"==e?C:"word"==e&&l.allowUnquoted?(s="string",x):(s="error",x(e,0,n))}function C(e,t,n){return"string"==e?C:x(e,0,n)}return h.isInText=!0,{startState:function(e){var t={tokenize:h,state:g,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var n=t.tokenize(e,t);return(n||o)&&"comment"!=n&&(s=null,t.state=t.state(o||n,e,t),s&&(n="error"==s?n+" error":s)),n},indent:function(t,n,i){var r=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+a;if(r&&r.noIndent)return e.Pass;if(t.tokenize!=d&&t.tokenize!=h)return i?i.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+a*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;r;){if(r.tagName==o[2]){r=r.prev;break}if(!l.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(o)for(;r;){var s=l.contextGrabbers[r.tagName];if(!s||!s.hasOwnProperty(o[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+a:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==S&&(e.state=x)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n(1))},function(e,t,n){!function(e){"use strict";e.overlayMode=function(t,n,i){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(i){return{base:e.copyState(t,i.base),overlay:e.copyState(n,i.overlay),basePos:i.basePos,baseCur:null,overlayPos:i.overlayPos,overlayCur:null}},token:function(e,r){return(e!=r.streamSeen||Math.min(r.basePos,r.overlayPos)<e.start)&&(r.streamSeen=e,r.basePos=r.overlayPos=e.start),e.start==r.basePos&&(r.baseCur=t.token(e,r.base),r.basePos=e.pos),e.start==r.overlayPos&&(e.pos=e.start,r.overlayCur=n.token(e,r.overlay),r.overlayPos=e.pos),e.pos=Math.min(r.basePos,r.overlayPos),null==r.overlayCur?r.baseCur:null!=r.baseCur&&r.overlay.combineTokens||i&&null==r.overlay.combineTokens?r.baseCur+" "+r.overlayCur:r.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var r,o;return t.blankLine&&(r=t.blankLine(e.base)),n.blankLine&&(o=n.blankLine(e.overlay)),null==o?r:i&&null!=r?r+" "+o:o}}}}(n(1))},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){e.exports=n(23)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),r=n(13),o=n(72),s=n(7);n.d(t,"Markdown",function(){return i.a}),n.d(t,"SimpleMDE",function(){return r.a}),n.d(t,"markedParser",function(){return o.a}),n.d(t,"pasteUpload",function(){return s.a})},function(e,t,n){"use strict";var i=n(6),r=n(71),o=n(30)(i.a,r.a,!1,function(e){n(25),n(28)},"data-v-8a420b30",null);o.options.__file="src/Markdown.vue",t.a=o.exports},function(e,t,n){var i=n(26);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(5)("a85e70c8",i,!1,{})},function(e,t,n){(e.exports=n(4)()).push([e.i,"\n.markdown-panel {\n  line-height: 18px;\n}\n.markdown-panel .CodeMirror {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.markdown-panel .CodeMirror-scroll {\n  min-height: 100%;\n  -webkit-box-sizing: content-box;\n          box-sizing: content-box;\n}\n.markdown-panel .CodeMirror-scroll.overflow-hidden {\n  overflow: hidden !important;\n}\n.markdown-panel .editor-toolbar.fullscreen {\n  z-index: 9999;\n}\n.markdown-panel .CodeMirror-fullscreen {\n  z-index: 9999;\n}\n.markdown-panel .editor-preview-side {\n  z-index: 9999;\n}\n",""])},function(e,t){e.exports=function(e,t){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],s=o[0],a={id:e+":"+r,css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}},function(e,t,n){var i=n(29);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(5)("84e2042c",i,!1,{})},function(e,t,n){(e.exports=n(4)()).push([e.i,"\n.markdown-edit-wrapper[data-v-8a420b30] {\n  height: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.video-upload-status[data-v-8a420b30] {\n  margin: 10px;\n  height: 89px;\n  line-height: 80px;\n  font-size: 16px;\n  text-align: center;\n  border: 1px dashed #ccc;\n}\n.modal-mask[data-v-8a420b30] {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(55, 55, 55, 0.6);\n  height: 100%;\n  z-index: 1000;\n}\n.modal-wrap[data-v-8a420b30] {\n  position: fixed;\n  overflow: auto;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1000;\n  -webkit-overflow-scrolling: touch;\n  outline: 0;\n}\n.modal[data-v-8a420b30] {\n  width: auto;\n  margin: 0 auto;\n  position: relative;\n  outline: 0;\n  top: 100px;\n  background-color: #fff;\n  -webkit-border-radius: 6px;\n          border-radius: 6px;\n  width: 520px;\n}\n.modal-close[data-v-8a420b30] {\n  font-size: 12px;\n  position: absolute;\n  right: 16px;\n  top: 8px;\n  overflow: hidden;\n  cursor: pointer;\n}\n.modal-close i[data-v-8a420b30] {\n  color: #999;\n  font-size: 31px;\n}\n.modal-close i[data-v-8a420b30]:hover {\n  color: #444;\n}\n.modal-header[data-v-8a420b30] {\n  border-bottom: 1px solid #e9eaec;\n  padding: 14px 16px;\n  line-height: 1;\n}\n.modal-body[data-v-8a420b30] {\n  padding: 16px;\n  font-size: 12px;\n  line-height: 1.5;\n}\n.picker-button[data-v-8a420b30] {\n  color: #fff;\n  background-color: #2d8cf0;\n  border-color: #2d8cf0;\n  display: inline-block;\n  margin-bottom: 0;\n  font-weight: 400;\n  text-align: center;\n  vertical-align: middle;\n  -ms-touch-action: manipulation;\n      touch-action: manipulation;\n  cursor: pointer;\n  background-image: none;\n  border: 1px solid transparent;\n  white-space: nowrap;\n  line-height: 1.5;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  padding: 6px 15px;\n  font-size: 12px;\n  -webkit-border-radius: 4px;\n          border-radius: 4px;\n}\n.picker-button[data-v-8a420b30]:focus {\n  outline: 0;\n  -webkit-box-shadow: 0 0 0 2px rgba(45, 140, 240, 0.2);\n          box-shadow: 0 0 0 2px rgba(45, 140, 240, 0.2);\n}\n",""])},function(e,t){e.exports=function(e,t,n,i,r,o){var s,a=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,a=e.default);var c,u="function"==typeof a?a.options:a;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId=r),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=c):i&&(c=i),c){var h=u.functional,d=h?u.render:u.beforeCreate;h?(u._injectStyles=c,u.render=function(e,t){return c.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:s,exports:a,options:u}}},function(e,t,n){var i,r,o,s;this||window,o=[],i="function"==typeof(r=function(){var e={};return function(){!function(e,t){"use strict";function n(e,n,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(n===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";!function(e,t){for(var n,i=[],s=0;s<e.length;++s){if(!(n=o[e[s]]||r(e[s])))throw"module definition dependecy not found: "+e[s];i.push(n)}t.apply(null,i)}(n,function(){o[e]=i.apply(null,arguments)})}function i(e){return!!o[e]}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}var o={};n("moxie/core/utils/Basic",[],function(){function e(e){return void 0===e?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()}function t(){return i(!1,!1,arguments)}function n(n){switch(e(n)){case"array":return Array.prototype.slice.call(n);case"object":return t({},n)}return n}function i(t,s,a){var l,c=a[0];return r(a,function(a,u){u>0&&r(a,function(r,a){var u=-1!==o(e(r),["array","object"]);return!!(r===l||t&&c[a]===l)||(u&&s&&(r=n(r)),void(e(c[a])===e(r)&&u?i(t,s,[c[a],r]):c[a]=r))})}),c}function r(e,t){var n,i,r,o;if(e){try{n=e.length}catch(e){n=o}if(n===o||"number"!=typeof n){for(i in e)if(e.hasOwnProperty(i)&&!1===t(e[i],i))return}else for(r=0;n>r;r++)if(!1===t(e[r],r))return}}function o(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n}return-1}return{guid:function(){var e=0;return function(t){var n,i=(new Date).getTime().toString(32);for(n=0;5>n;n++)i+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+i+(e++).toString(32)}}(),typeOf:e,extend:t,extendIf:function(){return i(!0,!1,arguments)},extendImmutable:function(){return i(!1,!0,arguments)},extendImmutableIf:function(){return i(!0,!0,arguments)},clone:function(t){switch(e(t)){case"array":return i(!1,!0,[[],t]);case"object":return i(!1,!0,[{},t]);default:return t}},inherit:function(e,t){function n(){this.constructor=e}for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.parent=t.prototype,e},each:r,isEmptyObj:function(t){var n;if(!t||"object"!==e(t))return!0;for(n in t)return!1;return!0},inSeries:function(t,n){var i=t.length;"function"!==e(n)&&(n=function(){}),t&&t.length||n(),function r(o){"function"===e(t[o])&&t[o](function(e){++o<i&&!e?r(o):n(e)})}(0)},inParallel:function(e,t){var n=0,i=e.length,o=new Array(i);r(e,function(e,r){e(function(e){if(e)return t(e);var s=[].slice.call(arguments);s.shift(),o[r]=s,++n===i&&(o.unshift(null),t.apply(this,o))})})},inArray:o,arrayDiff:function(t,n){var i=[];for(var r in"array"!==e(t)&&(t=[t]),"array"!==e(n)&&(n=[n]),t)-1===o(t[r],n)&&i.push(t[r]);return!!i.length&&i},arrayIntersect:function(e,t){var n=[];return r(e,function(e){-1!==o(e,t)&&n.push(e)}),n.length?n:null},toArray:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},trim:function(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e},sprintf:function(e){var t=[].slice.call(arguments,1);return e.replace(/%([a-z])/g,function(e,n){var i=t.shift();switch(n){case"s":return i+"";case"d":return parseInt(i,10);case"f":return parseFloat(i);case"c":return"";default:return i}})},parseSizeStr:function(e){if("string"!=typeof e)return e;var t,n={t:1099511627776,g:1073741824,m:1048576,k:1024};return t=(e=/^([0-9\.]+)([tmgk]?)$/.exec(e.toLowerCase().replace(/[^0-9\.tmkg]/g,"")))[2],e=+e[1],n.hasOwnProperty(t)&&(e*=n[t]),Math.floor(e)},delay:function(e,t){var n=this;setTimeout(function(){e.call(n)},t||1)}}}),n("moxie/core/utils/Encode",[],function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))};return{utf8_encode:e,utf8_decode:t,atob:function(e,n){if("function"==typeof window.atob)return n?t(window.atob(e)):window.atob(e);var i,r,o,s,a,l,c,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,d=0,f=[];if(!e)return e;e+="";do{i=255&(l=u.indexOf(e.charAt(h++))<<18|u.indexOf(e.charAt(h++))<<12|(s=u.indexOf(e.charAt(h++)))<<6|(a=u.indexOf(e.charAt(h++))))>>16,r=255&l>>8,o=255&l,f[d++]=64==s?String.fromCharCode(i):64==a?String.fromCharCode(i,r):String.fromCharCode(i,r,o)}while(h<e.length);return c=f.join(""),n?t(c):c},btoa:function(t,n){if(n&&(t=e(t)),"function"==typeof window.btoa)return window.btoa(t);var i,r,o,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,u=0,h="",d=[];if(!t)return t;do{i=63&(a=t.charCodeAt(c++)<<16|t.charCodeAt(c++)<<8|t.charCodeAt(c++))>>18,r=63&a>>12,o=63&a>>6,s=63&a,d[u++]=l.charAt(i)+l.charAt(r)+l.charAt(o)+l.charAt(s)}while(c<t.length);h=d.join("");var f=t.length%3;return(f?h.slice(0,f-3):h)+"===".slice(f||3)}}}),n("moxie/core/utils/Env",["moxie/core/utils/Basic"],function(e){var n=function(e){var t="function",n="object",i="name",r="version",o=function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},s={rgx:function(){for(var i,r,o,s,a,l,c,u=0,h=arguments;u<h.length;u+=2){var d=h[u],f=h[u+1];if(void 0===i)for(s in i={},f)typeof(a=f[s])===n?i[a[0]]=e:i[a]=e;for(r=o=0;r<d.length;r++)if(l=d[r].exec(this.getUA())){for(s=0;s<f.length;s++)c=l[++o],typeof(a=f[s])===n&&a.length>0?2==a.length?i[a[0]]=typeof a[1]==t?a[1].call(this,c):a[1]:3==a.length?i[a[0]]=typeof a[1]!==t||a[1].exec&&a[1].test?c?c.replace(a[1],a[2]):e:c?a[1].call(this,c,a[2]):e:4==a.length&&(i[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):e):i[a]=c||e;break}if(l)break}return i},str:function(t,i){for(var r in i)if(typeof i[r]===n&&i[r].length>0){for(var s=0;s<i[r].length;s++)if(o(i[r][s],t))return"?"===r?e:r}else if(o(i[r],t))return"?"===r?e:r;return t}},a={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},l={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[i,r],[/\s(opr)\/([\w\.]+)/i],[[i,"Opera"],r],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i],[i,r],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[i,"IE"],r],[/(edge)\/((\d+)?[\w\.]+)/i],[i,r],[/(yabrowser)\/([\w\.]+)/i],[[i,"Yandex"],r],[/(comodo_dragon)\/([\w\.]+)/i],[[i,/_/g," "],r],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[i,r],[/(dolfin)\/([\w\.]+)/i],[[i,"Dolphin"],r],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[i,"Chrome"],r],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[r,[i,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[r,[i,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[r,[i,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[r,[i,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[r,i],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[i,[r,s.str,a.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[i,r],[/(navigator|netscape)\/([\w\.-]+)/i],[[i,"Netscape"],r],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[i,r]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[r,[i,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[i,r],[/rv\:([\w\.]+).*(gecko)/i],[r,i]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[i,r],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[i,[r,s.str,a.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[i,"Windows"],[r,s.str,a.os.windows.version]],[/\((bb)(10);/i],[[i,"BlackBerry"],r],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[i,r],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[i,"Symbian"],r],[/\((series40);/i],[i],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[i,"Firefox OS"],r],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[i,r],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[i,"Chromium OS"],r],[/(sunos)\s?([\w\.]+\d)*/i],[[i,"Solaris"],r],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[i,r],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[i,"iOS"],[r,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[i,"Mac OS"],[r,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[i,r]]};return function(e){var t=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"");this.getBrowser=function(){return s.rgx.apply(this,l.browser)},this.getEngine=function(){return s.rgx.apply(this,l.engine)},this.getOS=function(){return s.rgx.apply(this,l.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return t},this.setUA=function(e){return t=e,this},this.setUA(t)}}(),i=function(){var n={access_global_ns:function(){return!!window.moxie},define_property:!1,create_canvas:function(){var e=document.createElement("canvas"),t=!(!e.getContext||!e.getContext("2d"));return n.create_canvas=t,t},return_response_type:function(t){try{if(-1!==e.inArray(t,["","text","document"]))return!0;if(window.XMLHttpRequest){var n=new XMLHttpRequest;if(n.open("get","/"),"responseType"in n)return n.responseType=t,n.responseType===t}}catch(e){}return!1},use_blob_uri:function(){var e=window.URL;return n.use_blob_uri=e&&"createObjectURL"in e&&"revokeObjectURL"in e&&("IE"!==o.browser||o.verComp(o.version,"11.0.46",">=")),n.use_blob_uri},use_data_uri:function(){var e=new Image;return e.onload=function(){n.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return n.use_data_uri&&("IE"!==o.browser||o.version>=9)},use_data_uri_of:function(e){return n.use_data_uri&&33e3>e||n.use_data_uri_over32kb()},use_fileinput:function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var e=document.createElement("input");return e.setAttribute("type","file"),n.use_fileinput=!e.disabled},use_webgl:function(){var e,i=document.createElement("canvas"),r=null;try{r=i.getContext("webgl")||i.getContext("experimental-webgl")}catch(e){}return r||(r=null),e=!!r,n.use_webgl=e,i=t,e}};return function(t){var i=[].slice.call(arguments);return i.shift(),"function"===e.typeOf(n[t])?n[t].apply(this,i):!!n[t]}}(),r=(new n).getResult(),o={can:i,uaParser:n,browser:r.browser.name,version:r.browser.version,os:r.os.name,osVersion:r.os.version,verComp:function(e,t,n){var i,r=0,o=0,s={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},a=function(e){return(e=(e=(""+e).replace(/[_\-+]/g,".")).replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".")).length?e.split("."):[-8]},l=function(e){return e?isNaN(e)?s[e]||-7:parseInt(e,10):0};for(e=a(e),t=a(t),i=Math.max(e.length,t.length),r=0;i>r;r++)if(e[r]!=t[r]){if(e[r]=l(e[r]),t[r]=l(t[r]),e[r]<t[r]){o=-1;break}if(e[r]>t[r]){o=1;break}}if(!n)return o;switch(n){case">":case"gt":return o>0;case">=":case"ge":return o>=0;case"<=":case"le":return 0>=o;case"==":case"=":case"eq":return 0===o;case"<>":case"!=":case"ne":return 0!==o;case"":case"<":case"lt":return 0>o;default:return null}},swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return o.OS=o.os,o}),n("moxie/core/Exceptions",["moxie/core/utils/Basic"],function(e){function t(e,t){var n;for(n in e)if(e[n]===t)return n;return null}return{RuntimeError:function(){function n(e,n){this.code=e,this.name=t(i,e),this.message=this.name+(n||": RuntimeError "+this.code)}var i={NOT_INIT_ERR:1,EXCEPTION_ERR:3,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(n,i),n.prototype=Error.prototype,n}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name="OperationNotAllowedException"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": ImageError "+this.code}var i={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2,INVALID_META_ERR:3};return e.extend(n,i),n.prototype=Error.prototype,n}(),FileException:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": FileException "+this.code}var i={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(n,i),n.prototype=Error.prototype,n}(),DOMException:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": DOMException "+this.code}var i={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(n,i),n.prototype=Error.prototype,n}(),EventException:function(){function t(e){this.code=e,this.name="EventException"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),n("moxie/core/utils/Dom",["moxie/core/utils/Env"],function(e){var t=function(e,t){return!!e.className&&new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(e.className)};return{get:function(e){return"string"!=typeof e?e:document.getElementById(e)},hasClass:t,addClass:function(e,n){t(e,n)||(e.className=e.className?e.className.replace(/\s+$/,"")+" "+n:n)},removeClass:function(e,t){if(e.className){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,function(e,t,n){return" "===t&&" "===n?" ":""})}},getStyle:function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},getPos:function(t,n){function i(e){var t,n,i=0,r=0;return e&&(n=e.getBoundingClientRect(),t="CSS1Compat"===c.compatMode?c.documentElement:c.body,i=n.left+t.scrollLeft,r=n.top+t.scrollTop),{x:i,y:r}}var r,o,s,a=0,l=0,c=document;if(t=t,n=n||c.body,t&&t.getBoundingClientRect&&"IE"===e.browser&&(!c.documentMode||c.documentMode<8))return o=i(t),s=i(n),{x:o.x-s.x,y:o.y-s.y};for(r=t;r&&r!=n&&r.nodeType;)a+=r.offsetLeft||0,l+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!=n&&r.nodeType;)a-=r.scrollLeft||0,l-=r.scrollTop||0,r=r.parentNode;return{x:a,y:l}},getSize:function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}}}}),n("moxie/core/EventTarget",["moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Basic"],function(e,t,n){function i(){this.uid=n.guid()}var r={};return n.extend(i.prototype,{init:function(){this.uid||(this.uid=n.guid("uid_"))},addEventListener:function(e,t,i,o){var s,a=this;return this.hasOwnProperty("uid")||(this.uid=n.guid("uid_")),e=n.trim(e),/\s/.test(e)?void n.each(e.split(/\s+/),function(e){a.addEventListener(e,t,i,o)}):(e=e.toLowerCase(),i=parseInt(i,10)||0,(s=r[this.uid]&&r[this.uid][e]||[]).push({fn:t,priority:i,scope:o||this}),r[this.uid]||(r[this.uid]={}),void(r[this.uid][e]=s))},hasEventListener:function(e){var t;return e?(e=e.toLowerCase(),t=r[this.uid]&&r[this.uid][e]):t=r[this.uid],t||!1},removeEventListener:function(e,t){var i,o,s=this;if(e=e.toLowerCase(),/\s/.test(e))n.each(e.split(/\s+/),function(e){s.removeEventListener(e,t)});else if(i=r[this.uid]&&r[this.uid][e]){if(t){for(o=i.length-1;o>=0;o--)if(i[o].fn===t){i.splice(o,1);break}}else i=[];i.length||(delete r[this.uid][e],n.isEmptyObj(r[this.uid])&&delete r[this.uid])}},removeAllEventListeners:function(){r[this.uid]&&delete r[this.uid]},dispatchEvent:function(e){var i,o,s,a,l,c={},u=!0;if("string"!==n.typeOf(e)){if(a=e,"string"!==n.typeOf(a.type))throw new t.EventException(t.EventException.UNSPECIFIED_EVENT_TYPE_ERR);e=a.type,a.total!==l&&a.loaded!==l&&(c.total=a.total,c.loaded=a.loaded),c.async=a.async||!1}if(-1!==e.indexOf("::")?function(t){i=t[0],e=t[1]}(e.split("::")):i=this.uid,e=e.toLowerCase(),o=r[i]&&r[i][e]){o.sort(function(e,t){return t.priority-e.priority}),(s=[].slice.call(arguments)).shift(),c.type=e,s.unshift(c);var h=[];n.each(o,function(e){s[0].target=e.scope,c.async?h.push(function(t){setTimeout(function(){t(!1===e.fn.apply(e.scope,s))},1)}):h.push(function(t){t(!1===e.fn.apply(e.scope,s))})}),h.length&&n.inSeries(h,function(e){u=!e})}return u},bindOnce:function(e,t,n,i){var r=this;r.bind.call(this,e,function n(){return r.unbind(e,n),t.apply(this,arguments)},n,i)},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},handleEventProps:function(e){var t=this;this.bind(e.join(" "),function(e){var t="on"+e.type.toLowerCase();"function"===n.typeOf(this[t])&&this[t].apply(this,arguments)}),n.each(e,function(e){e="on"+e.toLowerCase(e),"undefined"===n.typeOf(t[e])&&(t[e]=null)})}}),i.instance=new i,i}),n("moxie/runtime/Runtime",["moxie/core/utils/Env","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/EventTarget"],function(e,t,n,i){function r(e,i,o,a,l){var c,u=this,h=t.guid(i+"_"),d=l||"browser";e=e||{},s[h]=this,o=t.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},o),e.preferred_caps&&(d=r.getMode(a,e.preferred_caps,d)),c=function(){var e={};return{exec:function(t,n,i,r){return c[n]&&(e[t]||(e[t]={context:this,instance:new c[n]}),e[t].instance[i])?e[t].instance[i].apply(this,r):void 0},removeInstance:function(t){delete e[t]},removeAllInstances:function(){var n=this;t.each(e,function(e,i){"function"===t.typeOf(e.instance.destroy)&&e.instance.destroy.call(e.context),n.removeInstance(i)})}}}(),t.extend(this,{initialized:!1,uid:h,type:i,mode:r.getMode(a,e.required_caps,d),shimid:h+"_container",clients:0,options:e,can:function(e,n){var i=arguments[2]||o;if("string"===t.typeOf(e)&&"undefined"===t.typeOf(n)&&(e=r.parseCaps(e)),"object"===t.typeOf(e)){for(var s in e)if(!this.can(s,e[s],i))return!1;return!0}return"function"===t.typeOf(i[e])?i[e].call(this,n):n===i[e]},getShimContainer:function(){var e,i=n.get(this.shimid);return i||(e=n.get(this.options.container)||document.body,(i=document.createElement("div")).id=this.shimid,i.className="moxie-shim moxie-shim-"+this.type,t.extend(i.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),e.appendChild(i),e=null),i},getShim:function(){return c},shimExec:function(e,t){var n=[].slice.call(arguments,2);return u.getShim().exec.call(this,this.uid,e,t,n)},exec:function(e,t){var n=[].slice.call(arguments,2);return u[e]&&u[e][t]?u[e][t].apply(this,n):u.shimExec.apply(this,arguments)},destroy:function(){if(u){var e=n.get(this.shimid);e&&e.parentNode.removeChild(e),c&&c.removeAllInstances(),this.unbindAll(),delete s[this.uid],this.uid=null,h=u=c=e=null}}}),this.mode&&e.required_caps&&!this.can(e.required_caps)&&(this.mode=!1)}var o={},s={};return r.order="html5,flash,silverlight,html4",r.getRuntime=function(e){return!!s[e]&&s[e]},r.addConstructor=function(e,t){t.prototype=i.instance,o[e]=t},r.getConstructor=function(e){return o[e]||null},r.getInfo=function(e){var t=r.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},r.parseCaps=function(e){var n={};return"string"!==t.typeOf(e)?e||{}:(t.each(e.split(","),function(e){n[e]=!0}),n)},r.can=function(e,t){var n,i,o=r.getConstructor(e);return!!o&&(i=(n=new o({required_caps:t})).mode,n.destroy(),!!i)},r.thatCan=function(e,t){var n=(t||r.order).split(/\s*,\s*/);for(var i in n)if(r.can(n[i],e))return n[i];return null},r.getMode=function(e,n,i){var r=null;if("undefined"===t.typeOf(i)&&(i="browser"),n&&!t.isEmptyObj(e)){if(t.each(n,function(n,i){if(e.hasOwnProperty(i)){var o=e[i](n);if("string"==typeof o&&(o=[o]),r){if(!(r=t.arrayIntersect(r,o)))return r=!1}else r=o}}),r)return-1!==t.inArray(i,r)?i:r[0];if(!1===r)return!1}return i},r.getGlobalEventTarget=function(){if(/^moxie\./.test(e.global_event_dispatcher)&&!e.can("access_global_ns")){var n=t.guid("moxie_event_target_");window[n]=function(e,t){i.instance.dispatchEvent(e,t)},e.global_event_dispatcher=n}return e.global_event_dispatcher},r.capTrue=function(){return!0},r.capFalse=function(){return!1},r.capTest=function(e){return function(){return!!e}},r}),n("moxie/runtime/RuntimeClient",["moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/Runtime"],function(e,t,n,i){return function(){var e;n.extend(this,{connectRuntime:function(r){var o,s=this;if("string"===n.typeOf(r)?o=r:"string"===n.typeOf(r.ruid)&&(o=r.ruid),o){if(e=i.getRuntime(o))return s.ruid=o,e.clients++,e;throw new t.RuntimeError(t.RuntimeError.NOT_INIT_ERR)}!function n(o){var a,l;return o.length?(a=o.shift().toLowerCase(),(l=i.getConstructor(a))?((e=new l(r)).bind("Init",function(){e.initialized=!0,setTimeout(function(){e.clients++,s.ruid=e.uid,s.trigger("RuntimeInit",e)},1)}),e.bind("Error",function(){e.destroy(),n(o)}),e.bind("Exception",function(e,n){var i=n.name+"(#"+n.code+")"+(n.message?", from: "+n.message:"");s.trigger("RuntimeError",new t.RuntimeError(t.RuntimeError.EXCEPTION_ERR,i))}),e.mode?void e.init():void e.trigger("Error")):void n(o)):(s.trigger("RuntimeError",new t.RuntimeError(t.RuntimeError.NOT_INIT_ERR)),void(e=null))}((r.runtime_order||i.order).split(/\s*,\s*/))},disconnectRuntime:function(){e&&--e.clients<=0&&e.destroy(),e=null},getRuntime:function(){return e&&e.uid?e:e=null},exec:function(){return e?e.exec.apply(this,arguments):null},can:function(t){return!!e&&e.can(t)}})}}),n("moxie/file/Blob",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient"],function(e,t,n){var i={};return function r(o,s){function a(t,n,o){var s,a=i[this.uid];return"string"===e.typeOf(a)&&a.length?((s=new r(null,{type:o,size:n-t})).detach(a.substr(t,s.size)),s):null}n.call(this),o&&this.connectRuntime(o),s?"string"===e.typeOf(s)&&(s={data:s}):s={},e.extend(this,{uid:s.uid||e.guid("uid_"),ruid:o,size:s.size||0,type:s.type||"",slice:function(e,t,n){return this.isDetached()?a.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,n)},getSource:function(){return i[this.uid]?i[this.uid]:null},detach:function(e){if(this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy"),this.disconnectRuntime(),this.ruid=null),"data:"==(e=e||"").substr(0,5)){var n=e.indexOf(";base64,");this.type=e.substring(5,n),e=t.atob(e.substring(n+8))}this.size=e.length,i[this.uid]=e},isDetached:function(){return!this.ruid&&"string"===e.typeOf(i[this.uid])},destroy:function(){this.detach(),delete i[this.uid]}}),s.data?this.detach(s.data):i[this.uid]=s}}),n("moxie/core/I18n",["moxie/core/utils/Basic"],function(e){var t={};return{addI18n:function(n){return e.extend(t,n)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var n=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=n.shift();return"undefined"!==e.typeOf(t)?t:""})}}}),n("moxie/core/utils/Mime",["moxie/core/utils/Basic","moxie/core/I18n"],function(e,t){var n={},i={},r=function(e){var t,r,o,s=e.split(/,/);for(t=0;t<s.length;t+=2){for(o=s[t+1].split(/ /),r=0;r<o.length;r++)n[o[r]]=s[t];i[s[t]]=o}},o=function(t){var n=[];return e.each(t,function(t){if("*"===(t=t.toLowerCase()))return n=[],!1;var r=t.match(/^(\w+)\/(\*|\w+)$/);r&&("*"===r[2]?e.each(i,function(e,t){new RegExp("^"+r[1]+"/").test(t)&&[].push.apply(n,i[t])}):i[t]&&[].push.apply(n,i[t]))}),n},s=function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""};return r("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb xlt xla,application/vnd.ms-powerpoint,ppt pps pot ppa,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe"),{mimes:n,extensions:i,addMimeType:r,extList2mimes:function(t,n){var i,r,o,s,a=[];for(r=0;r<t.length;r++)for(i=t[r].extensions.toLowerCase().split(/\s*,\s*/),o=0;o<i.length;o++){if("*"===i[o])return[];if(s=a[i[o]],n&&/^\w+$/.test(i[o]))a.push("."+i[o]);else if(s&&-1===e.inArray(s,a))a.push(s);else if(!s)return[]}return a},mimes2exts:o,mimes2extList:function(n){var i=[],r=[];return"string"===e.typeOf(n)&&(n=e.trim(n).split(/\s*,\s*/)),r=o(n),i.push({title:t.translate("Files"),extensions:r.length?r.join(","):"*"}),i},getFileExtension:s,getFileMime:function(e){return n[s(e)]||""}}}),n("moxie/file/FileInput",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Mime","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/I18n","moxie/runtime/Runtime","moxie/runtime/RuntimeClient"],function(e,t,n,i,r,o,s,a,l){function c(t){var o,c,h;if(-1!==e.inArray(e.typeOf(t),["string","node"])&&(t={browse_button:t}),!(c=i.get(t.browse_button)))throw new r.DOMException(r.DOMException.NOT_FOUND_ERR);h={accept:[{title:s.translate("All Files"),extensions:"*"}],multiple:!1,required_caps:!1,container:c.parentNode||document.body},"string"==typeof(t=e.extend({},h,t)).required_caps&&(t.required_caps=a.parseCaps(t.required_caps)),"string"==typeof t.accept&&(t.accept=n.mimes2extList(t.accept)),(o=i.get(t.container))||(o=document.body),"static"===i.getStyle(o,"position")&&(o.style.position="relative"),o=c=null,l.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){var n=this;n.bind("RuntimeInit",function(r,o){n.ruid=o.uid,n.shimid=o.shimid,n.bind("Ready",function(){n.trigger("Refresh")},999),n.bind("Refresh",function(){var n,r,s,a,l;s=i.get(t.browse_button),a=i.get(o.shimid),s&&(n=i.getPos(s,i.get(t.container)),r=i.getSize(s),l=parseInt(i.getStyle(s,"z-index"),10)||0,a&&e.extend(a.style,{top:n.y+"px",left:n.x+"px",width:r.w+"px",height:r.h+"px",zIndex:l+1})),a=s=null}),o.exec.call(n,"FileInput","init",t)}),n.connectRuntime(e.extend({},t,{required_caps:{select_file:!0}}))},getOption:function(e){return t[e]},setOption:function(e,i){if(t.hasOwnProperty(e)){var o=t[e];switch(e){case"accept":"string"==typeof i&&(i=n.mimes2extList(i));break;case"container":case"required_caps":throw new r.FileException(r.FileException.NO_MODIFICATION_ALLOWED_ERR)}t[e]=i,this.exec("FileInput","setOption",e,i),this.trigger("OptionChanged",e,i,o)}},disable:function(t){this.getRuntime()&&this.exec("FileInput","disable","undefined"===e.typeOf(t)||t)},refresh:function(){this.trigger("Refresh")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null,this.unbindAll()}}),this.handleEventProps(u)}var u=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return c.prototype=o.instance,c}),n("moxie/file/File",["moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/file/Blob"],function(e,t,n){function i(i,r){var o;if(r||(r={}),n.apply(this,arguments),this.type||(this.type=t.getFileMime(r.name)),r.name)o=(o=r.name.replace(/\\/g,"/")).substr(o.lastIndexOf("/")+1);else if(this.type){var s=this.type.split("/")[0];o=e.guid((""!==s?s:"file")+"_"),t.extensions[this.type]&&(o+="."+t.extensions[this.type][0])}e.extend(this,{name:o||e.guid("file_"),relativePath:"",lastModifiedDate:r.lastModifiedDate||(new Date).toLocaleString()})}return i.prototype=n.prototype,i}),n("moxie/file/FileDrop",["moxie/core/I18n","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/core/utils/Env","moxie/file/File","moxie/runtime/RuntimeClient","moxie/core/EventTarget","moxie/core/utils/Mime"],function(e,t,n,i,r,o,s,a,l){function c(n){var r,o=this;"string"==typeof n&&(n={drop_zone:n}),r={accept:[{title:e.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},(n="object"==typeof n?i.extend({},r,n):r).container=t.get(n.drop_zone)||document.body,"static"===t.getStyle(n.container,"position")&&(n.container.style.position="relative"),"string"==typeof n.accept&&(n.accept=l.mimes2extList(n.accept)),s.call(o),i.extend(o,{uid:i.guid("uid_"),ruid:null,files:null,init:function(){o.bind("RuntimeInit",function(e,t){o.ruid=t.uid,t.exec.call(o,"FileDrop","init",n),o.dispatchEvent("ready")}),o.connectRuntime(n)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null,this.unbindAll()}}),this.handleEventProps(u)}var u=["ready","dragenter","dragleave","drop","error"];return c.prototype=a.instance,c}),n("moxie/file/FileReader",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/Exceptions","moxie/core/EventTarget","moxie/file/Blob","moxie/runtime/RuntimeClient"],function(e,t,n,i,r,o){function s(){function i(e,i){if(this.trigger("loadstart"),this.readyState===s.LOADING)return this.trigger("error",new n.DOMException(n.DOMException.INVALID_STATE_ERR)),void this.trigger("loadend");if(!(i instanceof r))return this.trigger("error",new n.DOMException(n.DOMException.NOT_FOUND_ERR)),void this.trigger("loadend");if(this.result=null,this.readyState=s.LOADING,i.isDetached()){var o=i.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=o;break;case"readAsDataURL":this.result="data:"+i.type+";base64,"+t.btoa(o)}this.readyState=s.DONE,this.trigger("load"),this.trigger("loadend")}else this.connectRuntime(i.ruid),this.exec("FileReader","read",e,i)}o.call(this),e.extend(this,{uid:e.guid("uid_"),readyState:s.EMPTY,result:null,error:null,readAsBinaryString:function(e){i.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){i.call(this,"readAsDataURL",e)},readAsText:function(e){i.call(this,"readAsText",e)},abort:function(){this.result=null,-1===e.inArray(this.readyState,[s.EMPTY,s.DONE])&&(this.readyState===s.LOADING&&(this.readyState=s.DONE),this.exec("FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),this.exec("FileReader","destroy"),this.disconnectRuntime(),this.unbindAll()}}),this.handleEventProps(a),this.bind("Error",function(e,t){this.readyState=s.DONE,this.error=t},999),this.bind("Load",function(){this.readyState=s.DONE},999)}var a=["loadstart","progress","load","abort","error","loadend"];return s.EMPTY=0,s.LOADING=1,s.DONE=2,s.prototype=i.instance,s}),n("moxie/core/utils/Url",["moxie/core/utils/Basic"],function(e){var t=function(n,i){var r,o=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],s=o.length,a={},l=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@\/]*):?([^:@\/]*))?@)?(\[[\da-fA-F:]+\]|[^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(n||""),c=/^\/\/\w/.test(n);switch(e.typeOf(i)){case"undefined":i=t(document.location.href,!1);break;case"string":i=t(i,!1)}for(;s--;)l[s]&&(a[o[s]]=l[s]);if(r=!c&&!a.scheme,(c||r)&&(a.scheme=i.scheme),r){a.host=i.host,a.port=i.port;var u="";/^[^\/]/.test(a.path)&&(u=i.path,u=/\/[^\/]*\.[^\/]*$/.test(u)?u.replace(/\/[^\/]+$/,"/"):u.replace(/\/?$/,"/")),a.path=u+(a.path||"")}return a.port||(a.port={http:80,https:443}[a.scheme]||80),a.port=parseInt(a.port,10),a.path||(a.path="/"),delete a.source,a};return{parseUrl:t,resolveUrl:function(e){var n="object"==typeof e?e:t(e);return n.scheme+"://"+n.host+(n.port!=={http:80,https:443}[n.scheme]?":"+n.port:"")+n.path+(n.query?n.query:"")},hasSameOrigin:function(e){function n(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof e&&(e=t(e)),n(t())===n(e)}}}),n("moxie/runtime/RuntimeTarget",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,n){function i(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return i.prototype=n.instance,i}),n("moxie/file/FileReaderSync",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/utils/Encode"],function(e,t,n){return function(){function i(e,t){if(!t.isDetached()){var i=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return this.disconnectRuntime(),i}var r=t.getSource();switch(e){case"readAsBinaryString":return r;case"readAsDataURL":return"data:"+t.type+";base64,"+n.btoa(r);case"readAsText":for(var o="",s=0,a=r.length;a>s;s++)o+=String.fromCharCode(r[s]);return o}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return i.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return i.call(this,"readAsDataURL",e)},readAsText:function(e){return i.call(this,"readAsText",e)}})}}),n("moxie/xhr/FormData",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/file/Blob"],function(e,t,n){return function(){var e,i=[];t.extend(this,{append:function(r,o){var s=this,a=t.typeOf(o);o instanceof n?e={name:r,value:o}:"array"===a?(r+="[]",t.each(o,function(e){s.append(r,e)})):"object"===a?t.each(o,function(e,t){s.append(r+"["+t+"]",e)}):"null"===a||"undefined"===a||"number"===a&&isNaN(o)?s.append(r,"false"):i.push({name:r,value:o.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(n){t.each(i,function(e){n(e.value,e.name)}),e&&n(e.value,e.name)},destroy:function(){e=null,i=[]}})}}),n("moxie/xhr/XMLHttpRequest",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/utils/Encode","moxie/core/utils/Url","moxie/runtime/Runtime","moxie/runtime/RuntimeTarget","moxie/file/Blob","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/core/utils/Env","moxie/core/utils/Mime"],function(e,t,n,i,r,o,s,a,l,c,u,h){function d(){this.uid=e.guid("uid_")}function f(){function n(e,t){return S.hasOwnProperty(e)?1===arguments.length?u.can("define_property")?S[e]:w[e]:void(u.can("define_property")?S[e]=t:w[e]=t):void 0}function l(t){function i(){_&&(_.destroy(),_=null),a.dispatchEvent("loadend"),a=null}function r(r){_.bind("LoadStart",function(e){n("readyState",f.LOADING),a.dispatchEvent("readystatechange"),a.dispatchEvent(e),L&&a.upload.dispatchEvent(e)}),_.bind("Progress",function(e){n("readyState")!==f.LOADING&&(n("readyState",f.LOADING),a.dispatchEvent("readystatechange")),a.dispatchEvent(e)}),_.bind("UploadProgress",function(e){L&&a.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})}),_.bind("Load",function(t){n("readyState",f.DONE),n("status",Number(r.exec.call(_,"XMLHttpRequest","getStatus")||0)),n("statusText",p[n("status")]||""),n("response",r.exec.call(_,"XMLHttpRequest","getResponse",n("responseType"))),~e.inArray(n("responseType"),["text",""])?n("responseText",n("response")):"document"===n("responseType")&&n("responseXML",n("response")),N=r.exec.call(_,"XMLHttpRequest","getAllResponseHeaders"),a.dispatchEvent("readystatechange"),n("status")>0?(L&&a.upload.dispatchEvent(t),a.dispatchEvent(t)):(I=!0,a.dispatchEvent("error")),i()}),_.bind("Abort",function(e){a.dispatchEvent(e),i()}),_.bind("Error",function(e){I=!0,n("readyState",f.DONE),a.dispatchEvent("readystatechange"),D=!0,a.dispatchEvent(e),i()}),r.exec.call(_,"XMLHttpRequest","send",{url:g,method:v,async:C,user:y,password:b,headers:k,mimeType:M,encoding:E,responseType:a.responseType,withCredentials:a.withCredentials,options:R},t)}var a=this;(new Date).getTime(),_=new s,"string"==typeof R.required_caps&&(R.required_caps=o.parseCaps(R.required_caps)),R.required_caps=e.extend({},R.required_caps,{return_response_type:a.responseType}),t instanceof c&&(R.required_caps.send_multipart=!0),e.isEmptyObj(k)||(R.required_caps.send_custom_headers=!0),P||(R.required_caps.do_cors=!0),R.ruid?r(_.connectRuntime(R)):(_.bind("RuntimeInit",function(e,t){r(t)}),_.bind("RuntimeError",function(e,t){a.dispatchEvent("RuntimeError",t)}),_.connectRuntime(R))}var g,v,y,b,_,x,w=this,S={timeout:0,readyState:f.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},C=!0,k={},E=null,M=null,A=!1,T=!1,L=!1,D=!1,I=!1,P=!1,R={},N="";e.extend(this,S,{uid:e.guid("uid_"),upload:new d,open:function(o,s,a,l,c){var u;if(!o||!s)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(o)||i.utf8_encode(o)!==o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(o.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(v=o.toUpperCase()),~e.inArray(v,["CONNECT","TRACE","TRACK"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(s=i.utf8_encode(s),u=r.parseUrl(s),P=r.hasSameOrigin(u),g=r.resolveUrl(s),(l||c)&&!P)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(y=l||u.user,b=c||u.pass,!1===(C=a||!0)&&(n("timeout")||n("withCredentials")||""!==n("responseType")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);A=!C,T=!1,k={},function(){n("responseText",""),n("responseXML",null),n("response",null),n("status",0),n("statusText","")}.call(this),n("readyState",f.OPENED),this.dispatchEvent("readystatechange")},setRequestHeader:function(r,o){if(n("readyState")!==f.OPENED||T)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(r)||i.utf8_encode(r)!==r)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return r=e.trim(r).toLowerCase(),!~e.inArray(r,["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"])&&!/^(proxy\-|sec\-)/.test(r)&&(k[r]?k[r]+=", "+o:k[r]=o,!0)},hasRequestHeader:function(e){return e&&k[e.toLowerCase()]||!1},getAllResponseHeaders:function(){return N||""},getResponseHeader:function(t){return t=t.toLowerCase(),I||~e.inArray(t,["set-cookie","set-cookie2"])?null:N&&""!==N&&(x||(x={},e.each(N.split(/\r\n/),function(t){var n=t.split(/:\s+/);2===n.length&&(n[0]=e.trim(n[0]),x[n[0].toLowerCase()]={header:n[0],value:e.trim(n[1])})})),x.hasOwnProperty(t))?x[t].header+": "+x[t].value:null},overrideMimeType:function(i){var r;if(~e.inArray(n("readyState"),[f.LOADING,f.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(i=e.trim(i.toLowerCase()),/;/.test(i)&&(r=i.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(i=r[1],r[2]&&r[2]),!h.mimes[i])throw new t.DOMException(t.DOMException.SYNTAX_ERR)},send:function(n,r){if(R="string"===e.typeOf(r)?{ruid:r}:r||{},this.readyState!==f.OPENED||T)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n instanceof a)R.ruid=n.ruid,M=n.type||"application/octet-stream";else if(n instanceof c){if(n.hasBlob()){var o=n.getBlob();R.ruid=o.ruid,M=o.type||"application/octet-stream"}}else"string"==typeof n&&(E="UTF-8",M="text/plain;charset=UTF-8",n=i.utf8_encode(n));this.withCredentials||(this.withCredentials=R.required_caps&&R.required_caps.send_browser_cookies&&!P),L=!A&&this.upload.hasEventListener(),I=!1,D=!n,A||(T=!0),l.call(this,n)},abort:function(){if(I=!0,A=!1,~e.inArray(n("readyState"),[f.UNSENT,f.OPENED,f.DONE]))n("readyState",f.UNSENT);else{if(n("readyState",f.DONE),T=!1,!_)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);_.getRuntime().exec.call(_,"XMLHttpRequest","abort",D),D=!0}},destroy:function(){_&&("function"===e.typeOf(_.destroy)&&_.destroy(),_=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}}),this.handleEventProps(m.concat(["readystatechange"])),this.upload.handleEventProps(m)}var p={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};d.prototype=n.instance;var m=["loadstart","progress","abort","error","load","timeout","loadend"];return f.UNSENT=0,f.OPENED=1,f.HEADERS_RECEIVED=2,f.LOADING=3,f.DONE=4,f.prototype=n.instance,f}),n("moxie/runtime/Transporter",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,n,i){function r(){function i(){u=h=0,c=this.result=null}function o(t,n){var i=this;l=n,i.bind("TransportingProgress",function(t){h=t.loaded,u>h&&-1===e.inArray(i.state,[r.IDLE,r.DONE])&&s.call(i)},999),i.bind("TransportingComplete",function(){h=u,i.state=r.DONE,c=null,i.result=l.exec.call(i,"Transporter","getAsBlob",t||"")},999),i.state=r.BUSY,i.trigger("TransportingStarted"),s.call(i)}function s(){var e,n=u-h;d>n&&(d=n),e=t.btoa(c.substr(h,d)),l.exec.call(this,"Transporter","receive",e,u)}var a,l,c,u,h,d;n.call(this),e.extend(this,{uid:e.guid("uid_"),state:r.IDLE,result:null,transport:function(t,n,r){var s=this;if(r=e.extend({chunk_size:204798},r),(a=r.chunk_size%3)&&(r.chunk_size+=3-a),d=r.chunk_size,i.call(this),c=t,u=t.length,"string"===e.typeOf(r)||r.ruid)o.call(s,n,this.connectRuntime(r));else{var l=function(e,t){s.unbind("RuntimeInit",l),o.call(s,n,t)};this.bind("RuntimeInit",l),this.connectRuntime(r)}},abort:function(){var e=this;e.state=r.IDLE,l&&(l.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),i.call(e)},destroy:function(){this.unbindAll(),l=null,this.disconnectRuntime(),i.call(this)}})}return r.IDLE=0,r.BUSY=1,r.DONE=2,r.prototype=i.instance,r}),n("moxie/image/Image",["moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/file/FileReaderSync","moxie/xhr/XMLHttpRequest","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/runtime/Transporter","moxie/core/utils/Env","moxie/core/EventTarget","moxie/file/Blob","moxie/file/File","moxie/core/utils/Encode"],function(e,t,n,i,r,o,s,a,l,c,u,h,d){function f(){function i(t,n){function i(e){r.ruid=e.uid,e.exec.call(r,"Image","loadFromBlob",t)}var r=this;r.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",function(e,t){i(t)}),n&&"string"==typeof n.required_caps&&(n.required_caps=o.parseCaps(n.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},n))):i(this.connectRuntime(t.ruid))}s.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){(function t(o){var s=e.typeOf(o);try{if(o instanceof f){if(!o.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);(function(t,n){var i=this.connectRuntime(t.ruid);this.ruid=i.uid,i.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(n)||n)}).apply(this,arguments)}else if(o instanceof u){if(!~e.inArray(o.type,["image/jpeg","image/png"]))throw new n.ImageError(n.ImageError.WRONG_FORMAT);i.apply(this,arguments)}else if(-1!==e.inArray(s,["blob","file"]))t.call(this,new h(null,o),arguments[1]);else if("string"===s)"data:"===o.substr(0,5)?t.call(this,new u(null,{data:o}),arguments[1]):function(e,t){var n,o=this;(n=new r).open("get",e),n.responseType="blob",n.onprogress=function(e){o.trigger(e)},n.onload=function(){i.call(o,n.response,!0)},n.onerror=function(e){o.trigger(e)},n.onloadend=function(){n.destroy()},n.bind("RuntimeError",function(e,t){o.trigger("RuntimeError",t)}),n.send(null,t)}.apply(this,arguments);else{if("node"!==s||"img"!==o.nodeName.toLowerCase())throw new n.DOMException(n.DOMException.TYPE_MISMATCH_ERR);t.call(this,o.src,arguments[1])}}catch(e){this.trigger("error",e.code)}}).apply(this,arguments)},resize:function(t){var i,r,o=this,s={x:0,y:0,width:o.width,height:o.height},a=e.extendIf({width:o.width,height:o.height,type:o.type||"image/jpeg",quality:90,crop:!1,fit:!0,preserveHeaders:!0,resample:"default",multipass:!0},t);try{if(!o.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(o.width>f.MAX_RESIZE_WIDTH||o.height>f.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);if(i=o.meta&&o.meta.tiff&&o.meta.tiff.Orientation||1,-1!==e.inArray(i,[5,6,7,8])){var l=a.width;a.width=a.height,a.height=l}if(a.crop){switch(r=Math.max(a.width/o.width,a.height/o.height),t.fit?(s.width=Math.min(Math.ceil(a.width/r),o.width),s.height=Math.min(Math.ceil(a.height/r),o.height),r=a.width/s.width):(s.width=Math.min(a.width,o.width),s.height=Math.min(a.height,o.height),r=1),"boolean"==typeof a.crop&&(a.crop="cc"),a.crop.toLowerCase().replace(/_/,"-")){case"rb":case"right-bottom":s.x=o.width-s.width,s.y=o.height-s.height;break;case"cb":case"center-bottom":s.x=Math.floor((o.width-s.width)/2),s.y=o.height-s.height;break;case"lb":case"left-bottom":s.x=0,s.y=o.height-s.height;break;case"lt":case"left-top":s.x=0,s.y=0;break;case"ct":case"center-top":s.x=Math.floor((o.width-s.width)/2),s.y=0;break;case"rt":case"right-top":s.x=o.width-s.width,s.y=0;break;case"rc":case"right-center":case"right-middle":s.x=o.width-s.width,s.y=Math.floor((o.height-s.height)/2);break;case"lc":case"left-center":case"left-middle":s.x=0,s.y=Math.floor((o.height-s.height)/2);break;case"cc":case"center-center":case"center-middle":default:s.x=Math.floor((o.width-s.width)/2),s.y=Math.floor((o.height-s.height)/2)}s.x=Math.max(s.x,0),s.y=Math.max(s.y,0)}else(r=Math.min(a.width/o.width,a.height/o.height))>1&&!a.fit&&(r=1);this.exec("Image","resize",s,r,a)}catch(e){o.trigger("error",e.code)}},downsize:function(t){var n,i={width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90,crop:!1,fit:!1,preserveHeaders:!0,resample:"default"};n="object"==typeof t?e.extend(i,t):e.extend(i,{width:arguments[0],height:arguments[1],crop:arguments[2],preserveHeaders:arguments[3]}),this.resize(n)},crop:function(e,t,n){this.downsize(e,t,!0,n)},getAsCanvas:function(){if(!l.can("create_canvas"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return this.exec("Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsBlob",e||"image/jpeg",t||90)},getAsDataURL:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsDataURL",e||"image/jpeg",t||90)},getAsBinaryString:function(e,t){var n=this.getAsDataURL(e,t);return d.atob(n.substring(n.indexOf("base64,")+7))},embed:function(i,r){var o,s=this,c=e.extend({width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90,fit:!0,resample:"nearest"},r);try{if(!(i=t.get(i)))throw new n.DOMException(n.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);this.width>f.MAX_RESIZE_WIDTH||(this.height,f.MAX_RESIZE_HEIGHT);var u=new f;return u.bind("Resize",function(){(function(t,r){var c=this;if(l.can("create_canvas")){var u=c.getAsCanvas();if(u)return i.appendChild(u),u=null,c.destroy(),void s.trigger("embedded")}var h=c.getAsDataURL(t,r);if(!h)throw new n.ImageError(n.ImageError.WRONG_FORMAT);if(l.can("use_data_uri_of",h.length))i.innerHTML='<img src="'+h+'" width="'+c.width+'" height="'+c.height+'" alt="" />',c.destroy(),s.trigger("embedded");else{var f=new a;f.bind("TransportingComplete",function(){o=s.connectRuntime(this.result.ruid),s.bind("Embedded",function(){e.extend(o.getShimContainer().style,{top:"0px",left:"0px",width:c.width+"px",height:c.height+"px"}),o=null},999),o.exec.call(s,"ImageView","display",this.result.uid,width,height),c.destroy()}),f.transport(d.atob(h.substring(h.indexOf("base64,")+7)),t,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:i})}}).call(this,c.type,c.quality)}),u.bind("Load",function(){this.downsize(c)}),this.meta.thumb&&this.meta.thumb.width>=c.width&&this.meta.thumb.height>=c.height?u.load(this.meta.thumb.data):u.clone(this,!1),u}catch(e){this.trigger("error",e.code)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.meta&&this.meta.thumb&&this.meta.thumb.data.destroy(),this.unbindAll()}}),this.handleEventProps(p),this.bind("Load Resize",function(){return function(e){try{return e||(e=this.exec("Image","getInfo")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,""===this.name&&(this.name=e.name),!0}catch(e){return this.trigger("error",e.code),!1}}.call(this)},999)}var p=["progress","load","error","resize","embedded"];return f.MAX_RESIZE_WIDTH=8192,f.MAX_RESIZE_HEIGHT=8192,f.prototype=c.instance,f}),n("moxie/runtime/html5/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,n,r){var o="html5",s={};return n.addConstructor(o,function(t){var a=this,l=n.capTest,c=n.capTrue,u=e.extend({access_binary:l(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return a.can("access_binary")&&!!s.Image},display_media:l((r.can("create_canvas")||r.can("use_data_uri_over32kb"))&&i("moxie/image/Image")),do_cors:l(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:l(function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&("IE"!==r.browser||r.verComp(r.version,9,">"))}()),filter_by_extension:l(!("Chrome"===r.browser&&r.verComp(r.version,28,"<")||"IE"===r.browser&&r.verComp(r.version,10,"<")||"Safari"===r.browser&&r.verComp(r.version,7,"<")||"Firefox"===r.browser&&r.verComp(r.version,37,"<"))),return_response_headers:c,return_response_type:function(e){return!("json"!==e||!window.JSON)||r.can("return_response_type",e)},return_status_code:c,report_upload_progress:l(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return a.can("access_binary")&&r.can("create_canvas")},select_file:function(){return r.can("use_fileinput")&&window.File},select_folder:function(){return a.can("select_file")&&("Chrome"===r.browser&&r.verComp(r.version,21,">=")||"Firefox"===r.browser&&r.verComp(r.version,42,">="))},select_multiple:function(){return!(!a.can("select_file")||"Safari"===r.browser&&"Windows"===r.os||"iOS"===r.os&&r.verComp(r.osVersion,"7.0.0",">")&&r.verComp(r.osVersion,"8.0.0","<"))},send_binary_string:l(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:l(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||a.can("send_binary_string")},slice_blob:l(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return a.can("slice_blob")&&a.can("send_multipart")},summon_file_dialog:function(){return a.can("select_file")&&!("Firefox"===r.browser&&r.verComp(r.version,4,"<")||"Opera"===r.browser&&r.verComp(r.version,12,"<")||"IE"===r.browser&&r.verComp(r.version,10,"<"))},upload_filesize:c,use_http_method:c},arguments[2]);n.call(this,t,arguments[1]||o,u),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(a),e=a=null}}(this.destroy)}),e.extend(this.getShim(),s)}),s}),n("moxie/runtime/html5/file/Blob",["moxie/runtime/html5/Runtime","moxie/file/Blob"],function(e,t){return e.Blob=function(){this.slice=function(){return new t(this.getRuntime().uid,function(e,t,n){var i;if(!window.File.prototype.slice)return(i=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?i.call(e,t,n):null;try{return e.slice(),e.slice(t,n)}catch(i){return e.slice(t,n-t)}}.apply(this,arguments))},this.destroy=function(){this.getRuntime().getShim().removeInstance(this.uid)}}}),n("moxie/core/utils/Events",["moxie/core/utils/Basic"],function(e){function t(){this.returnValue=!1}function n(){this.cancelBubble=!0}var i={},r="moxie_"+e.guid(),o=function(t,n,o){var s,a;if(n=n.toLowerCase(),t[r]&&i[t[r]]&&i[t[r]][n]){for(var l=(s=i[t[r]][n]).length-1;l>=0&&(s[l].orig!==o&&s[l].key!==o||(t.removeEventListener?t.removeEventListener(n,s[l].func,!1):t.detachEvent&&t.detachEvent("on"+n,s[l].func),s[l].orig=null,s[l].func=null,s.splice(l,1),o===a));l--);if(s.length||delete i[t[r]][n],e.isEmptyObj(i[t[r]])){delete i[t[r]];try{delete t[r]}catch(e){t[r]=a}}}};return{addEvent:function(o,s,a,l){var c,u;s=s.toLowerCase(),o.addEventListener?(c=a,o.addEventListener(s,c,!1)):o.attachEvent&&(c=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=n,a(e)},o.attachEvent("on"+s,c)),o[r]||(o[r]=e.guid()),i.hasOwnProperty(o[r])||(i[o[r]]={}),(u=i[o[r]]).hasOwnProperty(s)||(u[s]=[]),u[s].push({func:c,orig:a,key:l})},removeEvent:o,removeAllEvents:function(t,n){t&&t[r]&&e.each(i[t[r]],function(e,i){o(t,i,n)})}}}),n("moxie/runtime/html5/file/FileInput",["moxie/runtime/html5/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,n,i,r,o,s){return e.FileInput=function(){var e,a;n.extend(this,{init:function(l){var c,u,h,d,f,p,m=this,g=m.getRuntime();e=l,h=o.extList2mimes(e.accept,g.can("filter_by_extension")),(u=g.getShimContainer()).innerHTML='<input id="'+g.uid+'" type="file" style="font-size:999px;opacity:0;"'+(e.multiple&&g.can("select_multiple")?"multiple":"")+(e.directory&&g.can("select_folder")?"webkitdirectory directory":"")+(h?' accept="'+h.join(",")+'"':"")+" />",c=i.get(g.uid),n.extend(c.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),d=i.get(e.browse_button),a=i.getStyle(d,"z-index")||"auto",g.can("summon_file_dialog")&&("static"===i.getStyle(d,"position")&&(d.style.position="relative"),r.addEvent(d,"click",function(e){var t=i.get(g.uid);t&&!t.disabled&&t.click(),e.preventDefault()},m.uid),m.bind("Refresh",function(){f=parseInt(a,10)||1,i.get(e.browse_button).style.zIndex=f,this.getRuntime().getShimContainer().style.zIndex=f-1})),p=g.can("summon_file_dialog")?d:u,r.addEvent(p,"mouseover",function(){m.trigger("mouseenter")},m.uid),r.addEvent(p,"mouseout",function(){m.trigger("mouseleave")},m.uid),r.addEvent(p,"mousedown",function(){m.trigger("mousedown")},m.uid),r.addEvent(i.get(e.container),"mouseup",function(){m.trigger("mouseup")},m.uid),(g.can("summon_file_dialog")?c:d).setAttribute("tabindex",-1),c.onchange=function i(){if(m.files=[],n.each(this.files,function(n){var i="";return!(!e.directory||"."!=n.name)||(n.webkitRelativePath&&(i="/"+n.webkitRelativePath.replace(/^\//,"")),(n=new t(g.uid,n)).relativePath=i,void m.files.push(n))}),"IE"!==s.browser&&"IEMobile"!==s.browser)this.value="";else{var r=this.cloneNode(!0);this.parentNode.replaceChild(r,this),r.onchange=i}m.files.length&&m.trigger("change")},m.trigger({type:"ready",async:!0}),u=null},setOption:function(e,t){var n=this.getRuntime(),r=i.get(n.uid);switch(e){case"accept":if(t){var s=t.mimes||o.extList2mimes(t,n.can("filter_by_extension"));r.setAttribute("accept",s.join(","))}else r.removeAttribute("accept");break;case"directory":t&&n.can("select_folder")?(r.setAttribute("directory",""),r.setAttribute("webkitdirectory","")):(r.removeAttribute("directory"),r.removeAttribute("webkitdirectory"));break;case"multiple":t&&n.can("select_multiple")?r.setAttribute("multiple",""):r.removeAttribute("multiple")}},disable:function(e){var t,n=this.getRuntime();(t=i.get(n.uid))&&(t.disabled=!!e)},destroy:function(){var t=this.getRuntime(),n=t.getShim(),o=t.getShimContainer(),s=e&&i.get(e.container),l=e&&i.get(e.browse_button);s&&r.removeAllEvents(s,this.uid),l&&(r.removeAllEvents(l,this.uid),l.style.zIndex=a),o&&(r.removeAllEvents(o,this.uid),o.innerHTML=""),n.removeInstance(this.uid),e=o=s=l=n=null}})}}),n("moxie/runtime/html5/file/FileDrop",["moxie/runtime/html5/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime"],function(e,t,n,i,r,o){return e.FileDrop=function(){function e(e){if(!e.dataTransfer||!e.dataTransfer.types)return!1;var t=n.toArray(e.dataTransfer.types||[]);return-1!==n.inArray("Files",t)||-1!==n.inArray("public.file-url",t)||-1!==n.inArray("application/x-moz-file",t)}function s(e,n){if(a(e)){var i=new t(u,e);i.relativePath=n||"",h.push(i)}}function a(e){if(!d.length)return!0;var t=o.getFileExtension(e.name);return!t||-1!==n.inArray(t,d)}function l(e,t){var i=[];n.each(e,function(e){i.push(function(t){!function(e,t){e.isFile?e.file(function(n){s(n,e.fullPath),t()},function(){t()}):e.isDirectory?function(e,t){var n=[],i=e.createReader();!function e(t){i.readEntries(function(i){i.length?([].push.apply(n,i),e(t)):t()},t)}(function(){l(n,t)})}(e,t):t()}(e,t)})}),n.inSeries(i,function(){t()})}var c,u,h=[],d=[];n.extend(this,{init:function(t){var i,o=this;c=t,u=o.ruid,d=function(e){for(var t=[],i=0;i<e.length;i++)[].push.apply(t,e[i].extensions.split(/\s*,\s*/));return-1===n.inArray("*",t)?t:[]}(c.accept),i=c.container,r.addEvent(i,"dragover",function(t){e(t)&&(t.preventDefault(),t.dataTransfer.dropEffect="copy")},o.uid),r.addEvent(i,"drop",function(t){e(t)&&(t.preventDefault(),h=[],t.dataTransfer.items&&t.dataTransfer.items[0].webkitGetAsEntry?function(e,t){var i=[];n.each(e,function(e){var t=e.webkitGetAsEntry();t&&(t.isFile?s(e.getAsFile(),t.fullPath):i.push(t))}),i.length?l(i,t):t()}(t.dataTransfer.items,function(){o.files=h,o.trigger("drop")}):(n.each(t.dataTransfer.files,function(e){s(e)}),o.files=h,o.trigger("drop")))},o.uid),r.addEvent(i,"dragenter",function(){o.trigger("dragenter")},o.uid),r.addEvent(i,"dragleave",function(){o.trigger("dragleave")},o.uid)},destroy:function(){r.removeAllEvents(c&&i.get(c.container),this.uid),u=h=d=c=null,this.getRuntime().getShim().removeInstance(this.uid)}})}}),n("moxie/runtime/html5/file/FileReader",["moxie/runtime/html5/Runtime","moxie/core/utils/Encode","moxie/core/utils/Basic"],function(e,t,n){return e.FileReader=function(){function e(e){return t.atob(e.substring(e.indexOf("base64,")+7))}var i,r=!1;n.extend(this,{read:function(t,o){var s=this;s.result="",(i=new window.FileReader).addEventListener("progress",function(e){s.trigger(e)}),i.addEventListener("load",function(t){s.result=r?e(i.result):i.result,s.trigger(t)}),i.addEventListener("error",function(e){s.trigger(e,i.error)}),i.addEventListener("loadend",function(e){i=null,s.trigger(e)}),"function"===n.typeOf(i[t])?(r=!1,i[t](o.getSource())):"readAsBinaryString"===t&&(r=!0,i.readAsDataURL(o.getSource()))},abort:function(){i&&i.abort()},destroy:function(){i=null,this.getRuntime().getShim().removeInstance(this.uid)}})}}),n("moxie/runtime/html5/xhr/XMLHttpRequest",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/core/utils/Url","moxie/file/File","moxie/file/Blob","moxie/xhr/FormData","moxie/core/Exceptions","moxie/core/utils/Env"],function(e,t,n,i,r,o,s,a,l){return e.XMLHttpRequest=function(){function e(e,t){var n,i,r=this;n=t.getBlob().getSource(),(i=new window.FileReader).onload=function(){t.append(t.getBlobName(),new o(null,{type:n.type,data:i.result})),d.send.call(r,e,t)},i.readAsBinaryString(n)}function c(e){var t="----moxieboundary"+(new Date).getTime(),n="--",i="\r\n",r="";if(!this.getRuntime().can("send_binary_string"))throw new a.RuntimeError(a.RuntimeError.NOT_SUPPORTED_ERR);return u.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),e.each(function(e,s){r+=e instanceof o?n+t+i+'Content-Disposition: form-data; name="'+s+'"; filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"'+i+"Content-Type: "+(e.type||"application/octet-stream")+i+i+e.getSource()+i:n+t+i+'Content-Disposition: form-data; name="'+s+'"'+i+i+unescape(encodeURIComponent(e))+i}),r+=n+t+n+i}var u,h,d=this;t.extend(this,{send:function(n,r){var a=this,d="Mozilla"===l.browser&&l.verComp(l.version,4,">=")&&l.verComp(l.version,7,"<"),f="Android Browser"===l.browser,p=!1;if(h=n.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),(u=!window.XMLHttpRequest||"IE"===l.browser&&l.verComp(l.version,8,"<")?function(){for(var e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(e){}}():new window.XMLHttpRequest).open(n.method,n.url,n.async,n.user,n.password),r instanceof o)r.isDetached()&&(p=!0),r=r.getSource();else if(r instanceof s){if(r.hasBlob())if(r.getBlob().isDetached())r=c.call(a,r),p=!0;else if((d||f)&&"blob"===t.typeOf(r.getBlob().getSource())&&window.FileReader)return void e.call(a,n,r);if(r instanceof s){var m=new window.FormData;r.each(function(e,t){e instanceof o?m.append(t,e.getSource()):m.append(t,e)}),r=m}}u.upload?(n.withCredentials&&(u.withCredentials=!0),u.addEventListener("load",function(e){a.trigger(e)}),u.addEventListener("error",function(e){a.trigger(e)}),u.addEventListener("progress",function(e){a.trigger(e)}),u.upload.addEventListener("progress",function(e){a.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})})):u.onreadystatechange=function(){switch(u.readyState){case 1:case 2:break;case 3:var e,t;try{i.hasSameOrigin(n.url)&&(e=u.getResponseHeader("Content-Length")||0),u.responseText&&(t=u.responseText.length)}catch(n){e=t=0}a.trigger({type:"progress",lengthComputable:!!e,total:parseInt(e,10),loaded:t});break;case 4:u.onreadystatechange=function(){};try{if(u.status>=200&&u.status<400){a.trigger("load");break}}catch(e){}a.trigger("error")}},t.isEmptyObj(n.headers)||t.each(n.headers,function(e,t){u.setRequestHeader(t,e)}),""!==n.responseType&&"responseType"in u&&(u.responseType="json"!==n.responseType||l.can("return_response_type","json")?n.responseType:"text"),p?u.sendAsBinary?u.sendAsBinary(r):function(){for(var e=new Uint8Array(r.length),t=0;t<r.length;t++)e[t]=255&r.charCodeAt(t);u.send(e.buffer)}():u.send(r),a.trigger("loadstart")},getStatus:function(){try{if(u)return u.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case"blob":var i=new r(t.uid,u.response),o=u.getResponseHeader("Content-Disposition");if(o){var s=o.match(/filename=([\'\"'])([^\1]+)\1/);s&&(h=s[2])}return i.name=h,i.type||(i.type=n.getFileMime(h)),i;case"json":return l.can("return_response_type","json")?u.response:200===u.status&&window.JSON?JSON.parse(u.responseText):null;case"document":return function(e){var t=e.responseXML,n=e.responseText;return"IE"===l.browser&&n&&t&&!t.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&&((t=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,t.validateOnParse=!1,t.loadXML(n)),t&&("IE"===l.browser&&0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t}(u);default:return""!==u.responseText?u.responseText:null}}catch(e){return null}},getAllResponseHeaders:function(){try{return u.getAllResponseHeaders()}catch(e){}return""},abort:function(){u&&u.abort()},destroy:function(){d=h=null,this.getRuntime().getShim().removeInstance(this.uid)}})}}),n("moxie/runtime/html5/utils/BinaryReader",["moxie/core/utils/Basic"],function(e){function t(e){e instanceof ArrayBuffer?n.apply(this,arguments):i.apply(this,arguments)}function n(t){var n=new DataView(t);e.extend(this,{readByteAt:function(e){return n.getUint8(e)},writeByteAt:function(e,t){n.setUint8(e,t)},SEGMENT:function(e,i,r){switch(arguments.length){case 2:return t.slice(e,e+i);case 1:return t.slice(e);case 3:if(null===r&&(r=new ArrayBuffer),r instanceof ArrayBuffer){var o=new Uint8Array(this.length()-i+r.byteLength);e>0&&o.set(new Uint8Array(t.slice(0,e)),0),o.set(new Uint8Array(r),e),o.set(new Uint8Array(t.slice(e+i)),e+r.byteLength),this.clear(),t=o.buffer,n=new DataView(t);break}default:return t}},length:function(){return t?t.byteLength:0},clear:function(){n=t=null}})}function i(t){function n(e,n,i){i=3===arguments.length?i:t.length-n-1,t=t.substr(0,n)+e+t.substr(i+n)}e.extend(this,{readByteAt:function(e){return t.charCodeAt(e)},writeByteAt:function(e,t){n(String.fromCharCode(t),e,1)},SEGMENT:function(e,i,r){switch(arguments.length){case 1:return t.substr(e);case 2:return t.substr(e,i);case 3:n(null!==r?r:"",e,i);break;default:return t}},length:function(){return t?t.length:0},clear:function(){t=null}})}return e.extend(t.prototype,{littleEndian:!1,read:function(e,t){var n,i,r;if(e+t>this.length())throw new Error("You are trying to read outside the source boundaries.");for(i=this.littleEndian?0:-8*(t-1),r=0,n=0;t>r;r++)n|=this.readByteAt(e+r)<<Math.abs(i+8*r);return n},write:function(e,t,n){var i,r;if(e>this.length())throw new Error("You are trying to write outside the source boundaries.");for(i=this.littleEndian?0:-8*(n-1),r=0;n>r;r++)this.writeByteAt(e+r,255&t>>Math.abs(i+8*r))},BYTE:function(e){return this.read(e,1)},SHORT:function(e){return this.read(e,2)},LONG:function(e){return this.read(e,4)},SLONG:function(e){var t=this.read(e,4);return t>2147483647?t-4294967296:t},CHAR:function(e){return String.fromCharCode(this.read(e,1))},STRING:function(e,t){return this.asArray("CHAR",e,t).join("")},asArray:function(e,t,n){for(var i=[],r=0;n>r;r++)i[r]=this[e](t+r);return i}}),t}),n("moxie/runtime/html5/image/JPEGHeaders",["moxie/runtime/html5/utils/BinaryReader","moxie/core/Exceptions"],function(e,t){return function n(i){var r,o,s,a=[],l=0;if(65496!==(r=new e(i)).SHORT(0))throw r.clear(),new t.ImageError(t.ImageError.WRONG_FORMAT);for(o=2;o<=r.length();)if((s=r.SHORT(o))>=65488&&65495>=s)o+=2;else{if(65498===s||65497===s)break;l=r.SHORT(o+2)+2,s>=65505&&65519>=s&&a.push({hex:s,name:"APP"+(15&s),start:o,length:l,segment:r.SEGMENT(o,l)}),o+=l}return r.clear(),{headers:a,restore:function(t){var n,i,r;for(r=new e(t),o=65504==r.SHORT(2)?4+r.SHORT(4):2,i=0,n=a.length;n>i;i++)r.SEGMENT(o,0,a[i].segment),o+=a[i].length;return t=r.SEGMENT(),r.clear(),t},strip:function(t){var i,r,o,s;for(r=(o=new n(t)).headers,o.purge(),i=new e(t),s=r.length;s--;)i.SEGMENT(r[s].start,r[s].length,"");return t=i.SEGMENT(),i.clear(),t},get:function(e){for(var t=[],n=0,i=a.length;i>n;n++)a[n].name===e.toUpperCase()&&t.push(a[n].segment);return t},set:function(e,t){var n,i,r,o=[];for("string"==typeof t?o.push(t):o=t,n=i=0,r=a.length;r>n&&(a[n].name===e.toUpperCase()&&(a[n].segment=o[i],a[n].length=o[i].length,i++),!(i>=o.length));n++);},purge:function(){this.headers=a=[]}}}}),n("moxie/runtime/html5/image/ExifParser",["moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader","moxie/core/Exceptions"],function(e,n,i){function r(o){function s(n,r){var o,s,a,l,h,d,f,p,m=this,g=[],v={},y={1:"BYTE",7:"UNDEFINED",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",9:"SLONG",10:"SRATIONAL"},b={BYTE:1,UNDEFINED:1,ASCII:1,SHORT:2,LONG:4,RATIONAL:8,SLONG:4,SRATIONAL:8};for(o=m.SHORT(n),s=0;o>s;s++)if(g=[],f=n+2+12*s,(a=r[m.SHORT(f)])!==t){if(l=y[m.SHORT(f+=2)],h=m.LONG(f+=2),!(d=b[l]))throw new i.ImageError(i.ImageError.INVALID_META_ERR);if(f+=4,d*h>4&&(f=m.LONG(f)+u.tiffHeader),f+d*h>=this.length())throw new i.ImageError(i.ImageError.INVALID_META_ERR);"ASCII"!==l?(g=m.asArray(l,f,h),p=1==h?g[0]:g,v[a]=c.hasOwnProperty(a)&&"object"!=typeof p?c[a][p]:p):v[a]=e.trim(m.STRING(f,h).replace(/\0$/,""))}return v}var a,l,c,u,h,d;if(n.call(this,o),l={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"},thumb:{513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength"}},c={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},h=(u={tiffHeader:10}).tiffHeader,a={clear:this.clear},e.extend(this,{read:function(){try{return r.prototype.read.apply(this,arguments)}catch(e){throw new i.ImageError(i.ImageError.INVALID_META_ERR)}},write:function(){try{return r.prototype.write.apply(this,arguments)}catch(e){throw new i.ImageError(i.ImageError.INVALID_META_ERR)}},UNDEFINED:function(){return this.BYTE.apply(this,arguments)},RATIONAL:function(e){return this.LONG(e)/this.LONG(e+4)},SRATIONAL:function(e){return this.SLONG(e)/this.SLONG(e+4)},ASCII:function(e){return this.CHAR(e)},TIFF:function(){return d||null},EXIF:function(){var t=null;if(u.exifIFD){try{t=s.call(this,u.exifIFD,l.exif)}catch(e){return null}if(t.ExifVersion&&"array"===e.typeOf(t.ExifVersion)){for(var n=0,i="";n<t.ExifVersion.length;n++)i+=String.fromCharCode(t.ExifVersion[n]);t.ExifVersion=i}}return t},GPS:function(){var t=null;if(u.gpsIFD){try{t=s.call(this,u.gpsIFD,l.gps)}catch(e){return null}t.GPSVersionID&&"array"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join("."))}return t},thumb:function(){if(u.IFD1)try{var e=s.call(this,u.IFD1,l.thumb);if("JPEGInterchangeFormat"in e)return this.SEGMENT(u.tiffHeader+e.JPEGInterchangeFormat,e.JPEGInterchangeFormatLength)}catch(e){}return null},setExif:function(e,t){return("PixelXDimension"===e||"PixelYDimension"===e)&&function(e,t,n){var i,r,o,s=0;if("string"==typeof t){var a=l[e.toLowerCase()];for(var c in a)if(a[c]===t){t=c;break}}i=u[e.toLowerCase()+"IFD"],r=this.SHORT(i);for(var h=0;r>h;h++)if(o=i+12*h+2,this.SHORT(o)==t){s=o+8;break}if(!s)return!1;try{this.write(s,n,4)}catch(e){return!1}return!0}.call(this,"exif",e,t)},clear:function(){a.clear(),o=l=c=d=u=a=null}}),65505!==this.SHORT(0)||"EXIF\0"!==this.STRING(4,5).toUpperCase())throw new i.ImageError(i.ImageError.INVALID_META_ERR);if(this.littleEndian=18761==this.SHORT(h),42!==this.SHORT(h+=2))throw new i.ImageError(i.ImageError.INVALID_META_ERR);u.IFD0=u.tiffHeader+this.LONG(h+=2),"ExifIFDPointer"in(d=s.call(this,u.IFD0,l.tiff))&&(u.exifIFD=u.tiffHeader+d.ExifIFDPointer,delete d.ExifIFDPointer),"GPSInfoIFDPointer"in d&&(u.gpsIFD=u.tiffHeader+d.GPSInfoIFDPointer,delete d.GPSInfoIFDPointer),e.isEmptyObj(d)&&(d=null);var f=this.LONG(u.IFD0+12*this.SHORT(u.IFD0)+2);f&&(u.IFD1=u.tiffHeader+f)}return r.prototype=n.prototype,r}),n("moxie/runtime/html5/image/JPEG",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEGHeaders","moxie/runtime/html5/utils/BinaryReader","moxie/runtime/html5/image/ExifParser"],function(e,t,n,i,r){return function(o){function s(e){var t,n,i=0;for(e||(e=a);i<=e.length();){if((t=e.SHORT(i+=2))>=65472&&65475>=t)return i+=5,{height:e.SHORT(i),width:e.SHORT(i+=2)};n=e.SHORT(i+=2),i+=n-2}return null}var a,l,c,u;if(65496!==(a=new i(o)).SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);l=new n(o);try{c=new r(l.get("app1")[0])}catch(e){}u=s.call(this),e.extend(this,{type:"image/jpeg",size:a.length(),width:u&&u.width||0,height:u&&u.height||0,setExif:function(t,n){return!!c&&("object"===e.typeOf(t)?e.each(t,function(e,t){c.setExif(t,e)}):c.setExif(t,n),void l.set("app1",c.SEGMENT()))},writeHeaders:function(){return arguments.length?l.restore(arguments[0]):l.restore(o)},stripHeaders:function(e){return l.strip(e)},purge:function(){(function(){c&&l&&a&&(c.clear(),l.purge(),a.clear(),u=l=c=a=null)}).call(this)}}),c&&(this.meta={tiff:c.TIFF(),exif:c.EXIF(),gps:c.GPS(),thumb:function(){var e,t,n=c.thumb();return n&&(t=s(e=new i(n)),e.clear(),t)?(t.data=n,t):null}()})}}),n("moxie/runtime/html5/image/PNG",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader"],function(e,t,n){return function(i){function r(){o&&(o.clear(),i=s=o=null)}var o,s;o=new n(i),function(){var t=0,n=0,i=[35152,20039,3338,6666];for(n=0;n<i.length;n++,t+=2)if(i[n]!=o.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),s=function(){var e,t;return"IHDR"==(e=function(e){var t;return{length:t=o.LONG(e),type:o.STRING(e+=4,4),start:e+=4,CRC:o.LONG(e+t)}}.call(this,8)).type?(t=e.start,{width:o.LONG(t),height:o.LONG(t+=4)}):null}.call(this),t.extend(this,{type:"image/png",size:o.length(),width:s.width,height:s.height,purge:function(){r.call(this)}}),r.call(this)}}),n("moxie/runtime/html5/image/ImageInfo",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEG","moxie/runtime/html5/image/PNG"],function(e,t,n,i){return function(r){var o,s=[n,i];o=function(){for(var e=0;e<s.length;e++)try{return new s[e](r)}catch(e){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){r=null}}),e.extend(this,o),this.purge=function(){o.purge(),o=null}}}),n("moxie/runtime/html5/image/ResizerCanvas",[],function(){return{scale:function e(t,n,i){var r=t.width>t.height?"width":"height",o=Math.round(t[r]*n),s=!1;"nearest"!==i&&(.5>n||n>2)&&(n=.5>n?.5:2,s=!0);var a=function(e,t){var n=e.width,i=e.height,r=Math.round(n*t),o=Math.round(i*t),s=document.createElement("canvas");return s.width=r,s.height=o,s.getContext("2d").drawImage(e,0,0,n,i,0,0,r,o),e=null,s}(t,n);return s?e(a,o/a[r],i):a}}}),n("moxie/runtime/html5/image/Image",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/utils/Encode","moxie/file/Blob","moxie/file/File","moxie/runtime/html5/image/ImageInfo","moxie/runtime/html5/image/ResizerCanvas","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,n,i,r,o,s,a,l){return e.Image=function(){function e(){if(!g&&!p)throw new n.ImageError(n.DOMException.INVALID_STATE_ERR);return g||p}function c(){var t=e();return"canvas"==t.nodeName.toLowerCase()?t:((g=document.createElement("canvas")).width=t.width,g.height=t.height,g.getContext("2d").drawImage(t,0,0),g)}function u(e){return i.atob(e.substring(e.indexOf("base64,")+7))}function h(e){var t=this;(p=new Image).onerror=function(){f.call(this),t.trigger("error",n.ImageError.WRONG_FORMAT)},p.onload=function(){t.trigger("load")},p.src="data:"==e.substr(0,5)?e:function(e,t){return"data:"+(y.type||"")+";base64,"+i.btoa(e)}(e)}function d(e,n){var i=Math.PI/180,r=document.createElement("canvas"),o=r.getContext("2d"),s=e.width,a=e.height;switch(t.inArray(n,[5,6,7,8])>-1?(r.width=a,r.height=s):(r.width=s,r.height=a),n){case 2:o.translate(s,0),o.scale(-1,1);break;case 3:o.translate(s,a),o.rotate(180*i);break;case 4:o.translate(0,a),o.scale(1,-1);break;case 5:o.rotate(90*i),o.scale(1,-1);break;case 6:o.rotate(90*i),o.translate(0,-a);break;case 7:o.rotate(90*i),o.translate(s,-a),o.scale(-1,1);break;case 8:o.rotate(-90*i),o.translate(-s,0)}return o.drawImage(e,0,0,s,a),r}function f(){m&&(m.purge(),m=null),v=p=g=y=null,_=!1}var p,m,g,v,y,b=this,_=!1,x=!0;t.extend(this,{loadFromBlob:function(e){var t=this.getRuntime(),i=!(arguments.length>1)||arguments[1];if(!t.can("access_binary"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return y=e,e.isDetached()?(v=e.getSource(),void h.call(this,v)):void function(e,t){var i,r=this;return window.FileReader?((i=new FileReader).onload=function(){t.call(r,this.result)},i.onerror=function(){r.trigger("error",n.ImageError.WRONG_FORMAT)},void i.readAsDataURL(e)):t.call(this,e.getAsDataURL())}.call(this,e.getSource(),function(e){i&&(v=u(e)),h.call(this,e)})},loadFromImage:function(e,t){this.meta=e.meta,y=new o(null,{name:e.name,size:e.size,type:e.type}),h.call(this,t?v=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t,n=this.getRuntime();return!m&&v&&n.can("access_image_binary")&&(m=new s(v)),t={width:e().width||0,height:e().height||0,type:y.type||l.getFileMime(y.name),size:v&&v.length||y.size||0,name:y.name||"",meta:null},x&&(t.meta=m&&m.meta||this.meta||{},!t.meta||!t.meta.thumb||t.meta.thumb.data instanceof r||(t.meta.thumb.data=new r(null,{type:"image/jpeg",data:t.meta.thumb.data}))),t},resize:function(t,n,i){var r=document.createElement("canvas");if(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(e(),t.x,t.y,t.width,t.height,0,0,r.width,r.height),g=a.scale(r,n),!(x=i.preserveHeaders)){var o=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1;g=d(g,o)}this.width=g.width,this.height=g.height,_=!0,this.trigger("Resize")},getAsCanvas:function(){return g||(g=c()),g.id=this.uid+"_canvas",g},getAsBlob:function(e,t){return e!==this.type?(_=!0,new o(null,{name:y.name||"",type:e,data:b.getAsDataURL(e,t)})):new o(null,{name:y.name||"",type:e,data:b.getAsBinaryString(e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!_)return p.src;if(c(),"image/jpeg"!==e)return g.toDataURL("image/png");try{return g.toDataURL("image/jpeg",t/100)}catch(e){return g.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!_)return v||(v=u(b.getAsDataURL(e,t))),v;if("image/jpeg"!==e)v=u(b.getAsDataURL(e,t));else{var n;t||(t=90),c();try{n=g.toDataURL("image/jpeg",t/100)}catch(e){n=g.toDataURL("image/jpeg")}v=u(n),m&&(v=m.stripHeaders(v),x&&(m.meta&&m.meta.exif&&m.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),v=m.writeHeaders(v)),m.purge(),m=null)}return _=!1,v},destroy:function(){b=null,f.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}}),n("moxie/runtime/flash/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,n,r,o){var s="flash",a={};return o.addConstructor(s,function(l){var c,u=this;l=e.extend({swf_url:t.swf_url},l),o.call(this,l,s,{access_binary:function(e){return e&&"browser"===u.mode},access_image_binary:function(e){return e&&"browser"===u.mode},display_media:o.capTest(i("moxie/image/Image")),do_cors:o.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===u.mode},resize_image:o.capTrue,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||!e.arrayDiff(t,["","text","document"])||"browser"===u.mode},return_status_code:function(t){return"browser"===u.mode||!e.arrayDiff(t,[200,404])},select_file:o.capTrue,select_multiple:o.capTrue,send_binary_string:function(e){return e&&"browser"===u.mode},send_browser_cookies:function(e){return e&&"browser"===u.mode},send_custom_headers:function(e){return e&&"browser"===u.mode},send_multipart:o.capTrue,slice_blob:function(e){return e&&"browser"===u.mode},stream_upload:function(e){return e&&"browser"===u.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||"client"===u.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return e?"browser":"client"},access_image_binary:function(e){return e?"browser":"client"},report_upload_progress:function(e){return e?"browser":"client"},return_response_type:function(t){return e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return e?"browser":"client"},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"browser":"client"},slice_blob:function(e){return e?"browser":"client"},stream_upload:function(e){return e?"client":"browser"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?"client":"browser"}},"client"),function(){var e;try{e=(e=navigator.plugins["Shockwave Flash"]).description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(t){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}()<11.3&&(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid)},shimExec:function(e,t){var n=[].slice.call(arguments,2);return u.getShim().exec(this.uid,e,t,n)},init:function(){var n,i,s;s=this.getShimContainer(),e.extend(s.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),n='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+l.swf_url+'" ',"IE"===t.browser&&(n+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),n+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+l.swf_url+'" /><param name="flashvars" value="uid='+escape(this.uid)+"&target="+o.getGlobalEventTarget()+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',"IE"===t.browser?(i=document.createElement("div"),s.appendChild(i),i.outerHTML=n,i=s=null):s.innerHTML=n,c=setTimeout(function(){u&&!u.initialized&&u.trigger("Error",new r.RuntimeError(r.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){(function(e){var i=n.get(e);i&&"OBJECT"==i.nodeName&&("IE"===t.browser?(i.style.display="none",function t(){4==i.readyState?function(e){var t=n.get(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}(e):setTimeout(t,10)}()):i.parentNode.removeChild(i))})(u.uid),e.call(u),clearTimeout(c),l=c=e=u=null}}(this.destroy)},a)}),a}),n("moxie/runtime/flash/file/Blob",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var n={slice:function(e,n,i,r){var o=this.getRuntime();return 0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),0>i?i=Math.max(e.size+i,0):i>0&&(i=Math.min(i,e.size)),(e=o.shimExec.call(this,"Blob","slice",n,i,r||""))&&(e=new t(o.uid,e)),e}};return e.Blob=n}),n("moxie/runtime/flash/file/FileInput",["moxie/runtime/flash/Runtime","moxie/file/File","moxie/core/utils/Dom","moxie/core/utils/Basic"],function(e,t,n,i){var r={init:function(e){var r=this,o=this.getRuntime(),s=n.get(e.browse_button);s&&(s.setAttribute("tabindex",-1),s=null),this.bind("Change",function(){var e=o.shimExec.call(r,"FileInput","getFiles");r.files=[],i.each(e,function(e){r.files.push(new t(o.uid,e))})},999),this.getRuntime().shimExec.call(this,"FileInput","init",{accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return e.FileInput=r}),n("moxie/runtime/flash/file/FileReader",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var i={read:function(e,t){var i=this;return i.result="","readAsDataURL"===e&&(i.result="data:"+(t.type||"")+";base64,"),i.bind("Progress",function(t,r){r&&(i.result+=n(r,e))},999),i.getRuntime().shimExec.call(this,"FileReader","readAsBase64",t.uid)}};return e.FileReader=i}),n("moxie/runtime/flash/file/FileReaderSync",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var i={read:function(e,t){var i;return(i=this.getRuntime().shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&&(i="data:"+(t.type||"")+";base64,"+i),n(i,e,t.type)):null}};return e.FileReaderSync=i}),n("moxie/runtime/flash/runtime/Transporter",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var n={getAsBlob:function(e){var n=this.getRuntime(),i=n.shimExec.call(this,"Transporter","getAsBlob",e);return i?new t(n.uid,i):null}};return e.Transporter=n}),n("moxie/runtime/flash/xhr/XMLHttpRequest",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/file/File","moxie/file/FileReaderSync","moxie/runtime/flash/file/FileReaderSync","moxie/xhr/FormData","moxie/runtime/Transporter","moxie/runtime/flash/runtime/Transporter"],function(e,t,n,i,r,o,s,a){var l={send:function(e,i){function r(){e.transport=h.mode,h.shimExec.call(u,"XMLHttpRequest","send",e,i)}function o(e,t){h.shimExec.call(u,"XMLHttpRequest","appendBlob",e,t.uid),i=null,r()}function l(e,t){var n=new a;n.bind("TransportingComplete",function(){t(this.result)}),n.transport(e.getSource(),e.type,{ruid:h.uid})}var c,u=this,h=u.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){h.shimExec.call(u,"XMLHttpRequest","setRequestHeader",t,e.toString())}),i instanceof s)if(i.each(function(e,t){e instanceof n?c=t:h.shimExec.call(u,"XMLHttpRequest","append",t,e)}),i.hasBlob()){var d=i.getBlob();d.isDetached()?l(d,function(e){d.destroy(),o(c,e)}):o(c,d)}else i=null,r();else i instanceof n?i.isDetached()?l(i,function(e){i.destroy(),i=e.uid,r()}):(i=i.uid,r()):r()},getResponse:function(e){var n,o,s=this.getRuntime();if(o=s.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(o=new i(s.uid,o),"blob"===e)return o;try{if(n=new r,~t.inArray(e,["","text"]))return n.readAsText(o);if("json"===e&&window.JSON)return JSON.parse(n.readAsText(o))}finally{o.destroy()}}return null},abort:function(){this.getRuntime().shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return e.XMLHttpRequest=l}),n("moxie/runtime/flash/image/Image",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/runtime/Transporter","moxie/file/Blob","moxie/file/FileReaderSync"],function(e,t,n,i,r){var o={loadFromBlob:function(e){function t(e){r.shimExec.call(i,"Image","loadFromBlob",e.uid),i=r=null}var i=this,r=i.getRuntime();if(e.isDetached()){var o=new n;o.bind("TransportingComplete",function(){t(o.result.getSource())}),o.transport(e.getSource(),e.type,{ruid:r.uid})}else t(e.getSource())},loadFromImage:function(e){return this.getRuntime().shimExec.call(this,"Image","loadFromImage",e.uid)},getInfo:function(){var e=this.getRuntime(),t=e.shimExec.call(this,"Image","getInfo");return t.meta&&t.meta.thumb&&t.meta.thumb.data&&!(e.meta.thumb.data instanceof i)&&(t.meta.thumb.data=new i(e.uid,t.meta.thumb.data)),t},getAsBlob:function(e,t){var n=this.getRuntime(),r=n.shimExec.call(this,"Image","getAsBlob",e,t);return r?new i(n.uid,r):null},getAsDataURL:function(){var e=this.getRuntime().Image.getAsBlob.apply(this,arguments);return e?(new r).readAsDataURL(e):null}};return e.Image=o}),n("moxie/runtime/silverlight/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,n,r,o){var s="silverlight",a={};return o.addConstructor(s,function(l){var c,u=this;l=e.extend({xap_url:t.xap_url},l),o.call(this,l,s,{access_binary:o.capTrue,access_image_binary:o.capTrue,display_media:o.capTest(i("moxie/image/Image")),do_cors:o.capTrue,drag_and_drop:!1,report_upload_progress:o.capTrue,resize_image:o.capTrue,return_response_headers:function(e){return e&&"client"===u.mode},return_response_type:function(e){return"json"!==e||!!window.JSON},return_status_code:function(t){return"client"===u.mode||!e.arrayDiff(t,[200,404])},select_file:o.capTrue,select_multiple:o.capTrue,send_binary_string:o.capTrue,send_browser_cookies:function(e){return e&&"browser"===u.mode},send_custom_headers:function(e){return e&&"client"===u.mode},send_multipart:o.capTrue,slice_blob:o.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:o.capTrue,use_http_method:function(t){return"client"===u.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return e?"client":"browser"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"client":"browser"},use_http_method:function(t){return e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),function(e){var t,n,i,r,o,s=!1,a=0;try{try{new ActiveXObject("AgControl.AgControl").IsVersionSupported(e)&&(s=!0)}catch(c){var l=navigator.plugins["Silverlight Plug-In"];if(l){for("1.0.30226.2"===(t=l.description)&&(t="2.0.30226.2"),n=t.split(".");n.length>3;)n.pop();for(;n.length<4;)n.push(0);for(i=e.split(".");i.length>4;)i.pop();do{r=parseInt(i[a],10),o=parseInt(n[a],10),a++}while(a<i.length&&r===o);o>=r&&!isNaN(r)&&(s=!0)}}}catch(e){s=!1}return s}("2.0.31005.0")&&"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid).content.Moxie},shimExec:function(e,t){var n=[].slice.call(arguments,2);return u.getShim().exec(this.uid,e,t,n)},init:function(){this.getShimContainer().innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="'+l.xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid='+this.uid+",target="+o.getGlobalEventTarget()+'"/></object>',c=setTimeout(function(){u&&!u.initialized&&u.trigger("Error",new r.RuntimeError(r.RuntimeError.NOT_INIT_ERR))},"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(u),clearTimeout(c),l=c=e=u=null}}(this.destroy)},a)}),a}),n("moxie/runtime/silverlight/file/Blob",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/Blob"],function(e,t,n){return e.Blob=t.extend({},n)}),n("moxie/runtime/silverlight/file/FileInput",["moxie/runtime/silverlight/Runtime","moxie/file/File","moxie/core/utils/Dom","moxie/core/utils/Basic"],function(e,t,n,i){function r(e){for(var t="",n=0;n<e.length;n++)t+=(""!==t?"|":"")+e[n].title+" | *."+e[n].extensions.replace(/,/g,";*.");return t}var o={init:function(e){var o=this,s=this.getRuntime(),a=n.get(e.browse_button);a&&(a.setAttribute("tabindex",-1),a=null),this.bind("Change",function(){var e=s.shimExec.call(o,"FileInput","getFiles");o.files=[],i.each(e,function(e){o.files.push(new t(s.uid,e))})},999),s.shimExec.call(this,"FileInput","init",r(e.accept),e.multiple),this.trigger("ready")},setOption:function(e,t){"accept"==e&&(t=r(t)),this.getRuntime().shimExec.call(this,"FileInput","setOption",e,t)}};return e.FileInput=o}),n("moxie/runtime/silverlight/file/FileDrop",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Dom","moxie/core/utils/Events"],function(e,t,n){var i={init:function(){var e,i=this,r=i.getRuntime();return e=r.getShimContainer(),n.addEvent(e,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},i.uid),n.addEvent(e,"dragenter",function(e){e.preventDefault(),t.get(r.uid).dragEnter(e)&&e.stopPropagation()},i.uid),n.addEvent(e,"drop",function(e){e.preventDefault(),t.get(r.uid).dragDrop(e)&&e.stopPropagation()},i.uid),r.shimExec.call(this,"FileDrop","init")}};return e.FileDrop=i}),n("moxie/runtime/silverlight/file/FileReader",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReader"],function(e,t,n){return e.FileReader=t.extend({},n)}),n("moxie/runtime/silverlight/file/FileReaderSync",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReaderSync"],function(e,t,n){return e.FileReaderSync=t.extend({},n)}),n("moxie/runtime/silverlight/runtime/Transporter",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/runtime/Transporter"],function(e,t,n){return e.Transporter=t.extend({},n)}),n("moxie/runtime/silverlight/xhr/XMLHttpRequest",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/xhr/XMLHttpRequest","moxie/runtime/silverlight/file/FileReaderSync","moxie/runtime/silverlight/runtime/Transporter"],function(e,t,n){return e.XMLHttpRequest=t.extend({},n)}),n("moxie/runtime/silverlight/image/Image",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/runtime/flash/image/Image"],function(e,t,n,i){return e.Image=t.extend({},i,{getInfo:function(){var e=this.getRuntime(),i={meta:{}},r=e.shimExec.call(this,"Image","getInfo");return r.meta&&(t.each(["tiff","exif","gps","thumb"],function(e){var t,n,o,s,a=r.meta[e];if(a&&a.keys)for(i.meta[e]={},n=0,o=a.keys.length;o>n;n++)(s=a[t=a.keys[n]])&&(/^(\d|[1-9]\d+)$/.test(s)?s=parseInt(s,10):/^\d*\.\d+$/.test(s)&&(s=parseFloat(s)),i.meta[e][t]=s)}),i.meta&&i.meta.thumb&&i.meta.thumb.data&&!(e.meta.thumb.data instanceof n)&&(i.meta.thumb.data=new n(e.uid,i.meta.thumb.data))),i.width=parseInt(r.width,10),i.height=parseInt(r.height,10),i.size=parseInt(r.size,10),i.type=r.type,i.name=r.name,i},resize:function(e,t,n){this.getRuntime().shimExec.call(this,"Image","resize",e.x,e.y,e.width,e.height,t,n.preserveHeaders,n.resample)}})}),n("moxie/runtime/html4/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,n,r){var o="html4",s={};return n.addConstructor(o,function(t){var a=this,l=n.capTest,c=n.capTrue;n.call(this,t,o,{access_binary:l(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:l((r.can("create_canvas")||r.can("use_data_uri_over32kb"))&&i("moxie/image/Image")),do_cors:!1,drag_and_drop:!1,filter_by_extension:l(!("Chrome"===r.browser&&r.verComp(r.version,28,"<")||"IE"===r.browser&&r.verComp(r.version,10,"<")||"Safari"===r.browser&&r.verComp(r.version,7,"<")||"Firefox"===r.browser&&r.verComp(r.version,37,"<"))),resize_image:function(){return s.Image&&a.can("access_binary")&&r.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||!!~e.inArray(t,["text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return r.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return a.can("select_file")},summon_file_dialog:function(){return a.can("select_file")&&!("Firefox"===r.browser&&r.verComp(r.version,4,"<")||"Opera"===r.browser&&r.verComp(r.version,12,"<")||"IE"===r.browser&&r.verComp(r.version,10,"<"))},upload_filesize:c,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(a),e=a=null}}(this.destroy)}),e.extend(this.getShim(),s)}),s}),n("moxie/runtime/html4/file/FileInput",["moxie/runtime/html4/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,n,i,r,o,s){return e.FileInput=function(){function e(){var o,c,h,d,f,p,m=this,g=m.getRuntime();p=n.guid("uid_"),o=g.getShimContainer(),a&&(h=i.get(a+"_form"))&&(n.extend(h.style,{top:"100%"}),h.firstChild.setAttribute("tabindex",-1)),(d=document.createElement("form")).setAttribute("id",p+"_form"),d.setAttribute("method","post"),d.setAttribute("enctype","multipart/form-data"),d.setAttribute("encoding","multipart/form-data"),n.extend(d.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),(f=document.createElement("input")).setAttribute("id",p),f.setAttribute("type","file"),f.setAttribute("accept",u.join(",")),g.can("summon_file_dialog")&&f.setAttribute("tabindex",-1),n.extend(f.style,{fontSize:"999px",opacity:0}),d.appendChild(f),o.appendChild(d),n.extend(f.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===s.browser&&s.verComp(s.version,10,"<")&&n.extend(f.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),f.onchange=function(){var n;this.value&&(n=this.files?this.files[0]:{name:this.value},n=new t(g.uid,n),this.onchange=function(){},e.call(m),m.files=[n],f.setAttribute("id",n.uid),d.setAttribute("id",n.uid+"_form"),m.trigger("change"),f=d=null)},g.can("summon_file_dialog")&&(c=i.get(l.browse_button),r.removeEvent(c,"click",m.uid),r.addEvent(c,"click",function(e){f&&!f.disabled&&f.click(),e.preventDefault()},m.uid)),a=p,o=h=c=null}var a,l,c,u=[];n.extend(this,{init:function(t){var n,s=this,a=s.getRuntime();l=t,u=o.extList2mimes(t.accept,a.can("filter_by_extension")),n=a.getShimContainer(),function(){var e,o,u;e=i.get(t.browse_button),c=i.getStyle(e,"z-index")||"auto",a.can("summon_file_dialog")?("static"===i.getStyle(e,"position")&&(e.style.position="relative"),s.bind("Refresh",function(){o=parseInt(c,10)||1,i.get(l.browse_button).style.zIndex=o,this.getRuntime().getShimContainer().style.zIndex=o-1})):e.setAttribute("tabindex",-1),u=a.can("summon_file_dialog")?e:n,r.addEvent(u,"mouseover",function(){s.trigger("mouseenter")},s.uid),r.addEvent(u,"mouseout",function(){s.trigger("mouseleave")},s.uid),r.addEvent(u,"mousedown",function(){s.trigger("mousedown")},s.uid),r.addEvent(i.get(t.container),"mouseup",function(){s.trigger("mouseup")},s.uid),e=null}(),e.call(this),n=null,s.trigger({type:"ready",async:!0})},setOption:function(e,t){var n,r=this.getRuntime();"accept"==e&&(u=t.mimes||o.extList2mimes(t,r.can("filter_by_extension"))),(n=i.get(a))&&n.setAttribute("accept",u.join(","))},disable:function(e){var t;(t=i.get(a))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShim(),n=e.getShimContainer(),o=l&&i.get(l.container),s=l&&i.get(l.browse_button);o&&r.removeAllEvents(o,this.uid),s&&(r.removeAllEvents(s,this.uid),s.style.zIndex=c),n&&(r.removeAllEvents(n,this.uid),n.innerHTML=""),t.removeInstance(this.uid),a=u=l=n=o=s=t=null}})}}),n("moxie/runtime/html4/file/FileReader",["moxie/runtime/html4/Runtime","moxie/runtime/html5/file/FileReader"],function(e,t){return e.FileReader=t}),n("moxie/runtime/html4/xhr/XMLHttpRequest",["moxie/runtime/html4/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Url","moxie/core/Exceptions","moxie/core/utils/Events","moxie/file/Blob","moxie/xhr/FormData"],function(e,t,n,i,r,o,s,a){return e.XMLHttpRequest=function(){function e(e){var t,i,r,s,a=this,l=!1;if(u){if(t=u.id.replace(/_iframe$/,""),i=n.get(t+"_form")){for(s=(r=i.getElementsByTagName("input")).length;s--;)switch(r[s].getAttribute("type")){case"hidden":r[s].parentNode.removeChild(r[s]);break;case"file":l=!0}r=[],l||i.parentNode.removeChild(i),i=null}setTimeout(function(){o.removeEvent(u,"load",a.uid),u.parentNode&&u.parentNode.removeChild(u);var t=a.getRuntime().getShimContainer();t.children.length||t.parentNode.removeChild(t),t=u=null,e()},1)}}var l,c,u;t.extend(this,{send:function(h,d){var f,p,m,g,v=this,y=v.getRuntime();if(l=c=null,d instanceof a&&d.hasBlob()){if(g=d.getBlob(),f=g.uid,m=n.get(f),!(p=n.get(f+"_form")))throw new r.DOMException(r.DOMException.NOT_FOUND_ERR)}else f=t.guid("uid_"),(p=document.createElement("form")).setAttribute("id",f+"_form"),p.setAttribute("method",h.method),p.setAttribute("enctype","multipart/form-data"),p.setAttribute("encoding","multipart/form-data"),y.getShimContainer().appendChild(p);p.setAttribute("target",f+"_iframe"),d instanceof a&&d.each(function(e,n){if(e instanceof s)m&&m.setAttribute("name",n);else{var i=document.createElement("input");t.extend(i,{type:"hidden",name:n,value:e}),m?p.insertBefore(i,m):p.appendChild(i)}}),p.setAttribute("action",h.url),function(){var n=y.getShimContainer()||document.body,r=document.createElement("div");r.innerHTML='<iframe id="'+f+'_iframe" name="'+f+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',u=r.firstChild,n.appendChild(u),o.addEvent(u,"load",function(){var n;try{n=u.contentWindow.document||u.contentDocument||window.frames[u.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(n.title)?l=n.title.replace(/^(\d+).*$/,"$1"):(l=200,c=t.trim(n.body.innerHTML),v.trigger({type:"progress",loaded:c.length,total:c.length}),g&&v.trigger({type:"uploadprogress",loaded:g.size||1025,total:g.size||1025}))}catch(t){if(!i.hasSameOrigin(h.url))return void e.call(v,function(){v.trigger("error")});l=404}e.call(v,function(){v.trigger("load")})},v.uid)}(),p.submit(),v.trigger("loadstart")},getStatus:function(){return l},getResponse:function(e){if("json"===e&&"string"===t.typeOf(c)&&window.JSON)try{return JSON.parse(c.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(e){return null}return c},abort:function(){var t=this;u&&u.contentWindow&&(u.contentWindow.stop?u.contentWindow.stop():u.contentWindow.document.execCommand?u.contentWindow.document.execCommand("Stop"):u.src="about:blank"),e.call(this,function(){t.dispatchEvent("abort")})},destroy:function(){this.getRuntime().getShim().removeInstance(this.uid)}})}}),n("moxie/runtime/html4/image/Image",["moxie/runtime/html4/Runtime","moxie/runtime/html5/image/Image"],function(e,t){return e.Image=t}),function(n){for(var i=0;i<n.length;i++){for(var r=e,s=n[i],a=s.split(/[.\/]/),l=0;l<a.length-1;++l)r[a[l]]===t&&(r[a[l]]={}),r=r[a[l]];r[a[a.length-1]]=o[s]}}(["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Dom","moxie/core/EventTarget","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/file/Blob","moxie/core/I18n","moxie/core/utils/Mime","moxie/file/FileInput","moxie/file/File","moxie/file/FileDrop","moxie/file/FileReader","moxie/core/utils/Url","moxie/runtime/RuntimeTarget","moxie/xhr/FormData","moxie/xhr/XMLHttpRequest","moxie/image/Image","moxie/core/utils/Events","moxie/runtime/html5/image/ResizerCanvas"])}(this)}.apply(e,arguments),e.moxie})?r.apply(t,o):r,this||window,o=[i],void 0===(s="function"==typeof(r=function(){var e={};return function(e){!function(e,t,n){function i(e){function t(e,t,n){var r={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",urlstream_upload:"send_binary_string",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};r[e]?i[r[e]]=t:n||(i[e]=t)}var n=e.required_features,i={};return"string"==typeof n?l.each(n.split(/\s*,\s*/),function(e){t(e,!0)}):"object"==typeof n?l.each(n,function(e,n){t(n,e)}):!0===n&&(e.chunk_size&&e.chunk_size>0&&(i.slice_blob=!0),l.isEmptyObj(e.resize)&&!1!==e.multipart||(i.send_binary_string=!0),e.http_method&&(i.use_http_method=e.http_method),l.each(e,function(e,n){t(n,!!e,!0)})),i}var r=window.setTimeout,o={},s=t.core.utils,a=t.runtime.Runtime,l={VERSION:"2.3.6",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,moxie:t,mimeTypes:s.Mime.mimes,ua:s.Env,typeOf:s.Basic.typeOf,extend:s.Basic.extend,guid:s.Basic.guid,getAll:function(e){var t,n=[];"array"!==l.typeOf(e)&&(e=[e]);for(var i=e.length;i--;)(t=l.get(e[i]))&&n.push(t);return n.length?n:null},get:s.Dom.get,each:s.Basic.each,getPos:s.Dom.getPos,getSize:s.Dom.getSize,xmlEncode:function(e){var t={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"};return e?(""+e).replace(/[<>&\"\']/g,function(e){return t[e]?"&"+t[e]+";":e}):e},toArray:s.Basic.toArray,inArray:s.Basic.inArray,inSeries:s.Basic.inSeries,addI18n:t.core.I18n.addI18n,translate:t.core.I18n.translate,sprintf:s.Basic.sprintf,isEmptyObj:s.Basic.isEmptyObj,hasClass:s.Dom.hasClass,addClass:s.Dom.addClass,removeClass:s.Dom.removeClass,getStyle:s.Dom.getStyle,addEvent:s.Events.addEvent,removeEvent:s.Events.removeEvent,removeAllEvents:s.Events.removeAllEvents,cleanName:function(e){var t,n;for(n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return(e=e.replace(/\s+/g,"_")).replace(/[^a-z0-9_\-\.]+/gi,"")},buildUrl:function(e,t){var n="";return l.each(t,function(e,t){n+=(n?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),n&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===n||/\D/.test(e))return l.translate("N/A");var i=Math.pow(1024,4);return e>i?t(e/i,1)+" "+l.translate("tb"):e>(i/=1024)?t(e/i,1)+" "+l.translate("gb"):e>(i/=1024)?t(e/i,1)+" "+l.translate("mb"):e>1024?Math.round(e/1024)+" "+l.translate("kb"):e+" "+l.translate("b")},parseSize:s.Basic.parseSizeStr,predictRuntime:function(e,t){var n,i;return n=new l.Uploader(e),i=a.thatCan(n.getOption().required_features,t||e.runtimes),n.destroy(),i},addFileFilter:function(e,t){o[e]=t}};l.addFileFilter("mime_types",function(e,t,n){e.length&&!e.regexp.test(t.name)?(this.trigger("Error",{code:l.FILE_EXTENSION_ERROR,message:l.translate("File extension error."),file:t}),n(!1)):n(!0)}),l.addFileFilter("max_file_size",function(e,t,n){e=l.parseSize(e),void 0!==t.size&&e&&t.size>e?(this.trigger("Error",{code:l.FILE_SIZE_ERROR,message:l.translate("File size error."),file:t}),n(!1)):n(!0)}),l.addFileFilter("prevent_duplicates",function(e,t,n){if(e)for(var i=this.files.length;i--;)if(t.name===this.files[i].name&&t.size===this.files[i].size)return this.trigger("Error",{code:l.FILE_DUPLICATE_ERROR,message:l.translate("Duplicate file error."),file:t}),void n(!1);n(!0)}),l.addFileFilter("prevent_empty",function(e,t,i){e&&!t.size&&t.size!==n?(this.trigger("Error",{code:l.FILE_SIZE_ERROR,message:l.translate("File size error."),file:t}),i(!1)):i(!0)}),l.Uploader=function(e){function s(){var e,t,n=0;if(this.state==l.STARTED){for(t=0;t<A.length;t++)e||A[t].status!=l.QUEUED?n++:(e=A[t],this.trigger("BeforeUpload",e)&&(e.status=l.UPLOADING,this.trigger("UploadFile",e)));n==A.length&&(this.state!==l.STOPPED&&(this.state=l.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",A))}}function c(e){e.percent=e.size>0?Math.ceil(e.loaded/e.size*100):100,u()}function u(){var e,t,i,r=0;for(k.reset(),e=0;e<A.length;e++)(t=A[e]).size!==n?(k.size+=t.origSize,i=t.loaded*t.origSize/t.size,(!t.completeTimestamp||t.completeTimestamp>C)&&(r+=i),k.loaded+=i):k.size=n,t.status==l.DONE?k.uploaded++:t.status==l.FAILED?k.failed++:k.queued++;k.size===n?k.percent=A.length>0?Math.ceil(k.uploaded/A.length*100):0:(k.bytesPerSec=Math.ceil(r/((+new Date-C||1)/1e3)),k.percent=k.size>0?Math.ceil(k.loaded/k.size*100):0)}function h(){var e=L[0]||D[0];return!!e&&e.getRuntime().uid}function d(e,n){var i=this,r=0,o=[],s={runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:T,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};l.each(e.runtimes.split(/\s*,\s*/),function(t){e[t]&&(s[t]=e[t])}),e.browse_button&&l.each(e.browse_button,function(n){o.push(function(o){var c=new t.file.FileInput(l.extend({},s,{accept:e.filters.mime_types,name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:n}));c.onready=function(){var e=a.getInfo(this.ruid);l.extend(i.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),r++,L.push(this),o()},c.onchange=function(){i.addFile(this.files)},c.bind("mouseenter mouseleave mousedown mouseup",function(t){I||(e.browse_button_hover&&("mouseenter"===t.type?l.addClass(n,e.browse_button_hover):"mouseleave"===t.type&&l.removeClass(n,e.browse_button_hover)),e.browse_button_active&&("mousedown"===t.type?l.addClass(n,e.browse_button_active):"mouseup"===t.type&&l.removeClass(n,e.browse_button_active)))}),c.bind("mousedown",function(){i.trigger("Browse")}),c.bind("error runtimeerror",function(){c=null,o()}),c.init()})}),e.drop_element&&l.each(e.drop_element,function(e){o.push(function(n){var o=new t.file.FileDrop(l.extend({},s,{drop_zone:e}));o.onready=function(){var e=a.getInfo(this.ruid);l.extend(i.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),dragdrop:e.can("drag_and_drop")}),r++,D.push(this),n()},o.ondrop=function(){i.addFile(this.files)},o.bind("error runtimeerror",function(){o=null,n()}),o.init()})}),l.inSeries(o,function(){"function"==typeof n&&n(r)})}function f(e,i,r,o){var s=new t.image.Image;try{s.onload=function(){i.width>this.width&&i.height>this.height&&i.quality===n&&i.preserve_headers&&!i.crop?(this.destroy(),o(e)):s.downsize(i.width,i.height,i.crop,i.preserve_headers)},s.onresize=function(){var t=this.getAsBlob(e.type,i.quality);this.destroy(),o(t)},s.bind("error runtimeerror",function(){this.destroy(),o(e)}),s.load(e,r)}catch(t){o(e)}}function p(e,n,r){function o(e,n,i){var r=S[e];switch(e){case"max_file_size":"max_file_size"===e&&(S.max_file_size=S.filters.max_file_size=n);break;case"chunk_size":(n=l.parseSize(n))&&(S[e]=n,S.send_file_name=!0);break;case"multipart":S[e]=n,n||(S.send_file_name=!0);break;case"http_method":S[e]="PUT"===n.toUpperCase()?"PUT":"POST";break;case"unique_names":S[e]=n,n&&(S.send_file_name=!0);break;case"filters":"array"===l.typeOf(n)&&(n={mime_types:n}),i?l.extend(S.filters,n):S.filters=n,n.mime_types&&("string"===l.typeOf(n.mime_types)&&(n.mime_types=t.core.utils.Mime.mimes2extList(n.mime_types)),n.mime_types.regexp=function(e){var t=[];return l.each(e,function(e){l.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?t.push("\\.*"):t.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+t.join("|")+")$","i")}(n.mime_types),S.filters.mime_types=n.mime_types);break;case"resize":S.resize=!!n&&l.extend({preserve_headers:!0,crop:!1},n);break;case"prevent_duplicates":S.prevent_duplicates=S.filters.prevent_duplicates=!!n;break;case"container":case"browse_button":case"drop_element":n="container"===e?l.get(n):l.getAll(n);case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":S[e]=n,i||(c=!0);break;default:S[e]=n}i||s.trigger("OptionChanged",e,n,r)}var s=this,c=!1;"object"==typeof e?l.each(e,function(e,t){o(t,e,r)}):o(e,n,r),r?(S.required_features=i(l.extend({},S)),T=i(l.extend({},S,{required_features:!0}))):c&&(s.trigger("Destroy"),d.call(s,S,function(e){e?(s.runtime=a.getInfo(h()).type,s.trigger("Init",{runtime:s.runtime}),s.trigger("PostInit")):s.trigger("Error",{code:l.INIT_ERROR,message:l.translate("Init error.")})}))}function m(e,t){if(e.settings.unique_names){var n=t.name.match(/\.([^.]+)$/),i="part";n&&(i=n[1]),t.target_name=t.id+"."+i}}function g(e,n){function i(){h-- >0?r(o,1e3):(n.loaded=p,e.trigger("Error",{code:l.HTTP_ERROR,message:l.translate("HTTP Error."),file:n,response:E.responseText,status:E.status,responseHeaders:E.getAllResponseHeaders()}))}function o(){var t,i,r={};n.status===l.UPLOADING&&e.state!==l.STOPPED&&(e.settings.send_file_name&&(r.name=n.target_name||n.name),u&&d.chunks&&a.size>u?(i=Math.min(u,a.size-p),t=a.slice(p,p+i)):(i=a.size,t=a),u&&d.chunks&&(e.settings.send_chunk_number?(r.chunk=Math.ceil(p/u),r.chunks=Math.ceil(a.size/u)):(r.offset=p,r.total=a.size)),e.trigger("BeforeChunkUpload",n,r,t,p)&&s(r,t,i))}function s(s,u,f){var g;(E=new t.xhr.XMLHttpRequest).upload&&(E.upload.onprogress=function(t){n.loaded=Math.min(n.size,p+t.loaded),e.trigger("UploadProgress",n)}),E.onload=function(){return E.status<200||E.status>=400?void i():(h=e.settings.max_retries,f<a.size?(u.destroy(),p+=f,n.loaded=Math.min(p,a.size),e.trigger("ChunkUploaded",n,{offset:n.loaded,total:a.size,response:E.responseText,status:E.status,responseHeaders:E.getAllResponseHeaders()}),"Android Browser"===l.ua.browser&&e.trigger("UploadProgress",n)):n.loaded=n.size,u=g=null,void(!p||p>=a.size?(n.size!=n.origSize&&(a.destroy(),a=null),e.trigger("UploadProgress",n),n.status=l.DONE,n.completeTimestamp=+new Date,e.trigger("FileUploaded",n,{response:E.responseText,status:E.status,responseHeaders:E.getAllResponseHeaders()})):r(o,1)))},E.onerror=function(){i()},E.onloadend=function(){this.destroy()},e.settings.multipart&&d.multipart?(E.open(e.settings.http_method,c,!0),l.each(e.settings.headers,function(e,t){E.setRequestHeader(t,e)}),g=new t.xhr.FormData,l.each(l.extend(s,e.settings.multipart_params),function(e,t){g.append(t,e)}),g.append(e.settings.file_data_name,u),E.send(g,m)):(c=l.buildUrl(e.settings.url,l.extend(s,e.settings.multipart_params)),E.open(e.settings.http_method,c,!0),l.each(e.settings.headers,function(e,t){E.setRequestHeader(t,e)}),E.hasRequestHeader("Content-Type")||E.setRequestHeader("Content-Type","application/octet-stream"),E.send(u,m))}var a,c=e.settings.url,u=e.settings.chunk_size,h=e.settings.max_retries,d=e.features,p=0,m={runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:T,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url};n.loaded&&(p=n.loaded=u?u*Math.floor(n.loaded/u):0),a=n.getSource(),l.isEmptyObj(e.settings.resize)||-1===l.inArray(a.type,["image/jpeg","image/png"])?o():f(a,e.settings.resize,m,function(e){a=e,n.size=e.size,o()})}function v(e,t){c(t)}function y(e){if(e.state==l.STARTED)C=+new Date;else if(e.state==l.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==l.UPLOADING&&(e.files[t].status=l.QUEUED,u())}function b(){E&&E.abort()}function _(e){u(),r(function(){s.call(e)},1)}function x(e,t){t.code===l.INIT_ERROR?e.destroy():t.code===l.HTTP_ERROR&&(t.file.status=l.FAILED,t.file.completeTimestamp=+new Date,c(t.file),e.state==l.STARTED&&(e.trigger("CancelUpload"),r(function(){s.call(e)},1)))}function w(e){e.stop(),l.each(A,function(e){e.destroy()}),A=[],L.length&&(l.each(L,function(e){e.destroy()}),L=[]),D.length&&(l.each(D,function(e){e.destroy()}),D=[]),T={},I=!1,C=E=null,k.reset()}var S,C,k,E,M=l.guid(),A=[],T={},L=[],D=[],I=!1;S={chunk_size:0,file_data_name:"file",filters:{mime_types:[],max_file_size:0,prevent_duplicates:!1,prevent_empty:!0},flash_swf_url:"js/Moxie.swf",http_method:"POST",max_retries:0,multipart:!0,multi_selection:!0,resize:!1,runtimes:a.order,send_file_name:!0,send_chunk_number:!0,silverlight_xap_url:"js/Moxie.xap"},p.call(this,e,null,!0),k=new l.QueueProgress,l.extend(this,{id:M,uid:M,state:l.STOPPED,features:{},runtime:null,files:A,settings:S,total:k,init:function(){var e,t,n=this;return"function"==typeof(e=n.getOption("preinit"))?e(n):l.each(e,function(e,t){n.bind(t,e)}),function(){this.bind("FilesAdded FilesRemoved",function(e){e.trigger("QueueChanged"),e.refresh()}),this.bind("CancelUpload",b),this.bind("BeforeUpload",m),this.bind("UploadFile",g),this.bind("UploadProgress",v),this.bind("StateChanged",y),this.bind("QueueChanged",u),this.bind("Error",x),this.bind("FileUploaded",_),this.bind("Destroy",w)}.call(n),l.each(["container","browse_button","drop_element"],function(e){return null===n.getOption(e)?(t={code:l.INIT_ERROR,message:l.sprintf(l.translate("%s specified, but cannot be found."),e)},!1):void 0}),t?n.trigger("Error",t):S.browse_button||S.drop_element?void d.call(n,S,function(e){var t=n.getOption("init");"function"==typeof t?t(n):l.each(t,function(e,t){n.bind(t,e)}),e?(n.runtime=a.getInfo(h()).type,n.trigger("Init",{runtime:n.runtime}),n.trigger("PostInit")):n.trigger("Error",{code:l.INIT_ERROR,message:l.translate("Init error.")})}):n.trigger("Error",{code:l.INIT_ERROR,message:l.translate("You must specify either browse_button or drop_element.")})},setOption:function(e,t){p.call(this,e,t,!this.runtime)},getOption:function(e){return e?S[e]:S},refresh:function(){L.length&&l.each(L,function(e){e.trigger("Refresh")}),this.trigger("Refresh")},start:function(){this.state!=l.STARTED&&(this.state=l.STARTED,this.trigger("StateChanged"),s.call(this))},stop:function(){this.state!=l.STOPPED&&(this.state=l.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){I=arguments[0]===n||arguments[0],L.length&&l.each(L,function(e){e.disable(I)}),this.trigger("DisableBrowse",I)},getFile:function(e){var t;for(t=A.length-1;t>=0;t--)if(A[t].id===e)return A[t]},addFile:function(e,n){function i(e,t){var n=[];l.each(a.settings.filters,function(t,i){o[i]&&n.push(function(n){o[i].call(a,t,e,function(e){n(!e)})})}),l.inSeries(n,t)}var s,a=this,c=[],u=[];s=h(),function e(o){var h=l.typeOf(o);if(o instanceof t.file.File){if(!o.ruid&&!o.isDetached()){if(!s)return!1;o.ruid=s,o.connectRuntime(s)}e(new l.File(o))}else o instanceof t.file.Blob?(e(o.getSource()),o.destroy()):o instanceof l.File?(n&&(o.name=n),c.push(function(e){i(o,function(t){t||(A.push(o),u.push(o),a.trigger("FileFiltered",o)),r(e,1)})})):-1!==l.inArray(h,["file","blob"])?e(new t.file.File(null,o)):"node"===h&&"filelist"===l.typeOf(o.files)?l.each(o.files,e):"array"===h&&(n=null,l.each(o,e))}(e),c.length&&l.inSeries(c,function(){u.length&&a.trigger("FilesAdded",u)})},removeFile:function(e){for(var t="string"==typeof e?e:e.id,n=A.length-1;n>=0;n--)if(A[n].id===t)return this.splice(n,1)[0]},splice:function(e,t){var i=A.splice(e===n?0:e,t===n?A.length:t),r=!1;return this.state==l.STARTED&&(l.each(i,function(e){return e.status===l.UPLOADING?(r=!0,!1):void 0}),r&&this.stop()),this.trigger("FilesRemoved",i),l.each(i,function(e){e.destroy()}),r&&this.start(),i},dispatchEvent:function(e){var t,n;if(e=e.toLowerCase(),t=this.hasEventListener(e)){t.sort(function(e,t){return t.priority-e.priority}),(n=[].slice.call(arguments)).shift(),n.unshift(this);for(var i=0;i<t.length;i++)if(!1===t[i].fn.apply(t[i].scope,n))return!1}return!0},bind:function(e,t,n,i){l.Uploader.prototype.bind.call(this,e,t,i,n)},destroy:function(){this.trigger("Destroy"),S=k=null,this.unbindAll()}})},l.Uploader.prototype=t.core.EventTarget.instance,l.File=function(){var e={};return function(t){l.extend(this,{id:l.guid(),name:t.name||t.fileName,type:t.type||"",relativePath:t.relativePath||"",size:t.fileSize||t.size,origSize:t.fileSize||t.size,loaded:0,percent:0,status:l.QUEUED,lastModifiedDate:t.lastModifiedDate||(new Date).toLocaleString(),completeTimestamp:0,getNative:function(){var e=this.getSource().getSource();return-1!==l.inArray(l.typeOf(e),["blob","file"])?e:null},getSource:function(){return e[this.id]?e[this.id]:null},destroy:function(){var t=this.getSource();t&&(t.destroy(),delete e[this.id])}}),e[this.id]=t}}(),l.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=l}(this,e)}.apply(e,arguments),e.plupload})?r.apply(t,o):r)||(e.exports=s)},function(e,t,n){"use strict";var i=n(33);t.a=i.a},function(e,t,n){"use strict";var i=n(34);const r=n.n(i).a.create({baseURL:"",timeout:2e4,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector("meta[name=csrf-token]").content}});t.a=function(e,t,n={}){return"get"===e?r.request({method:e,url:t,params:n}).then(e=>e.data):"post"===e?r.request({method:e,url:t,data:n}).then(e=>e.data):"put"===e?r.request({method:e,url:t,data:n}).then(e=>e.data):"delete"===e?r.request({method:e,url:t,params:n}).then(e=>e.data):void 0}},function(e,t,n){e.exports=n(35)},function(e,t,n){"use strict";var i=n(0),r=n(8),o=n(37),s=n(2);function a(e){var t=new o(e),n=r(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var l=a(s);l.Axios=o,l.create=function(e){return a(i.merge(s,e))},l.Cancel=n(12),l.CancelToken=n(52),l.isCancel=n(11),l.all=function(e){return Promise.all(e)},l.spread=n(53),e.exports=l,e.exports.default=l},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var i=n(2),r=n(0),o=n(47),s=n(48);function a(e){this.defaults=e,this.interceptors={request:new o,response:new o}}a.prototype.request=function(e){"string"==typeof e&&(e=r.merge({url:arguments[0]},arguments[1])),(e=r.merge(i,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},r.forEach(["delete","get","head","options"],function(e){a.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}}),r.forEach(["post","put","patch"],function(e){a.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}}),e.exports=a},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&f())}function f(){if(!u){var e=a(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";var i=n(0);e.exports=function(e,t){i.forEach(e,function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])})}},function(e,t,n){"use strict";var i=n(10);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e}},function(e,t,n){"use strict";var i=n(0);function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var s=[];i.forEach(t,function(e,t){null!==e&&void 0!==e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))}))}),o=s.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var i=n(0),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(i.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},function(e,t,n){"use strict";var i=n(0);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,r=String(e),o="",s=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.charAt(0|s)||(a="=",s%1);o+=a.charAt(63&t>>8-s%1*8)){if((n=r.charCodeAt(s+=.75))>255)throw new i;t=t<<8|n}return o}},function(e,t,n){"use strict";var i=n(0);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var i=n(0);function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";var i=n(0),r=n(49),o=n(11),s=n(2),a=n(50),l=n(51);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return c(e),t.data=r(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var i=n(0);e.exports=function(e,t,n){return i.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var i=n(12);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var i=n(1);n(55),n(56),n(57),n(16),n(18),n(59),n(60),n(61),n(17);var r=n(62),o=n(3),s=/Mac/.test(navigator.platform),a={toggleBold:g,toggleItalic:v,drawLink:T,toggleHeadingSmaller:x,toggleHeadingBigger:w,drawImage:L,toggleBlockquote:_,toggleOrderedList:M,toggleUnorderedList:E,toggleCodeBlock:b,togglePreview:O,toggleStrikethrough:y,toggleHeading1:S,toggleHeading2:C,toggleHeading3:k,cleanBlock:A,drawTable:D,drawHorizontalRule:I,undo:P,redo:R,toggleSideBySide:N,toggleFullScreen:m},l={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},c=function(e){for(var t in a)if(a[t]===e)return t;return null};function u(e){return s?e.replace("Ctrl","Cmd"):e.replace("Cmd","Ctrl")}function h(e,t,n){e=e||{};var i=document.createElement("a");return t=void 0==t||t,e.title&&t&&(i.title=function(e,t,n){var i,r=e;return t&&(n[i=c(t)]&&(r+=" ("+u(n[i])+")")),r}(e.title,e.action,n),s&&(i.title=i.title.replace("Ctrl","⌘"),i.title=i.title.replace("Alt","⌥"))),i.tabIndex=-1,i.className=e.className,i}function d(){var e=document.createElement("i");return e.className="separator",e.innerHTML="|",e}function f(e,t){t=t||e.getCursor("start");var n=e.getTokenAt(t);if(!n.type)return{};for(var i,r,o=n.type.split(" "),s={},a=0;a<o.length;a++)"strong"===(i=o[a])?s.bold=!0:"variable-2"===i?(r=e.getLine(t.line),/^\s*\d+\.\s/.test(r)?s["ordered-list"]=!0:s["unordered-list"]=!0):"atom"===i?s.quote=!0:"em"===i?s.italic=!0:"quote"===i?s.quote=!0:"strikethrough"===i?s.strikethrough=!0:"comment"===i?s.code=!0:"link"===i?s.link=!0:"tag"===i?s.image=!0:i.match(/^header(\-[1-6])?$/)&&(s[i.replace("header","heading")]=!0);return s}var p="";function m(e){var t=e.codemirror;t.setOption("fullScreen",!t.getOption("fullScreen")),t.getOption("fullScreen")?(p=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=p;var n=t.getWrapperElement();/fullscreen/.test(n.previousSibling.className)?n.previousSibling.className=n.previousSibling.className.replace(/\s*fullscreen\b/,""):n.previousSibling.className+=" fullscreen";var i=e.toolbarElements.fullscreen;/active/.test(i.className)?i.className=i.className.replace(/\s*active\s*/g,""):i.className+=" active";var r=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(r.className)&&N(e)}function g(e){X(e,"bold",e.options.blockStyles.bold)}function v(e){X(e,"italic",e.options.blockStyles.italic)}function y(e){X(e,"strikethrough","~~")}function b(e){var t=e.options.blockStyles.code;function n(e){if("object"!=typeof e)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof e+": "+e;return e.styles&&e.styles[2]&&-1!==e.styles[2].indexOf("formatting-code-block")}function i(e){return e.state.base.base||e.state.base}function r(e,t,r,o,s){r=r||e.getLineHandle(t),o=o||e.getTokenAt({line:t,ch:1}),s=s||!!r.text&&e.getTokenAt({line:t,ch:r.text.length-1});var a=o.type?o.type.split(" "):[];return s&&i(s).indentedCode?"indented":-1!==a.indexOf("comment")&&(i(o).fencedChars||i(s).fencedChars||n(r)?"fenced":"single")}var o,s,a,l=e.codemirror,c=l.getCursor("start"),u=l.getCursor("end"),h=l.getTokenAt({line:c.line,ch:c.ch||1}),d=l.getLineHandle(c.line),f=r(l,c.line,d,h);if("single"===f){var p=d.text.slice(0,c.ch).replace("`",""),m=d.text.slice(c.ch).replace("`","");l.replaceRange(p+m,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),c.ch--,c!==u&&u.ch--,l.setSelection(c,u),l.focus()}else if("fenced"===f)if(c.line!==u.line||c.ch!==u.ch){for(o=c.line;o>=0&&!n(d=l.getLineHandle(o));o--);var g,v,y,b,_=i(l.getTokenAt({line:o,ch:1})).fencedChars;n(l.getLineHandle(c.line))?(g="",v=c.line):n(l.getLineHandle(c.line-1))?(g="",v=c.line-1):(g=_+"\n",v=c.line),n(l.getLineHandle(u.line))?(y="",b=u.line,0===u.ch&&(b+=1)):0!==u.ch&&n(l.getLineHandle(u.line+1))?(y="",b=u.line+1):(y=_+"\n",b=u.line+1),0===u.ch&&(b-=1),l.operation(function(){l.replaceRange(y,{line:b,ch:0},{line:b+(y?0:1),ch:0}),l.replaceRange(g,{line:v,ch:0},{line:v+(g?0:1),ch:0})}),l.setSelection({line:v+(g?1:0),ch:0},{line:b+(g?1:-1),ch:0}),l.focus()}else{var x=c.line;if(n(l.getLineHandle(c.line))&&("fenced"===r(l,c.line+1)?(o=c.line,x=c.line+1):(s=c.line,x=c.line-1)),void 0===o)for(o=x;o>=0&&!n(d=l.getLineHandle(o));o--);if(void 0===s)for(a=l.lineCount(),s=x;s<a&&!n(d=l.getLineHandle(s));s++);l.operation(function(){l.replaceRange("",{line:o,ch:0},{line:o+1,ch:0}),l.replaceRange("",{line:s-1,ch:0},{line:s,ch:0})}),l.focus()}else if("indented"===f){if(c.line!==u.line||c.ch!==u.ch)o=c.line,s=u.line,0===u.ch&&s--;else{for(o=c.line;o>=0;o--)if(!(d=l.getLineHandle(o)).text.match(/^\s*$/)&&"indented"!==r(l,o,d)){o+=1;break}for(a=l.lineCount(),s=c.line;s<a;s++)if(!(d=l.getLineHandle(s)).text.match(/^\s*$/)&&"indented"!==r(l,s,d)){s-=1;break}}var w=l.getLineHandle(s+1),S=w&&l.getTokenAt({line:s+1,ch:w.text.length-1});S&&i(S).indentedCode&&l.replaceRange("\n",{line:s+1,ch:0});for(var C=o;C<=s;C++)l.indentLine(C,"subtract");l.focus()}else{var k=c.line===u.line&&c.ch===u.ch&&0===c.ch,E=c.line!==u.line;k||E?function(e,t,n,i){var r=t.line+1,o=n.line+1,s=t.line!==n.line,a=i+"\n",l="\n"+i;s&&o++,s&&0===n.ch&&(l=i+"\n",o--),F(e,!1,[a,l]),e.setSelection({line:r,ch:0},{line:o,ch:0})}(l,c,u,t):F(l,!1,["`","`"])}}function _(e){B(e.codemirror,"quote")}function x(e){j(e.codemirror,"smaller")}function w(e){j(e.codemirror,"bigger")}function S(e){j(e.codemirror,void 0,1)}function C(e){j(e.codemirror,void 0,2)}function k(e){j(e.codemirror,void 0,3)}function E(e){B(e.codemirror,"unordered-list")}function M(e){B(e.codemirror,"ordered-list")}function A(e){!function(e){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className))for(var t,n=e.getCursor("start"),i=e.getCursor("end"),r=n.line;r<=i.line;r++)t=(t=e.getLine(r)).replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),e.replaceRange(t,{line:r,ch:0},{line:r,ch:99999999999999})}(e.codemirror)}function T(e){var t=e.codemirror,n=f(t),i=e.options,r="http://";if(i.promptURLs&&!(r=prompt(i.promptTexts.link)))return!1;F(t,n.link,i.insertTexts.link,r)}function L(e){var t=e.codemirror,n=f(t),i=e.options,r="http://";if(i.promptURLs&&!(r=prompt(i.promptTexts.image)))return!1;F(t,n.image,i.insertTexts.image,r)}function D(e){var t=e.codemirror,n=f(t),i=e.options;F(t,n.table,i.insertTexts.table)}function I(e){var t=e.codemirror,n=f(t),i=e.options;F(t,n.image,i.insertTexts.horizontalRule)}function P(e){var t=e.codemirror;t.undo(),t.focus()}function R(e){var t=e.codemirror;t.redo(),t.focus()}function N(e){var t=e.codemirror,n=t.getWrapperElement(),i=n.nextSibling,r=e.toolbarElements["side-by-side"],o=!1;/editor-preview-active-side/.test(i.className)?(i.className=i.className.replace(/\s*editor-preview-active-side\s*/g,""),r.className=r.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){t.getOption("fullScreen")||m(e),i.className+=" editor-preview-active-side"},1),r.className+=" active",n.className+=" CodeMirror-sided",o=!0);var s=n.lastChild;if(/editor-preview-active/.test(s.className)){s.className=s.className.replace(/\s*editor-preview-active\s*/g,"");var a=e.toolbarElements.preview,l=n.previousSibling;a.className=a.className.replace(/\s*active\s*/g,""),l.className=l.className.replace(/\s*disabled-for-preview*/g,"")}if(t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=function(){i.innerHTML=e.options.previewRender(e.value(),i)}),o){t.sideBySideRenderingFunction();let n=null,i=!1,r=!1;t.on("change",()=>{const o=(new Date).getTime();i=!0,r=!1,clearTimeout(n),o-e.cacheTimeStamp>=1e3?(t.sideBySideRenderingFunction(),r=!0,i=!1,e.cacheTimeStamp=(new Date).getTime()):i&&!r&&(n=setTimeout(()=>{clearTimeout(n),r||t.sideBySideRenderingFunction(),this.cacheTimeStamp=(new Date).getTime()},1e3))})}else t.off("update",t.sideBySideRenderingFunction);t.refresh()}function O(e){var t=e.codemirror,n=t.getWrapperElement(),i=n.previousSibling,r=!!e.options.toolbar&&e.toolbarElements.preview,o=n.lastChild;o&&/editor-preview/.test(o.className)||((o=document.createElement("div")).className="editor-preview",n.appendChild(o)),/editor-preview-active/.test(o.className)?(o.className=o.className.replace(/\s*editor-preview-active\s*/g,""),r&&(r.className=r.className.replace(/\s*active\s*/g,""),i.className=i.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){o.className+=" editor-preview-active"},1),r&&(r.className+=" active",i.className+=" disabled-for-preview")),o.innerHTML=e.options.previewRender(e.value(),o);var s=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(s.className)&&N(e)}function F(e,t,n,i){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){var r,o=n[0],s=n[1],a=e.getCursor("start"),l=e.getCursor("end");i&&(s=s.replace("#url#",i)),t?(o=(r=e.getLine(a.line)).slice(0,a.ch),s=r.slice(a.ch),e.replaceRange(o+s,{line:a.line,ch:0})):(r=e.getSelection(),e.replaceSelection(o+r+s),a.ch+=o.length,a!==l&&(l.ch+=o.length)),e.setSelection(a,l),e.focus()}}function j(e,t,n){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var i=e.getCursor("start"),r=e.getCursor("end"),o=i.line;o<=r.line;o++)!function(i){var r=e.getLine(i),o=r.search(/[^#]/);r=void 0!==t?o<=0?"bigger"==t?"###### "+r:"# "+r:6==o&&"smaller"==t?r.substr(7):1==o&&"bigger"==t?r.substr(2):"bigger"==t?r.substr(1):"#"+r:1==n?o<=0?"# "+r:o==n?r.substr(o+1):"# "+r.substr(o+1):2==n?o<=0?"## "+r:o==n?r.substr(o+1):"## "+r.substr(o+1):o<=0?"### "+r:o==n?r.substr(o+1):"### "+r.substr(o+1),e.replaceRange(r,{line:i,ch:0},{line:i,ch:99999999999999})}(o);e.focus()}}function B(e,t){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var n=f(e),i=e.getCursor("start"),r=e.getCursor("end"),o={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},s={quote:"> ","unordered-list":"* ","ordered-list":"1. "},a=i.line;a<=r.line;a++)!function(i){var r=e.getLine(i);r=n[t]?r.replace(o[t],"$1"):s[t]+r,e.replaceRange(r,{line:i,ch:0},{line:i,ch:99999999999999})}(a);e.focus()}}function X(e,t,n,i){if(!/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)){i=void 0===i?n:i;var r,o=e.codemirror,s=f(o),a=n,l=i,c=o.getCursor("start"),u=o.getCursor("end");s[t]?(a=(r=o.getLine(c.line)).slice(0,c.ch),l=r.slice(c.ch),"bold"==t?(a=a.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),l=l.replace(/(\*\*|__)/,"")):"italic"==t?(a=a.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),l=l.replace(/(\*|_)/,"")):"strikethrough"==t&&(a=a.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),l=l.replace(/(\*\*|~~)/,"")),o.replaceRange(a+l,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),"bold"==t||"strikethrough"==t?(c.ch-=2,c!==u&&(u.ch-=2)):"italic"==t&&(c.ch-=1,c!==u&&(u.ch-=1))):(r=o.getSelection(),"bold"==t?r=(r=r.split("**").join("")).split("__").join(""):"italic"==t?r=(r=r.split("*").join("")).split("_").join(""):"strikethrough"==t&&(r=r.split("~~").join("")),o.replaceSelection(a+r+l),c.ch+=n.length,u.ch=c.ch+r.length),o.setSelection(c,u),o.focus()}}function z(e,t){for(var n in t)t.hasOwnProperty(n)&&(t[n]instanceof Array?e[n]=t[n].concat(e[n]instanceof Array?e[n]:[]):null!==t[n]&&"object"==typeof t[n]&&t[n].constructor===Object?e[n]=z(e[n]||{},t[n]):e[n]=t[n]);return e}function H(e){for(var t=1;t<arguments.length;t++)e=z(e,arguments[t]);return e}function U(e){var t=e.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),n=0;if(null===t)return n;for(var i=0;i<t.length;i++)t[i].charCodeAt(0)>=19968?n+=t[i].length:n+=1;return n}var K={bold:{name:"bold",action:g,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:v,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:y,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:x,className:"fa fa-header",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:x,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:w,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:S,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:C,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:k,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:b,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:_,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:E,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:M,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:A,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:T,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:L,className:"fa fa-picture-o",title:"Insert Image",default:!0},table:{name:"table",action:D,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:I,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:O,className:"fa fa-eye no-disable",title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:N,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:m,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:P,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:R,className:"fa fa-repeat no-disable",title:"Redo"}},W={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},G={link:"URL for the link:",image:"URL of the image:"},Y={bold:"**",code:"```",italic:"*"};function q(e){(e=e||{}).parent=this;var t=!0;if(!1===e.autoDownloadFontAwesome&&(t=!1),!0!==e.autoDownloadFontAwesome)for(var n=document.styleSheets,i=0;i<n.length;i++)n[i].href&&n[i].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(t=!1);if(t){var r=document.createElement("link");r.rel="stylesheet",r.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(r)}if(e.element)this.element=e.element;else if(null===e.element)return;if(void 0===e.toolbar)for(var o in e.toolbar=[],K)K.hasOwnProperty(o)&&(-1!=o.indexOf("separator-")&&e.toolbar.push("|"),(!0===K[o].default||e.showIcons&&e.showIcons.constructor===Array&&-1!=e.showIcons.indexOf(o))&&e.toolbar.push(o));e.hasOwnProperty("status")||(e.status=["autosave","lines","words","cursor"]),e.previewRender||(e.previewRender=function(e){return this.parent.markdown(e)}),e.parsingConfig=H({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=H({},W,e.insertTexts||{}),e.promptTexts=G,e.blockStyles=H({},Y,e.blockStyles||{}),e.shortcuts=H({},l,e.shortcuts||{}),void 0!=e.autosave&&void 0!=e.autosave.unique_id&&""!=e.autosave.unique_id&&(e.autosave.uniqueId=e.autosave.unique_id),this.options=e,this.render(),!e.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(e.initialValue)}function V(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(e){return!1}return!0}q.prototype.markdown=function(e){if(o){var t={};return this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?t.breaks=!1:t.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting&&window.hljs&&(t.highlight=function(e){return window.hljs.highlightAuto(e).value}),o.setOptions(t),o(e)}},q.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==e){this.element=e;var t,n,o=this.options,s=this,l={};for(var c in o.shortcuts)null!==o.shortcuts[c]&&null!==a[c]&&function(e){l[u(o.shortcuts[e])]=function(){a[e](s)}}(c);if(l.Enter="newlineAndIndentContinueMarkdownList",l.Tab="tabAndIndentMarkdownList",l["Shift-Tab"]="shiftTabAndUnindentMarkdownList",l.Esc=function(e){e.getOption("fullScreen")&&m(s)},document.addEventListener("keydown",function(e){27==(e=e||window.event).keyCode&&s.codemirror.getOption("fullScreen")&&m(s)},!1),!1!==o.spellChecker?(t="spell-checker",(n=o.parsingConfig).name="gfm",n.gitHubSpice=!1,r({codeMirrorInstance:i})):((t=o.parsingConfig).name="gfm",t.gitHubSpice=!1),this.codemirror=i.fromTextArea(e,{mode:t,backdrop:n,theme:"paper",tabSize:void 0!=o.tabSize?o.tabSize:2,indentUnit:void 0!=o.tabSize?o.tabSize:2,indentWithTabs:!1!==o.indentWithTabs,lineNumbers:!1,autofocus:!0===o.autofocus,extraKeys:l,lineWrapping:!1!==o.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:o.placeholder||e.getAttribute("placeholder")||"",styleSelectedText:void 0==o.styleSelectedText||o.styleSelectedText}),this.cacheTimeStamp=(new Date).getTime(),!0===o.forceSync){var h=this.codemirror;h.on("change",function(){h.save()})}this.gui={},!1!==o.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==o.status&&(this.gui.statusbar=this.createStatusbar()),void 0!=o.autosave&&!0===o.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var d=this.codemirror;setTimeout(function(){d.refresh()}.bind(d),0)}},q.prototype.autosave=function(){if(V()){var e=this;if(void 0==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return;null!=e.element.form&&void 0!=e.element.form&&e.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+e.options.autosave.uniqueId)}),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,e.value());var t=document.getElementById("autosaved");if(null!=t&&void 0!=t&&""!=t){var n=new Date,i=n.getHours(),r=n.getMinutes(),o="am",s=i;s>=12&&(s=i-12,o="pm"),0==s&&(s=12),r=r<10?"0"+r:r,t.innerHTML="Autosaved: "+s+":"+r+" "+o}this.autosaveTimeoutId=setTimeout(function(){e.autosave()},this.options.autosave.delay||1e4)}},q.prototype.clearAutosavedValue=function(){if(V()){if(void 0==this.options.autosave||void 0==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return;localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}},q.prototype.createSideBySide=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling;n&&/editor-preview-side/.test(n.className)||((n=document.createElement("div")).className="editor-preview-side",t.parentNode.insertBefore(n,t.nextSibling));var i=!1,r=!1;return e.on("scroll",function(e){if(i)i=!1;else{r=!0;var t=e.getScrollInfo().height-e.getScrollInfo().clientHeight,o=parseFloat(e.getScrollInfo().top)/t,s=(n.scrollHeight-n.clientHeight)*o;n.scrollTop=s}}),n.onscroll=function(){if(r)r=!1;else{i=!0;var t=n.scrollHeight-n.clientHeight,o=parseFloat(n.scrollTop)/t,s=(e.getScrollInfo().height-e.getScrollInfo().clientHeight)*o;e.scrollTo(0,s)}},n},q.prototype.createToolbar=function(e){if((e=e||this.options.toolbar)&&0!==e.length){var t;for(t=0;t<e.length;t++)void 0!=K[e[t]]&&(e[t]=K[e[t]]);var n=document.createElement("div");n.className="editor-toolbar";var i,r,o=this,s={};for(o.toolbar=e,t=0;t<e.length;t++)if(("guide"!=e[t].name||!1!==o.options.toolbarGuideIcon)&&!(o.options.hideIcons&&-1!=o.options.hideIcons.indexOf(e[t].name)||("fullscreen"==e[t].name||"side-by-side"==e[t].name)&&(i=void 0,r=void 0,r=!1,i=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(r=!0),r))){if("|"===e[t]){for(var a=!1,l=t+1;l<e.length;l++)"|"===e[l]||o.options.hideIcons&&-1!=o.options.hideIcons.indexOf(e[l].name)||(a=!0);if(!a)continue}!function(e){var t;t="|"===e?d():h(e,o.options.toolbarTips,o.options.shortcuts),e.action&&("function"==typeof e.action?t.onclick=function(t){t.preventDefault(),e.action(o)}:"string"==typeof e.action&&(t.href=e.action,t.target="_blank")),s[e.name||e]=t,n.appendChild(t)}(e[t])}o.toolbarElements=s;var c=this.codemirror;c.on("cursorActivity",function(){var e=f(c);for(var t in s)!function(t){var n=s[t];e[t]?n.className+=" active":"fullscreen"!=t&&"side-by-side"!=t&&(n.className=n.className.replace(/\s*active\s*/g,""))}(t)});var u=c.getWrapperElement();return u.parentNode.insertBefore(n,u),n}},q.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,n=this.codemirror;if(e&&0!==e.length){var i,r,o,s=[];for(i=0;i<e.length;i++)if(r=void 0,o=void 0,"object"==typeof e[i])s.push({className:e[i].className,defaultValue:e[i].defaultValue,onUpdate:e[i].onUpdate});else{var a=e[i];"words"===a?(o=function(e){e.innerHTML=U(n.getValue())},r=function(e){e.innerHTML=U(n.getValue())}):"lines"===a?(o=function(e){e.innerHTML=n.lineCount()},r=function(e){e.innerHTML=n.lineCount()}):"cursor"===a?(o=function(e){e.innerHTML="0:0"},r=function(e){var t=n.getCursor();e.innerHTML=t.line+":"+t.ch}):"autosave"===a&&(o=function(e){void 0!=t.autosave&&!0===t.autosave.enabled&&e.setAttribute("id","autosaved")}),s.push({className:a,defaultValue:o,onUpdate:r})}var l=document.createElement("div");for(l.className="editor-statusbar",i=0;i<s.length;i++){var c=s[i],u=document.createElement("span");u.className=c.className,"function"==typeof c.defaultValue&&c.defaultValue(u),"function"==typeof c.onUpdate&&this.codemirror.on("update",function(e,t){return function(){t.onUpdate(e)}}(u,c)),l.appendChild(u)}var h=this.codemirror.getWrapperElement();return h.parentNode.insertBefore(l,h.nextSibling),l}},q.prototype.value=function(e){return void 0===e?this.codemirror.getValue():(this.codemirror.getDoc().setValue(e),this)},q.toggleBold=g,q.toggleItalic=v,q.toggleStrikethrough=y,q.toggleBlockquote=_,q.toggleHeadingSmaller=x,q.toggleHeadingBigger=w,q.toggleHeading1=S,q.toggleHeading2=C,q.toggleHeading3=k,q.toggleCodeBlock=b,q.toggleUnorderedList=E,q.toggleOrderedList=M,q.cleanBlock=A,q.drawLink=T,q.drawImage=L,q.drawTable=D,q.drawHorizontalRule=I,q.undo=P,q.redo=R,q.togglePreview=O,q.toggleSideBySide=N,q.toggleFullScreen=m,q.prototype.toggleBold=function(){g(this)},q.prototype.toggleItalic=function(){v(this)},q.prototype.toggleStrikethrough=function(){y(this)},q.prototype.toggleBlockquote=function(){_(this)},q.prototype.toggleHeadingSmaller=function(){x(this)},q.prototype.toggleHeadingBigger=function(){w(this)},q.prototype.toggleHeading1=function(){S(this)},q.prototype.toggleHeading2=function(){C(this)},q.prototype.toggleHeading3=function(){k(this)},q.prototype.toggleCodeBlock=function(){b(this)},q.prototype.toggleUnorderedList=function(){E(this)},q.prototype.toggleOrderedList=function(){M(this)},q.prototype.cleanBlock=function(){A(this)},q.prototype.drawLink=function(){T(this)},q.prototype.drawImage=function(){L(this)},q.prototype.drawTable=function(){D(this)},q.prototype.drawHorizontalRule=function(){I(this)},q.prototype.undo=function(){P(this)},q.prototype.redo=function(){R(this)},q.prototype.togglePreview=function(){O(this)},q.prototype.toggleSideBySide=function(){N(this)},q.prototype.toggleFullScreen=function(){m(this)},q.prototype.isPreviewActive=function(){var e=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(e.className)},q.prototype.isSideBySideActive=function(){var e=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(e.className)},q.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},q.prototype.getState=function(){return f(this.codemirror)},q.prototype.toTextArea=function(){var e=this.codemirror,t=e.getWrapperElement();t.parentNode&&(this.gui.toolbar&&t.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&t.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&t.parentNode.removeChild(this.gui.sideBySide)),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},e.exports=q},function(e,t,n){!function(e){"use strict";var t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,i=/[*+-]\s/;function r(e,n){var i=n.line,r=0,o=0,s=t.exec(e.getLine(i)),a=s[1];do{var l=i+(r+=1),c=e.getLine(l),u=t.exec(c);if(u){var h=u[1],d=parseInt(s[3],10)+r-o,f=parseInt(u[3],10),p=f;if(a!==h||isNaN(f)){if(a.length>h.length)return;if(a.length<h.length&&1===r)return;o+=1}else d===f&&(p=f+1),d>f&&(p=d+1),e.replaceRange(c.replace(t,h+p+u[4]+u[5]),{line:l,ch:0},{line:l,ch:c.length})}}while(u)}e.commands.newlineAndIndentContinueMarkdownList=function(o){if(o.getOption("disableInput"))return e.Pass;for(var s=o.listSelections(),a=[],l=0;l<s.length;l++){var c=s[l].head,u=o.getStateAfter(c.line),h=!1!==u.list,d=0!==u.quote,f=o.getLine(c.line),p=t.exec(f),m=/^\s*$/.test(f.slice(0,c.ch));if(!s[l].empty()||!h&&!d||!p||m)return void o.execCommand("newlineAndIndent");if(n.test(f))/>\s*$/.test(f)||o.replaceRange("",{line:c.line,ch:0},{line:c.line,ch:c.ch+1}),a[l]="\n";else{var g=p[1],v=p[5],y=!(i.test(p[2])||p[2].indexOf(">")>=0),b=y?parseInt(p[3],10)+1+p[4]:p[2].replace("x"," ");a[l]="\n"+g+b+v,y&&r(o,c)}}o.replaceSelections(a)}}(n(1))},function(e,t,n){var i=n(1);i.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand("indentMore");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var n=Array(e.options.tabSize+1).join(" ");e.replaceSelection(n)}},i.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand("indentLess");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var n=Array(e.options.tabSize+1).join(" ");e.replaceSelection(n)}}},function(e,t,n){!function(e){"use strict";e.defineOption("fullScreen",!1,function(t,n,i){i==e.Init&&(i=!1),!i!=!n&&(n?function(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",e.refresh()}(t):function(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=e.state.fullScreenRestore;t.style.width=n.width,t.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),e.refresh()}(t))})}(n(1))},function(e,t,n){!function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.mime==t)return i;if(i.mimes)for(var r=0;r<i.mimes.length;r++)if(i.mimes[r]==t)return i}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.ext)for(var r=0;r<i.ext.length;r++)if(i.ext[r]==t)return i}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.file&&i.file.test(t))return i}var r=t.lastIndexOf("."),o=r>-1&&t.substring(r+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.name.toLowerCase()==t)return i;if(i.alias)for(var r=0;r<i.alias.length;r++)if(i.alias[r].toLowerCase()==t)return i}}}(n(1))},function(e,t,n){!function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function n(e){t(e);var n=e.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.style.direction=e.getOption("direction"),n.className="CodeMirror-placeholder";var i=e.getOption("placeholder");"string"==typeof i&&(i=document.createTextNode(i)),n.appendChild(i),e.display.lineSpace.insertBefore(n,e.display.lineSpace.firstChild)}function i(e){o(e)&&n(e)}function r(e){var i=e.getWrapperElement(),r=o(e);i.className=i.className.replace(" CodeMirror-empty","")+(r?" CodeMirror-empty":""),r?n(e):t(e)}function o(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",function(n,o,s){var a=s&&s!=e.Init;if(o&&!a)n.on("blur",i),n.on("change",r),n.on("swapDoc",r),r(n);else if(!o&&a){n.off("blur",i),n.off("change",r),n.off("swapDoc",r),t(n);var l=n.getWrapperElement();l.className=l.className.replace(" CodeMirror-empty","")}o&&!n.hasFocus()&&i(n)})}(n(1))},function(e,t,n){!function(e){"use strict";function t(e){e.state.markedSelection&&e.operation(function(){!function(e){if(!e.somethingSelected())return a(e);if(e.listSelections().length>1)return l(e);var t=e.getCursor("start"),n=e.getCursor("end"),r=e.state.markedSelection;if(!r.length)return s(e,t,n);var c=r[0].find(),u=r[r.length-1].find();if(!c||!u||n.line-t.line<=i||o(t,u.to)>=0||o(n,c.from)<=0)return l(e);for(;o(t,c.from)>0;)r.shift().clear(),c=r[0].find();for(o(t,c.from)<0&&(c.to.line-t.line<i?(r.shift().clear(),s(e,t,c.to,0)):s(e,t,c.from,0));o(n,u.to)<0;)r.pop().clear(),u=r[r.length-1].find();o(n,u.to)>0&&(n.line-u.from.line<i?(r.pop().clear(),s(e,u.from,n)):s(e,u.to,n))}(e)})}function n(e){e.state.markedSelection&&e.state.markedSelection.length&&e.operation(function(){a(e)})}e.defineOption("styleSelectedText",!1,function(i,r,o){var s=o&&o!=e.Init;r&&!s?(i.state.markedSelection=[],i.state.markedSelectionStyle="string"==typeof r?r:"CodeMirror-selectedtext",l(i),i.on("cursorActivity",t),i.on("change",n)):!r&&s&&(i.off("cursorActivity",t),i.off("change",n),a(i),i.state.markedSelection=i.state.markedSelectionStyle=null)});var i=8,r=e.Pos,o=e.cmpPos;function s(e,t,n,s){if(0!=o(t,n))for(var a=e.state.markedSelection,l=e.state.markedSelectionStyle,c=t.line;;){var u=c==t.line?t:r(c,0),h=c+i,d=h>=n.line,f=d?n:r(h,0),p=e.markText(u,f,{className:l});if(null==s?a.push(p):a.splice(s++,0,p),d)break;c=h}}function a(e){for(var t=e.state.markedSelection,n=0;n<t.length;++n)t[n].clear();t.length=0}function l(e){a(e);for(var t=e.listSelections(),n=0;n<t.length;n++)s(e,t[n].from(),t[n].to())}}(n(1))},function(e,t,n){!function(e){"use strict";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;e.defineMode("gfm",function(n,i){var r=0,o={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,n){if(n.combineTokens=null,n.codeBlock)return e.match(/^```+/)?(n.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(n.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),n.codeBlock=!0,null;if("`"===e.peek()){e.next();var o=e.pos;e.eatWhile("`");var s=1+e.pos-o;return n.code?s===r&&(n.code=!1):(r=s,n.code=!0),null}if(n.code)return e.next(),null;if(e.eatSpace())return n.ateSpace=!0,null;if((e.sol()||n.ateSpace)&&(n.ateSpace=!1,!1!==i.gitHubSpice)){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return n.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return n.combineTokens=!0,"link"}return e.match(t)&&"]("!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\W/.test(e.string.charAt(e.start-1)))?(n.combineTokens=!0,"link"):(e.next(),null)},blankLine:function(e){return e.code=!1,null}},s={taskLists:!0,strikethrough:!0,emoji:!0};for(var a in i)s[a]=i[a];return s.name="markdown",e.overlayMode(e.getMode(n,s),o)},"markdown"),e.defineMIME("text/x-gfm","gfm")}(n(1),n(16),n(18))},function(e,t,n){"use strict";var i=n(63);function r(e){"function"==typeof(e=e||{}).codeMirrorInstance&&"function"==typeof e.codeMirrorInstance.defineMode&&(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),e.codeMirrorInstance.defineMode("spell-checker",function(t){if(!r.aff_loading){r.aff_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),n.onload=function(){4===n.readyState&&200===n.status&&(r.aff_data=n.responseText,r.num_loaded++,2==r.num_loaded&&(r.typo=new i("en_US",r.aff_data,r.dic_data,{platform:"any"})))},n.send(null)}if(!r.dic_loading){r.dic_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),o.onload=function(){4===o.readyState&&200===o.status&&(r.dic_data=o.responseText,r.num_loaded++,2==r.num_loaded&&(r.typo=new i("en_US",r.aff_data,r.dic_data,{platform:"any"})))},o.send(null)}var s='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',a={token:function(e){var t=e.peek(),n="";if(s.includes(t))return e.next(),null;for(;null!=(t=e.peek())&&!s.includes(t);)n+=t,e.next();return r.typo&&!r.typo.check(n)?"spell-error":null}},l=e.codeMirrorInstance.getMode(t,t.backdrop||"text/plain");return e.codeMirrorInstance.overlayMode(l,a,!0)}))}r.num_loaded=0,r.aff_loading=!1,r.dic_loading=!1,r.aff_data="",r.dic_data="",r.typo,e.exports=r},function(e,t,n){(function(t,i){var r;!function(){"use strict";(r=function(e,n,i,r){r=r||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=r.flags||{},this.memoized={},this.loaded=!1;var o,s,a,l,c,u=this;function h(e,t){var n=u._readFile(e,null,r.asyncLoad);r.asyncLoad?n.then(function(e){t(e)}):t(n)}function d(e){n=e,i&&p()}function f(e){i=e,n&&p()}function p(){for(u.rules=u._parseAFF(n),u.compoundRuleCodes={},s=0,l=u.compoundRules.length;s<l;s++){var e=u.compoundRules[s];for(a=0,c=e.length;a<c;a++)u.compoundRuleCodes[e[a]]=[]}for(s in"ONLYINCOMPOUND"in u.flags&&(u.compoundRuleCodes[u.flags.ONLYINCOMPOUND]=[]),u.dictionaryTable=u._parseDIC(i),u.compoundRuleCodes)0===u.compoundRuleCodes[s].length&&delete u.compoundRuleCodes[s];for(s=0,l=u.compoundRules.length;s<l;s++){var t=u.compoundRules[s],o="";for(a=0,c=t.length;a<c;a++){var h=t[a];h in u.compoundRuleCodes?o+="("+u.compoundRuleCodes[h].join("|")+")":o+=h}u.compoundRules[s]=new RegExp(o,"i")}u.loaded=!0,r.asyncLoad&&r.loadedCallback&&r.loadedCallback(u)}return e&&(u.dictionary=e,n&&i?p():"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(o=r.dictionaryPath?r.dictionaryPath:"typo/dictionaries",n||h(chrome.extension.getURL(o+"/"+e+"/"+e+".aff"),d),i||h(chrome.extension.getURL(o+"/"+e+"/"+e+".dic"),f)):(o=r.dictionaryPath?r.dictionaryPath:t+"/dictionaries",n||h(o+"/"+e+"/"+e+".aff",d),i||h(o+"/"+e+"/"+e+".dic",f))),this}).prototype={load:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this},_readFile:function(e,t,r){if(t=t||"utf8","undefined"!=typeof XMLHttpRequest){var o,s=new XMLHttpRequest;return s.open("GET",e,r),r&&(o=new Promise(function(e,t){s.onload=function(){200===s.status?e(s.responseText):t(s.statusText)},s.onerror=function(){t(s.statusText)}})),s.overrideMimeType&&s.overrideMimeType("text/plain; charset="+t),s.send(null),r?o:s.responseText}var a=n(68);try{if(a.existsSync(e)){var l=a.statSync(e),c=a.openSync(e,"r"),u=new i(l.size);return a.readSync(c,u,0,u.length,null),u.toString(t,0,u.length)}}catch(e){return""}},_parseAFF:function(e){var t,n,i,r,o,s,a,l={},c=(e=this._removeAffixComments(e)).split("\n");for(r=0,s=c.length;r<s;r++){var u=(t=c[r]).split(/\s+/),h=u[0];if("PFX"==h||"SFX"==h){var d=u[1],f=u[2],p=[];for(o=r+1,a=r+1+(n=parseInt(u[3],10));o<a;o++){var m=(i=c[o].split(/\s+/))[2],g=i[3].split("/"),v=g[0];"0"===v&&(v="");var y=this.parseRuleCodes(g[1]),b=i[4],_={};_.add=v,y.length>0&&(_.continuationClasses=y),"."!==b&&(_.match="SFX"===h?new RegExp(b+"$"):new RegExp("^"+b)),"0"!=m&&(_.remove="SFX"===h?new RegExp(m+"$"):m),p.push(_)}l[d]={type:h,combineable:"Y"==f,entries:p},r+=n}else if("COMPOUNDRULE"===h){for(o=r+1,a=r+1+(n=parseInt(u[1],10));o<a;o++)i=(t=c[o]).split(/\s+/),this.compoundRules.push(i[1]);r+=n}else"REP"===h?3===(i=t.split(/\s+/)).length&&this.replacementTable.push([i[1],i[2]]):this.flags[h]=u[1]}return l},_removeAffixComments:function(e){return(e=(e=(e=e.replace(/^\s*#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(e){var t=(e=this._removeDicComments(e)).split("\n"),n={};function i(e,t){n.hasOwnProperty(e)||(n[e]=null),t.length>0&&(null===n[e]&&(n[e]=[]),n[e].push(t))}for(var r=1,o=t.length;r<o;r++){var s=t[r].split("/",2),a=s[0];if(s.length>1){var l=this.parseRuleCodes(s[1]);"NEEDAFFIX"in this.flags&&-1!=l.indexOf(this.flags.NEEDAFFIX)||i(a,l);for(var c=0,u=l.length;c<u;c++){var h=l[c],d=this.rules[h];if(d)for(var f=this._applyRule(a,d),p=0,m=f.length;p<m;p++){var g=f[p];if(i(g,[]),d.combineable)for(var v=c+1;v<u;v++){var y=l[v],b=this.rules[y];if(b&&b.combineable&&d.type!=b.type)for(var _=this._applyRule(g,b),x=0,w=_.length;x<w;x++)i(_[x],[])}}h in this.compoundRuleCodes&&this.compoundRuleCodes[h].push(a)}}else i(a.trim(),[])}return n},_removeDicComments:function(e){return e.replace(/^\t.*$/gm,"")},parseRuleCodes:function(e){if(!e)return[];if(!("FLAG"in this.flags))return e.split("");if("long"===this.flags.FLAG){for(var t=[],n=0,i=e.length;n<i;n+=2)t.push(e.substr(n,2));return t}return"num"===this.flags.FLAG?e.split(","):void 0},_applyRule:function(e,t){for(var n=t.entries,i=[],r=0,o=n.length;r<o;r++){var s=n[r];if(!s.match||e.match(s.match)){var a=e;if(s.remove&&(a=a.replace(s.remove,"")),"SFX"===t.type?a+=s.add:a=s.add+a,i.push(a),"continuationClasses"in s)for(var l=0,c=s.continuationClasses.length;l<c;l++){var u=this.rules[s.continuationClasses[l]];u&&(i=i.concat(this._applyRule(a,u)))}}}return i},check:function(e){if(!this.loaded)throw"Dictionary not loaded.";var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var n=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}var i=t.toLowerCase();if(i!==t){if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}return!1},checkExact:function(e){if(!this.loaded)throw"Dictionary not loaded.";var t,n,i=this.dictionaryTable[e];if(void 0===i){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(t=0,n=this.compoundRules.length;t<n;t++)if(e.match(this.compoundRules[t]))return!0}else{if(null===i)return!0;if("object"==typeof i)for(t=0,n=i.length;t<n;t++)if(!this.hasFlag(e,"ONLYINCOMPOUND",i[t]))return!0}return!1},hasFlag:function(e,t,n){if(!this.loaded)throw"Dictionary not loaded.";return!!(t in this.flags&&(void 0===n&&(n=Array.prototype.concat.apply([],this.dictionaryTable[e])),n&&-1!==n.indexOf(this.flags[t])))},alphabet:"",suggest:function(e,t){if(!this.loaded)throw"Dictionary not loaded.";if(t=t||5,this.memoized.hasOwnProperty(e)){var n=this.memoized[e].limit;if(t<=n||this.memoized[e].suggestions.length<n)return this.memoized[e].suggestions.slice(0,t)}if(this.check(e))return[];for(var i=0,r=this.replacementTable.length;i<r;i++){var o=this.replacementTable[i];if(-1!==e.indexOf(o[0])){var s=e.replace(o[0],o[1]);if(this.check(s))return[s]}}var a=this;function l(e){var t,n,i,r,o,s,l=[];for(t=0,r=e.length;t<r;t++){var c=e[t];for(n=0,o=c.length+1;n<o;n++){var u=[c.substring(0,n),c.substring(n)];if(u[1]&&l.push(u[0]+u[1].substring(1)),u[1].length>1&&u[1][1]!==u[1][0]&&l.push(u[0]+u[1][1]+u[1][0]+u[1].substring(2)),u[1])for(i=0,s=a.alphabet.length;i<s;i++)a.alphabet[i]!=u[1].substring(0,1)&&l.push(u[0]+a.alphabet[i]+u[1].substring(1));if(u[1])for(i=0,s=a.alphabet.length;i<s;i++)l.push(u[0]+a.alphabet[i]+u[1])}}return l}return a.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[e]={suggestions:function(e){var n,i,r=l([e]),o=l(r),s=function(e){for(var t=[],n=0,i=e.length;n<i;n++)a.check(e[n])&&t.push(e[n]);return t}(r.concat(o)),c={};for(n=0,i=s.length;n<i;n++)s[n]in c?c[s[n]]+=1:c[s[n]]=1;var u=[];for(n in c)c.hasOwnProperty(n)&&u.push([n,c[n]]);u.sort(function(e,t){return e[1]<t[1]?-1:1}).reverse();var h=[],d="lowercase";for(e.toUpperCase()===e?d="uppercase":e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()===e&&(d="capitalized"),n=0,i=Math.min(t,u.length);n<i;n++)"uppercase"===d?u[n][0]=u[n][0].toUpperCase():"capitalized"===d&&(u[n][0]=u[n][0].substr(0,1).toUpperCase()+u[n][0].substr(1)),a.hasFlag(u[n][0],"NOSUGGEST")||h.push(u[n][0]);return h}(e),limit:t},this.memoized[e].suggestions}}}(),e.exports=r}).call(t,"/",n(64).Buffer)},function(e,t,n){"use strict";(function(e){var i=n(65),r=n(66),o=n(67);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,n)}function c(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t),e}(e,t,n,i):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(t,n),r=(e=a(e,i)).write(t,n);return r!==i&&(e=e.slice(0,r)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?a(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(u(t),e=a(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=a(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(i)return X(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function g(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,i,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,i,r){var o,s=1,a=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){var u=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){h=!1;break}if(h)return o}return-1}function y(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function b(e,t,n,i){return H(X(t,e.length-n),e,n,i)}function _(e,t,n,i){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function x(e,t,n,i){return _(e,t,n,i)}function w(e,t,n,i){return H(z(t),e,n,i)}function S(e,t,n,i){return H(function(e,t){for(var n,i,r,o=[],s=0;s<e.length&&!((t-=2)<0);++s)i=(n=e.charCodeAt(s))>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function C(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,s,a,l,c=e[r],u=null,h=c>239?4:c>223?3:c>191?2:1;if(r+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[r+1],s=e[r+2],128==(192&o)&&128==(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[r+1],s=e[r+2],a=e[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=h}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=E));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return u(t),t<=0?a(e,t):void 0!==n?"string"==typeof i?a(e,t).fill(n,i):a(e,t).fill(n):a(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var s=e[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):function(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var o=r-i,s=n-t,a=Math.min(o,s),c=this.slice(i,r),u=e.slice(t,n),h=0;h<a;++h)if(c[h]!==u[h]){o=c[h],s=u[h];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function M(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function A(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function T(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=B(e[o]);return r}function L(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,i,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function P(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function R(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function N(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(e,t,n,i,o){return o||N(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function F(e,t,n,i,o){return o||N(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||I(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||I(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=l.isBuffer(e)?e:X(new l(e,i).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],s=0;s<i;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(t,n(15))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){for(var t,n=c(e),i=n[0],s=n[1],a=new o(3*(i+s)/4-s),l=0,u=s>0?i-4:i,h=0;h<u;h+=4)t=r[e.charCodeAt(h)]<<18|r[e.charCodeAt(h+1)]<<12|r[e.charCodeAt(h+2)]<<6|r[e.charCodeAt(h+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=255&t;return 2===s&&(t=r[e.charCodeAt(h)]<<2|r[e.charCodeAt(h+1)]>>4,a[l++]=255&t),1===s&&(t=r[e.charCodeAt(h)]<<10|r[e.charCodeAt(h+1)]<<4|r[e.charCodeAt(h+2)]>>2,a[l++]=t>>8&255,a[l++]=255&t),a},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(u(e,s,s+16383>a?a:s+16383));return 1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,o,s=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?r-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,i),o-=c}return(f?-1:1)*s*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var s,a,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,r),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;e[n+f]=255&a,f+=p,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;e[n+f]=255&s,f+=p,s/=256,c-=8);e[n+f-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"markdown-panel"},[n("div",{staticClass:"markdown-edit-wrapper",attrs:{id:e.config.id}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.markdown.content,expression:"markdown.content"}],attrs:{placeholder:e.placeholder},domProps:{value:e.markdown.content},on:{input:function(t){t.target.composing||e.$set(e.markdown,"content",t.target.value)}}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showVideoModal,expression:"showVideoModal"}],staticClass:"modal-mask video-modal"},[n("div",{staticClass:"modal-wrap"},[n("div",{staticClass:"modal"},[n("a",{staticClass:"modal-close",on:{click:e.closeVideoModal}},[n("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]),e._v(" "),n("div",{staticClass:"modal-header"},[e._v("视频上传")]),e._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"picker-flex"},[n("Button",{staticClass:"picker-button",attrs:{type:"primary",id:e.videoButtonId,disabled:e.videoParams.disabled}},[e._v("点击选择文件")]),e._v(" "),n("span",[e._v("仅支持mp4格式的文件")])],1),e._v(" "),n("div",{staticClass:"video-upload-status",domProps:{innerHTML:e._s(e.videoParams.status)}})])])])])])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";var i=n(14),r=n.n(i),o=n(3),s=n.n(o),a=n(19),l=(n.n(a),n(20)),c=(n.n(l),n(21));n.n(c),window.katex=r.a,t.a=(e=>{if(!e)return"";var t=new s.a.Renderer;return s.a.setOptions({renderer:t,gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1}),s()(e)})}])},e.exports=i()},501:function(e,t,n){var i;"undefined"!=typeof self&&self,i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(38);t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.MAX_BUFFER_SIZE=4294967295;var r=function(){function e(e,t){this._terminal=e,this._hasScrollback=t,this.clear()}return Object.defineProperty(e.prototype,"lines",{get:function(){return this._lines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._terminal.rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._terminal.rows},enumerable:!0,configurable:!0}),e.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var n=e+this._terminal.options.scrollback;return n>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:n},e.prototype.fillViewportRows=function(){if(0===this._lines.length)for(var e=this._terminal.rows;e--;)this.lines.push(this._terminal.blankLine())},e.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this._lines=new i.CircularList(this._getCorrectBufferLength(this._terminal.rows)),this.scrollTop=0,this.scrollBottom=this._terminal.rows-1,this.setupTabStops()},e.prototype.resize=function(e,t){var n=this._getCorrectBufferLength(t);if(n>this._lines.maxLength&&(this._lines.maxLength=n),this._lines.length>0){if(this._terminal.cols<e)for(var i=[this._terminal.defAttr," ",1,32],r=0;r<this._lines.length;r++)for(void 0===this._lines.get(r)&&this._lines.set(r,this._terminal.blankLine(void 0,void 0,e));this._lines.get(r).length<e;)this._lines.get(r).push(i);var o=0;if(this._terminal.rows<t)for(var s=this._terminal.rows;s<t;s++)this._lines.length<t+this.ybase&&(this.ybase>0&&this._lines.length<=this.ybase+this.y+o+1?(this.ybase--,o++,this.ydisp>0&&this.ydisp--):this._lines.push(this._terminal.blankLine(void 0,void 0,e)));else for(s=this._terminal.rows;s>t;s--)this._lines.length>t+this.ybase&&(this._lines.length>this.ybase+this.y+1?this._lines.pop():(this.ybase++,this.ydisp++));if(n<this._lines.maxLength){var a=this._lines.length-n;a>0&&(this._lines.trimStart(a),this.ybase=Math.max(this.ybase-a,0),this.ydisp=Math.max(this.ydisp-a,0)),this._lines.maxLength=n}this.y>=t&&(this.y=t-1),o&&(this.y+=o),this.x>=e&&(this.x=e-1),this.scrollTop=0}this.scrollBottom=t-1},e.prototype.translateBufferLineToString=function(e,n,i,r){void 0===i&&(i=0),void 0===r&&(r=null);var o="",s=this.lines.get(e);if(!s)return"";for(var a=i,l=r=r||s.length,c=0;c<s.length;c++){var u=s[c];o+=u[t.CHAR_DATA_CHAR_INDEX],0===u[t.CHAR_DATA_WIDTH_INDEX]?(i>=c&&a--,r>=c&&l--):u[t.CHAR_DATA_CHAR_INDEX].length>1&&(i>c&&(a+=u[t.CHAR_DATA_CHAR_INDEX].length-1),r>c&&(l+=u[t.CHAR_DATA_CHAR_INDEX].length-1))}if(n){var h=o.search(/\s+$/);if(-1!==h&&(l=Math.min(l,h)),l<=a)return""}return o.substring(a,l)},e.prototype.setupTabStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._terminal.cols;e+=this._terminal.options.tabStopWidth)this.tabs[e]=!0},e.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._terminal.cols?this._terminal.cols-1:e<0?0:e},e.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._terminal.cols;);return e>=this._terminal.cols?this._terminal.cols-1:e<0?0:e},e}();t.Buffer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._events=this._events||{}}return e.prototype.on=function(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)},e.prototype.off=function(e,t){if(this._events[e])for(var n=this._events[e],i=n.length;i--;)if(n[i]===t||n[i].listener===t)return void n.splice(i,1)},e.prototype.removeAllListeners=function(e){this._events[e]&&delete this._events[e]},e.prototype.once=function(e,t){function n(){var i=Array.prototype.slice.call(arguments);this.off(e,n),t.apply(this,i)}n.listener=t,this.on(e,n)},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(this._events[e])for(var i=this._events[e],r=0;r<i.length;r++)i[r].apply(this,t)},e.prototype.listeners=function(e){return this._events[e]||[]},e.prototype.destroy=function(){this._events={}},e}();t.EventEmitter=i},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return a});var i="warn",r=function(e){},o=function(e){},s=function(e){},a=function(e){};!function(e){if(void 0===e?e=i:i=e,r=o=s=a=function(e){},void 0!==window.console)switch(e){case"debug":r=console.debug.bind(window.console);case"info":o=console.info.bind(window.console);case"warn":s=console.warn.bind(window.console);case"error":a=console.error.bind(window.console);case"none":break;default:throw new a("invalid logging type '"+e+"'")}}()},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t,n){var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r=n(29),o={},s=i&&(document.head||document.getElementsByTagName("head")[0]),a=null,l=0,c=!1,u=function(){},h=null,d="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e){for(var t=0;t<e.length;t++){var n=e[t],i=o[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(g(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var s=[];for(r=0;r<n.parts.length;r++)s.push(g(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:s}}}}function m(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function g(e){var t,n,i=document.querySelector("style["+d+'~="'+e.id+'"]');if(i){if(c)return u;i.parentNode.removeChild(i)}if(f){var r=l++;i=a||(a=m()),t=b.bind(null,i,r,!1),n=b.bind(null,i,r,!0)}else i=m(),t=function(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),h.ssrId&&e.setAttribute(d,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}e.exports=function(e,t,n,i){c=n,h=i||{};var s=r(e,t);return p(s),function(t){for(var n=[],i=0;i<s.length;i++){var a=s[i];(l=o[a.id]).refs--,n.push(l)}for(t?p(s=r(e,t)):s=[],i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete o[l.id]}}}};var v,y=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function b(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),r=n(0);t.INVERTED_DEFAULT_COLOR=-1;var o=function(){function e(e,t,n,i,r){this._alpha=i,this._colors=r,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._canvas=document.createElement("canvas"),this._canvas.id="xterm-"+t+"-layer",this._canvas.style.zIndex=n.toString(),this._ctx=this._canvas.getContext("2d",{alpha:i}),this._ctx.scale(window.devicePixelRatio,window.devicePixelRatio),i||this.clearAll(),e.appendChild(this._canvas)}return e.prototype.onOptionsChanged=function(e){},e.prototype.onBlur=function(e){},e.prototype.onFocus=function(e){},e.prototype.onCursorMove=function(e){},e.prototype.onGridChanged=function(e,t,n){},e.prototype.onSelectionChanged=function(e,t,n){},e.prototype.onThemeChanged=function(e,t){this._refreshCharAtlas(e,t)},e.prototype._refreshCharAtlas=function(e,t){var n=this;if(!(this._scaledCharWidth<=0&&this._scaledCharHeight<=0)){this._charAtlas=null;var r=i.acquireCharAtlas(e,this._colors,this._scaledCharWidth,this._scaledCharHeight);r instanceof HTMLCanvasElement?this._charAtlas=r:r.then(function(e){return n._charAtlas=e})}},e.prototype.resize=function(e,t,n){this._scaledCellWidth=t.scaledCellWidth,this._scaledCellHeight=t.scaledCellHeight,this._scaledCharWidth=t.scaledCharWidth,this._scaledCharHeight=t.scaledCharHeight,this._scaledCharLeft=t.scaledCharLeft,this._scaledCharTop=t.scaledCharTop,this._canvas.width=t.scaledCanvasWidth,this._canvas.height=t.scaledCanvasHeight,this._canvas.style.width=t.canvasWidth+"px",this._canvas.style.height=t.canvasHeight+"px",this._alpha||this.clearAll(),n&&this._refreshCharAtlas(e,this._colors)},e.prototype.fillCells=function(e,t,n,i){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,n*this._scaledCellWidth,i*this._scaledCellHeight)},e.prototype.fillBottomLineAtCells=function(e,t,n){void 0===n&&(n=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,n*this._scaledCellWidth,window.devicePixelRatio)},e.prototype.fillLeftLineAtCell=function(e,t){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio,this._scaledCellHeight)},e.prototype.strokeRectAtCell=function(e,t,n,i){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,n*this._scaledCellWidth-window.devicePixelRatio,i*this._scaledCellHeight-window.devicePixelRatio)},e.prototype.clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype.clearCells=function(e,t,n,i){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,n*this._scaledCellWidth,i*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,n*this._scaledCellWidth,i*this._scaledCellHeight))},e.prototype.fillCharTrueColor=function(e,t,n,i){this._ctx.font=e.options.fontSize*window.devicePixelRatio+"px "+e.options.fontFamily,this._ctx.textBaseline="top",this._clipRow(e,i),this._ctx.fillText(t[r.CHAR_DATA_CHAR_INDEX],n*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop)},e.prototype.drawChar=function(e,t,n,r,o,s,a,l,c,u){var h=0;a<256?h=a+2:c&&e.options.enableBold&&(h=1);var d=n<256,f=h>1&&a<16&&(a<8||c),p=a>=256,m=l>=256;if(this._charAtlas&&d&&(f||p)&&m){var g=this._scaledCharWidth+i.CHAR_ATLAS_CELL_SPACING,v=this._scaledCharHeight+i.CHAR_ATLAS_CELL_SPACING;u&&(this._ctx.globalAlpha=.5),c&&!e.options.enableBold&&h>1&&(h-=8),this._ctx.drawImage(this._charAtlas,n*g,h*v,g,this._scaledCharHeight,o*this._scaledCellWidth+this._scaledCharLeft,s*this._scaledCellHeight+this._scaledCharTop,g,this._scaledCharHeight)}else this._drawUncachedChar(e,t,r,a,o,s,c,u)},e.prototype._drawUncachedChar=function(e,n,i,r,o,s,a,l){this._ctx.save(),this._ctx.font=e.options.fontSize*window.devicePixelRatio+"px "+e.options.fontFamily,a&&e.options.enableBold&&(this._ctx.font="bold "+this._ctx.font),this._ctx.textBaseline="top",r===t.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background:this._ctx.fillStyle=r<256?this._colors.ansi[r]:this._colors.foreground,this._clipRow(e,s),l&&(this._ctx.globalAlpha=.5),this._ctx.fillText(n,o*this._scaledCellWidth+this._scaledCharLeft,s*this._scaledCellHeight+this._scaledCharTop),this._ctx.restore()},e.prototype._clipRow=function(e,t){this._ctx.beginPath(),this._ctx.rect(0,t*this._scaledCellHeight,e.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e}();t.BaseRenderLayer=o},function(e,t,n){"use strict";n.d(t,"e",function(){return r}),t.g=function(){if(null===o)try{var e=document.createElement("canvas");e.style.cursor='url("data:image/x-icon;base64,AAACAAEACAgAAAIAAgA4AQAAFgAAACgAAAAIAAAAEAAAAAEAIAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAA==") 2 2, default',e.style.cursor?(i.c("Data URI scheme cursor supported"),o=!0):(i.d("Data URI scheme cursor not supported"),o=!1)}catch(e){i.b("Data URI scheme cursor test exception: "+e),o=!1}return o},t.d=function(){return navigator&&!!/mac/i.exec(navigator.platform)},t.b=function(){return navigator&&!!/trident/i.exec(navigator.userAgent)},t.a=function(){return navigator&&!!/edge/i.exec(navigator.userAgent)},t.f=function(){return navigator&&!!/win/i.exec(navigator.platform)},t.c=function(){return navigator&&(!!/ipad/i.exec(navigator.platform)||!!/iphone/i.exec(navigator.platform)||!!/ipod/i.exec(navigator.platform))};var i=n(2),r="ontouchstart"in document.documentElement||void 0!==document.ontouchstart||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;window.addEventListener("touchstart",function e(){r=!0,window.removeEventListener("touchstart",e,!1)},!1);var o=null},function(e,t,n){"use strict";t.a={XK_VoidSymbol:16777215,XK_BackSpace:65288,XK_Tab:65289,XK_Linefeed:65290,XK_Clear:65291,XK_Return:65293,XK_Pause:65299,XK_Scroll_Lock:65300,XK_Sys_Req:65301,XK_Escape:65307,XK_Delete:65535,XK_Multi_key:65312,XK_Codeinput:65335,XK_SingleCandidate:65340,XK_MultipleCandidate:65341,XK_PreviousCandidate:65342,XK_Kanji:65313,XK_Muhenkan:65314,XK_Henkan_Mode:65315,XK_Henkan:65315,XK_Romaji:65316,XK_Hiragana:65317,XK_Katakana:65318,XK_Hiragana_Katakana:65319,XK_Zenkaku:65320,XK_Hankaku:65321,XK_Zenkaku_Hankaku:65322,XK_Touroku:65323,XK_Massyo:65324,XK_Kana_Lock:65325,XK_Kana_Shift:65326,XK_Eisu_Shift:65327,XK_Eisu_toggle:65328,XK_Kanji_Bangou:65335,XK_Zen_Koho:65341,XK_Mae_Koho:65342,XK_Home:65360,XK_Left:65361,XK_Up:65362,XK_Right:65363,XK_Down:65364,XK_Prior:65365,XK_Page_Up:65365,XK_Next:65366,XK_Page_Down:65366,XK_End:65367,XK_Begin:65368,XK_Select:65376,XK_Print:65377,XK_Execute:65378,XK_Insert:65379,XK_Undo:65381,XK_Redo:65382,XK_Menu:65383,XK_Find:65384,XK_Cancel:65385,XK_Help:65386,XK_Break:65387,XK_Mode_switch:65406,XK_script_switch:65406,XK_Num_Lock:65407,XK_KP_Space:65408,XK_KP_Tab:65417,XK_KP_Enter:65421,XK_KP_F1:65425,XK_KP_F2:65426,XK_KP_F3:65427,XK_KP_F4:65428,XK_KP_Home:65429,XK_KP_Left:65430,XK_KP_Up:65431,XK_KP_Right:65432,XK_KP_Down:65433,XK_KP_Prior:65434,XK_KP_Page_Up:65434,XK_KP_Next:65435,XK_KP_Page_Down:65435,XK_KP_End:65436,XK_KP_Begin:65437,XK_KP_Insert:65438,XK_KP_Delete:65439,XK_KP_Equal:65469,XK_KP_Multiply:65450,XK_KP_Add:65451,XK_KP_Separator:65452,XK_KP_Subtract:65453,XK_KP_Decimal:65454,XK_KP_Divide:65455,XK_KP_0:65456,XK_KP_1:65457,XK_KP_2:65458,XK_KP_3:65459,XK_KP_4:65460,XK_KP_5:65461,XK_KP_6:65462,XK_KP_7:65463,XK_KP_8:65464,XK_KP_9:65465,XK_F1:65470,XK_F2:65471,XK_F3:65472,XK_F4:65473,XK_F5:65474,XK_F6:65475,XK_F7:65476,XK_F8:65477,XK_F9:65478,XK_F10:65479,XK_F11:65480,XK_L1:65480,XK_F12:65481,XK_L2:65481,XK_F13:65482,XK_L3:65482,XK_F14:65483,XK_L4:65483,XK_F15:65484,XK_L5:65484,XK_F16:65485,XK_L6:65485,XK_F17:65486,XK_L7:65486,XK_F18:65487,XK_L8:65487,XK_F19:65488,XK_L9:65488,XK_F20:65489,XK_L10:65489,XK_F21:65490,XK_R1:65490,XK_F22:65491,XK_R2:65491,XK_F23:65492,XK_R3:65492,XK_F24:65493,XK_R4:65493,XK_F25:65494,XK_R5:65494,XK_F26:65495,XK_R6:65495,XK_F27:65496,XK_R7:65496,XK_F28:65497,XK_R8:65497,XK_F29:65498,XK_R9:65498,XK_F30:65499,XK_R10:65499,XK_F31:65500,XK_R11:65500,XK_F32:65501,XK_R12:65501,XK_F33:65502,XK_R13:65502,XK_F34:65503,XK_R14:65503,XK_F35:65504,XK_R15:65504,XK_Shift_L:65505,XK_Shift_R:65506,XK_Control_L:65507,XK_Control_R:65508,XK_Caps_Lock:65509,XK_Shift_Lock:65510,XK_Meta_L:65511,XK_Meta_R:65512,XK_Alt_L:65513,XK_Alt_R:65514,XK_Super_L:65515,XK_Super_R:65516,XK_Hyper_L:65517,XK_Hyper_R:65518,XK_ISO_Level3_Shift:65027,XK_ISO_Next_Group:65032,XK_ISO_Prev_Group:65034,XK_ISO_First_Group:65036,XK_ISO_Last_Group:65038,XK_space:32,XK_exclam:33,XK_quotedbl:34,XK_numbersign:35,XK_dollar:36,XK_percent:37,XK_ampersand:38,XK_apostrophe:39,XK_quoteright:39,XK_parenleft:40,XK_parenright:41,XK_asterisk:42,XK_plus:43,XK_comma:44,XK_minus:45,XK_period:46,XK_slash:47,XK_0:48,XK_1:49,XK_2:50,XK_3:51,XK_4:52,XK_5:53,XK_6:54,XK_7:55,XK_8:56,XK_9:57,XK_colon:58,XK_semicolon:59,XK_less:60,XK_equal:61,XK_greater:62,XK_question:63,XK_at:64,XK_A:65,XK_B:66,XK_C:67,XK_D:68,XK_E:69,XK_F:70,XK_G:71,XK_H:72,XK_I:73,XK_J:74,XK_K:75,XK_L:76,XK_M:77,XK_N:78,XK_O:79,XK_P:80,XK_Q:81,XK_R:82,XK_S:83,XK_T:84,XK_U:85,XK_V:86,XK_W:87,XK_X:88,XK_Y:89,XK_Z:90,XK_bracketleft:91,XK_backslash:92,XK_bracketright:93,XK_asciicircum:94,XK_underscore:95,XK_grave:96,XK_quoteleft:96,XK_a:97,XK_b:98,XK_c:99,XK_d:100,XK_e:101,XK_f:102,XK_g:103,XK_h:104,XK_i:105,XK_j:106,XK_k:107,XK_l:108,XK_m:109,XK_n:110,XK_o:111,XK_p:112,XK_q:113,XK_r:114,XK_s:115,XK_t:116,XK_u:117,XK_v:118,XK_w:119,XK_x:120,XK_y:121,XK_z:122,XK_braceleft:123,XK_bar:124,XK_braceright:125,XK_asciitilde:126,XK_nobreakspace:160,XK_exclamdown:161,XK_cent:162,XK_sterling:163,XK_currency:164,XK_yen:165,XK_brokenbar:166,XK_section:167,XK_diaeresis:168,XK_copyright:169,XK_ordfeminine:170,XK_guillemotleft:171,XK_notsign:172,XK_hyphen:173,XK_registered:174,XK_macron:175,XK_degree:176,XK_plusminus:177,XK_twosuperior:178,XK_threesuperior:179,XK_acute:180,XK_mu:181,XK_paragraph:182,XK_periodcentered:183,XK_cedilla:184,XK_onesuperior:185,XK_masculine:186,XK_guillemotright:187,XK_onequarter:188,XK_onehalf:189,XK_threequarters:190,XK_questiondown:191,XK_Agrave:192,XK_Aacute:193,XK_Acircumflex:194,XK_Atilde:195,XK_Adiaeresis:196,XK_Aring:197,XK_AE:198,XK_Ccedilla:199,XK_Egrave:200,XK_Eacute:201,XK_Ecircumflex:202,XK_Ediaeresis:203,XK_Igrave:204,XK_Iacute:205,XK_Icircumflex:206,XK_Idiaeresis:207,XK_ETH:208,XK_Eth:208,XK_Ntilde:209,XK_Ograve:210,XK_Oacute:211,XK_Ocircumflex:212,XK_Otilde:213,XK_Odiaeresis:214,XK_multiply:215,XK_Oslash:216,XK_Ooblique:216,XK_Ugrave:217,XK_Uacute:218,XK_Ucircumflex:219,XK_Udiaeresis:220,XK_Yacute:221,XK_THORN:222,XK_Thorn:222,XK_ssharp:223,XK_agrave:224,XK_aacute:225,XK_acircumflex:226,XK_atilde:227,XK_adiaeresis:228,XK_aring:229,XK_ae:230,XK_ccedilla:231,XK_egrave:232,XK_eacute:233,XK_ecircumflex:234,XK_ediaeresis:235,XK_igrave:236,XK_iacute:237,XK_icircumflex:238,XK_idiaeresis:239,XK_eth:240,XK_ntilde:241,XK_ograve:242,XK_oacute:243,XK_ocircumflex:244,XK_otilde:245,XK_odiaeresis:246,XK_division:247,XK_oslash:248,XK_ooblique:248,XK_ugrave:249,XK_uacute:250,XK_ucircumflex:251,XK_udiaeresis:252,XK_yacute:253,XK_thorn:254,XK_ydiaeresis:255,XK_Hangul:65329,XK_Hangul_Hanja:65332,XK_Hangul_Jeonja:65336,XF86XK_ModeLock:269025025,XF86XK_MonBrightnessUp:269025026,XF86XK_MonBrightnessDown:269025027,XF86XK_KbdLightOnOff:269025028,XF86XK_KbdBrightnessUp:269025029,XF86XK_KbdBrightnessDown:269025030,XF86XK_Standby:269025040,XF86XK_AudioLowerVolume:269025041,XF86XK_AudioMute:269025042,XF86XK_AudioRaiseVolume:269025043,XF86XK_AudioPlay:269025044,XF86XK_AudioStop:269025045,XF86XK_AudioPrev:269025046,XF86XK_AudioNext:269025047,XF86XK_HomePage:269025048,XF86XK_Mail:269025049,XF86XK_Start:269025050,XF86XK_Search:269025051,XF86XK_AudioRecord:269025052,XF86XK_Calculator:269025053,XF86XK_Memo:269025054,XF86XK_ToDoList:269025055,XF86XK_Calendar:269025056,XF86XK_PowerDown:269025057,XF86XK_ContrastAdjust:269025058,XF86XK_RockerUp:269025059,XF86XK_RockerDown:269025060,XF86XK_RockerEnter:269025061,XF86XK_Back:269025062,XF86XK_Forward:269025063,XF86XK_Stop:269025064,XF86XK_Refresh:269025065,XF86XK_PowerOff:269025066,XF86XK_WakeUp:269025067,XF86XK_Eject:269025068,XF86XK_ScreenSaver:269025069,XF86XK_WWW:269025070,XF86XK_Sleep:269025071,XF86XK_Favorites:269025072,XF86XK_AudioPause:269025073,XF86XK_AudioMedia:269025074,XF86XK_MyComputer:269025075,XF86XK_VendorHome:269025076,XF86XK_LightBulb:269025077,XF86XK_Shop:269025078,XF86XK_History:269025079,XF86XK_OpenURL:269025080,XF86XK_AddFavorite:269025081,XF86XK_HotLinks:269025082,XF86XK_BrightnessAdjust:269025083,XF86XK_Finance:269025084,XF86XK_Community:269025085,XF86XK_AudioRewind:269025086,XF86XK_BackForward:269025087,XF86XK_Launch0:269025088,XF86XK_Launch1:269025089,XF86XK_Launch2:269025090,XF86XK_Launch3:269025091,XF86XK_Launch4:269025092,XF86XK_Launch5:269025093,XF86XK_Launch6:269025094,XF86XK_Launch7:269025095,XF86XK_Launch8:269025096,XF86XK_Launch9:269025097,XF86XK_LaunchA:269025098,XF86XK_LaunchB:269025099,XF86XK_LaunchC:269025100,XF86XK_LaunchD:269025101,XF86XK_LaunchE:269025102,XF86XK_LaunchF:269025103,XF86XK_ApplicationLeft:269025104,XF86XK_ApplicationRight:269025105,XF86XK_Book:269025106,XF86XK_CD:269025107,XF86XK_Calculater:269025108,XF86XK_Clear:269025109,XF86XK_Close:269025110,XF86XK_Copy:269025111,XF86XK_Cut:269025112,XF86XK_Display:269025113,XF86XK_DOS:269025114,XF86XK_Documents:269025115,XF86XK_Excel:269025116,XF86XK_Explorer:269025117,XF86XK_Game:269025118,XF86XK_Go:269025119,XF86XK_iTouch:269025120,XF86XK_LogOff:269025121,XF86XK_Market:269025122,XF86XK_Meeting:269025123,XF86XK_MenuKB:269025125,XF86XK_MenuPB:269025126,XF86XK_MySites:269025127,XF86XK_New:269025128,XF86XK_News:269025129,XF86XK_OfficeHome:269025130,XF86XK_Open:269025131,XF86XK_Option:269025132,XF86XK_Paste:269025133,XF86XK_Phone:269025134,XF86XK_Q:269025136,XF86XK_Reply:269025138,XF86XK_Reload:269025139,XF86XK_RotateWindows:269025140,XF86XK_RotationPB:269025141,XF86XK_RotationKB:269025142,XF86XK_Save:269025143,XF86XK_ScrollUp:269025144,XF86XK_ScrollDown:269025145,XF86XK_ScrollClick:269025146,XF86XK_Send:269025147,XF86XK_Spell:269025148,XF86XK_SplitScreen:269025149,XF86XK_Support:269025150,XF86XK_TaskPane:269025151,XF86XK_Terminal:269025152,XF86XK_Tools:269025153,XF86XK_Travel:269025154,XF86XK_UserPB:269025156,XF86XK_User1KB:269025157,XF86XK_User2KB:269025158,XF86XK_Video:269025159,XF86XK_WheelButton:269025160,XF86XK_Word:269025161,XF86XK_Xfer:269025162,XF86XK_ZoomIn:269025163,XF86XK_ZoomOut:269025164,XF86XK_Away:269025165,XF86XK_Messenger:269025166,XF86XK_WebCam:269025167,XF86XK_MailForward:269025168,XF86XK_Pictures:269025169,XF86XK_Music:269025170,XF86XK_Battery:269025171,XF86XK_Bluetooth:269025172,XF86XK_WLAN:269025173,XF86XK_UWB:269025174,XF86XK_AudioForward:269025175,XF86XK_AudioRepeat:269025176,XF86XK_AudioRandomPlay:269025177,XF86XK_Subtitle:269025178,XF86XK_AudioCycleTrack:269025179,XF86XK_CycleAngle:269025180,XF86XK_FrameBack:269025181,XF86XK_FrameForward:269025182,XF86XK_Time:269025183,XF86XK_Select:269025184,XF86XK_View:269025185,XF86XK_TopMenu:269025186,XF86XK_Red:269025187,XF86XK_Green:269025188,XF86XK_Yellow:269025189,XF86XK_Blue:269025190,XF86XK_Suspend:269025191,XF86XK_Hibernate:269025192,XF86XK_TouchpadToggle:269025193,XF86XK_TouchpadOn:269025200,XF86XK_TouchpadOff:269025201,XF86XK_AudioMicMute:269025202,XF86XK_Switch_VT_1:269024769,XF86XK_Switch_VT_2:269024770,XF86XK_Switch_VT_3:269024771,XF86XK_Switch_VT_4:269024772,XF86XK_Switch_VT_5:269024773,XF86XK_Switch_VT_6:269024774,XF86XK_Switch_VT_7:269024775,XF86XK_Switch_VT_8:269024776,XF86XK_Switch_VT_9:269024777,XF86XK_Switch_VT_10:269024778,XF86XK_Switch_VT_11:269024779,XF86XK_Switch_VT_12:269024780,XF86XK_Ungrab:269024800,XF86XK_ClearGrab:269024801,XF86XK_Next_VMode:269024802,XF86XK_Prev_VMode:269024803,XF86XK_LogWindowTree:269024804,XF86XK_LogGrabInfo:269024805}},function(e,t){e.exports=function(e,t,n,i,r,o){var s,a=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,a=e.default);var c,u="function"==typeof a?a.options:a;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId=r),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=c):i&&(c=i),c){var h=u.functional,d=h?u.render:u.beforeCreate;h?(u._injectStyles=c,u.render=function(e,t){return c.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:s,exports:a,options:u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NUL="\0",e.SOH="",e.STX="",e.ETX="",e.EOT="",e.ENQ="",e.ACK="",e.BEL="",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="",e.SI="",e.DLE="",e.DC1="",e.DC2="",e.DC3="",e.DC4="",e.NAK="",e.SYN="",e.ETB="",e.CAN="",e.EM="",e.SUB="",e.ESC="",e.FS="",e.GS="",e.RS="",e.US="",e.SP=" ",e.DEL=""}(t.C0||(t.C0={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(48),r="undefined"==typeof navigator,o=r?"node":navigator.userAgent,s=r?"node":navigator.platform;t.isFirefox=!!~o.indexOf("Firefox"),t.isMSIE=!!~o.indexOf("MSIE")||!!~o.indexOf("Trident"),t.isMac=i.contains(["Macintosh","MacIntel","MacPPC","Mac68K"],s),t.isIpad="iPad"===s,t.isIphone="iPhone"===s,t.isMSWindows=i.contains(["Windows","Win16","Win32","WinCE"],s),t.isLinux=s.indexOf("Linux")>=0},function(e,t,n){"use strict";var i=n(30),r=n(63);t.a={components:{Console:i.a,Vnc:r.a},props:{resources:{type:Array,required:!0},currentResource:{type:String,required:!0}},watch:{resources(e){e.length&&(this.resourceStatus=e.map(e=>({id:e.id,status:"closed"})),this.resourcesConnections=e.map(e=>({id:e.id,connection:""})))},currentResource(e){this.setAllBlur()}},data(){return{resourceStatus:this.resources.map(e=>({id:e.id,status:"closed"})),resourcesConnections:this.resources.map(e=>({id:e.id,connection:""}))}},methods:{setAllBlur(){Object.keys(this.$refs).forEach(e=>{this.$refs[e][0]&&this.$refs[e][0].setFocus({isFocus:!1})})},setFocus({id:e}){this.$refs[e][0]&&this.$refs[e][0].setFocus({isFocus:!0})},setBlur({id:e}){this.$refs[e][0]&&this.$refs[e][0].setFocus({isFocus:!1})},resizeDisplay(){const e=this.$refs[this.currentResource];e&&(e instanceof Array?e[0]&&e[0].setDisplayRect():e.setDisplayRect())},startConnection({id:e,connection:t}){this.resourceStatus.forEach(t=>{t.id===e&&(t.status="closed")}),this.$nextTick(()=>{this.resourcesConnections.forEach(n=>{n.id===e&&(n.connection=t)}),this.resourceStatus.forEach(t=>{t.id===e&&(t.status="started")})})},sendCtrlAltDel({id:e}){this.resourceStatus.forEach(t=>{t.id===e&&("started"===t.status?this.$refs[t.id][0].sendCtrlAltDel&&this.$refs[t.id][0].sendCtrlAltDel():console.warn(t.id+" not started yet!"))})},getAllResourceStatus(){return this.resourceStatus},getAllResourceConnections(){return this.resourcesConnections},closeConnection({id:e}){this.resourcesConnections.forEach(t=>{t.id===e&&(t.connection="")}),this.resourceStatus.forEach(t=>{t.id===e&&(t.status="closed")})},onVncClipboard({text:e}){this.$emit("on-vnc-clipboard",{text:e})},onVncConnected({id:e}){this.resourceStatus.forEach(t=>{t.id===e&&(t.status="started")}),this.$emit("on-vnc-connected",{id:e})},onVncDisconnected({id:e}){this.resourceStatus.forEach(t=>{t.id===e&&(t.status="closed")}),this.$emit("on-vnc-disconnected",{id:e})},onConsoleConnected({id:e}){this.resourceStatus.forEach(t=>{t.id===e&&(t.status="started")}),this.$emit("on-console-connected",{id:e})},onConsoleDisconnected({id:e}){this.resourceStatus.forEach(t=>{t.id===e&&(t.status="closed")}),this.$emit("on-console-disconnected",{id:e})},onConsoleResize({id:e,rect:t}){this.$emit("on-console-resize",{id:e,rect:t})}}}},function(e,t,n){"use strict";var i=n(36),r=(n.n(i),n(57)),o=n(20),s=n.n(o);t.a={props:{name:{type:String,required:!0},currentShow:{type:Boolean,required:!0},connection:{type:String,default:""}},watch:{currentShow(){this.setDisplayRect()}},mounted(){this.$nextTick(()=>{this.initConsole(),this.bindTermEvents(),this.bindSocketEvents(),this.bindWindowEvents()})},beforeDestroy(){this.socket&&(this.socket.close(),this.socket=null,this.term=null,this.$emit("on-console-disconnected",{id:this.name}))},data:()=>({term:null,socket:null,resize:!1}),methods:{initConsole(){if(this.connection.length){const e=new s.a(this.connection);this.socket=Object(r.a)({type:"WebSocket"})({url:e.protocol+"//"+e.hostname,port:e.port,query:e.pathname+e.query}),this.term=new i.Terminal,this.term.open(this.$el)}},setFocus({isFocus:e}){this.term&&(e?this.term.focus():this.term.blur())},getXtermViewport(){return{cols:parseInt(document.querySelector("#"+this.name+".console-components").offsetWidth/9),rows:parseInt(document.querySelector("#"+this.name+".console-components").offsetHeight/18)}},setDisplayRect(){if(!this.currentShow||!this.term)return;const e=this.getXtermViewport();this.term.resize(e.cols,e.rows),this.$emit("on-console-resize",{id:this.name,rect:e})},bindWindowEvents(){window.addEventListener("resize",()=>{if(this.resize)return;this.resize=!0;const e=setTimeout(()=>{this.resize=!1,this.setDisplayRect(),clearTimeout(e)},1e3)})},bindTermEvents(){this.term&&this.term.on("data",e=>{this.socket.send(e)})},bindSocketEvents(){this.socket&&(this.socket.onopen=(()=>{this.$emit("on-console-connected",{id:this.name}),this.resize&&returns;const e=setTimeout(()=>{this.resize=!1,this.setDisplayRect(),clearTimeout(e)},1e3)}),this.socket.onclose=(e=>{console.error(e),this.$emit("on-console-disconnected",{id:this.name})}),this.socket.onmessage=(e=>{if(e.data instanceof Blob){const t=new FileReader;t.onload=(()=>{this.term.write(t.result),this.$emit("on-console-write-data",{id:this.name,data:t.result})}),t.readAsText(e.data)}else this.term.write(e.data),this.$emit("on-console-write-data",{id:this.name,data:e.data})}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"◆",a:"▒",b:"\t",c:"\f",d:"\r",e:"\n",f:"°",g:"±",h:"␤",i:"\v",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},t.CHARSETS.A={"#":"£"},t.CHARSETS.B=null,t.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},t.CHARSETS.C=t.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},t.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},t.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},t.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},t.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},t.CHARSETS.E=t.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},t.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},t.CHARSETS.H=t.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},t.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.BOLD=1]="BOLD",e[e.UNDERLINE=2]="UNDERLINE",e[e.BLINK=4]="BLINK",e[e.INVERSE=8]="INVERSE",e[e.INVISIBLE=16]="INVISIBLE",e[e.DIM=32]="DIM"}(t.FLAGS||(t.FLAGS={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10);t.CHAR_ATLAS_CELL_SPACING=1;var r,o=[];function s(e,t){for(var n=0;n<e.colors.ansi.length;n++)if(e.colors.ansi[n]!==t.colors.ansi[n])return!1;return e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background}t.acquireCharAtlas=function(e,t,n,i){for(var a=function(e,t,n,i){var r={foreground:i.foreground,background:i.background,cursor:null,cursorAccent:null,selection:null,ansi:i.ansi.slice(0,16)};return{scaledCharWidth:e,scaledCharHeight:t,fontFamily:n.options.fontFamily,fontSize:n.options.fontSize,colors:r}}(n,i,e,t),l=0;l<o.length;l++){var c=(u=o[l]).ownedBy.indexOf(e);if(c>=0){if(s(u.config,a))return u.bitmap;1===u.ownedBy.length?o.splice(l,1):u.ownedBy.splice(c,1);break}}for(l=0;l<o.length;l++){var u;if(s((u=o[l]).config,a))return u.ownedBy.push(e),u.bitmap}var h={bitmap:r.generate(n,i,e.options.fontSize,e.options.fontFamily,t.background,t.foreground,t.ansi),config:a,ownedBy:[e]};return o.push(h),h.bitmap},t.initialize=function(e){r||(r=new a(e))};var a=function(){function e(e){this._document=e,this._canvas=this._document.createElement("canvas"),this._ctx=this._canvas.getContext("2d",{alpha:!1}),this._ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}return e.prototype.generate=function(e,n,r,o,s,a,l){var c=e+t.CHAR_ATLAS_CELL_SPACING,u=n+t.CHAR_ATLAS_CELL_SPACING;this._canvas.width=255*c,this._canvas.height=18*u,this._ctx.fillStyle=s,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height),this._ctx.save(),this._ctx.fillStyle=a,this._ctx.font=r*window.devicePixelRatio+"px "+o,this._ctx.textBaseline="top";for(var h=0;h<256;h++)this._ctx.save(),this._ctx.beginPath(),this._ctx.rect(h*c,0,c,u),this._ctx.clip(),this._ctx.fillText(String.fromCharCode(h),h*c,0),this._ctx.restore();for(this._ctx.save(),this._ctx.font="bold "+this._ctx.font,h=0;h<256;h++)this._ctx.save(),this._ctx.beginPath(),this._ctx.rect(h*c,u,c,u),this._ctx.clip(),this._ctx.fillText(String.fromCharCode(h),h*c,u),this._ctx.restore();this._ctx.restore(),this._ctx.font=r*window.devicePixelRatio+"px "+o;for(var d=0;d<16;d++){8===d&&(this._ctx.font="bold "+this._ctx.font);var f=(d+2)*u;for(h=0;h<256;h++)this._ctx.save(),this._ctx.beginPath(),this._ctx.rect(h*c,f,c,u),this._ctx.clip(),this._ctx.fillStyle=l[d],this._ctx.fillText(String.fromCharCode(h),h*c,f),this._ctx.restore()}if(this._ctx.restore(),!("createImageBitmap"in window)||i.isFirefox){var p=this._canvas;return this._canvas=this._document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._ctx.scale(window.devicePixelRatio,window.devicePixelRatio),p}var m=this._ctx.getImageData(0,0,this._canvas.width,this._canvas.height),g=parseInt(s.substr(1,2),16),v=parseInt(s.substr(3,2),16),y=parseInt(s.substr(5,2),16);this._clearColor(m,g,v,y);var b=window.createImageBitmap(m);return this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),b},e.prototype._clearColor=function(e,t,n,i){for(var r=0;r<e.data.length;r+=4)e.data[r]===t&&e.data[r+1]===n&&e.data[r+2]===i&&(e.data[r+3]=0)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="#ffffff",r="#000000",o="#ffffff",s="#000000",a="rgba(255, 255, 255, 0.3)";function l(e){var t=e.toString(16);return t.length<2?"0"+t:t}t.DEFAULT_ANSI_COLORS=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"];var c=function(){function e(){this.colors={foreground:i,background:r,cursor:o,cursorAccent:s,selection:a,ansi:function(e){for(var t=e.slice(),n=[0,95,135,175,215,255],i=0;i<216;i++){var r=l(n[i/36%6|0]),o=l(n[i/6%6|0]),s=l(n[i%6]);t.push("#"+r+o+s)}for(i=0;i<24;i++){var a=l(8+10*i);t.push("#"+a+a+a)}return t}(t.DEFAULT_ANSI_COLORS)}}return e.prototype.setTheme=function(e){this.colors.foreground=e.foreground||i,this.colors.background=this._validateColor(e.background,r),this.colors.cursor=e.cursor||o,this.colors.cursorAccent=e.cursorAccent||s,this.colors.selection=e.selection||a,this.colors.ansi[0]=e.black||t.DEFAULT_ANSI_COLORS[0],this.colors.ansi[1]=e.red||t.DEFAULT_ANSI_COLORS[1],this.colors.ansi[2]=e.green||t.DEFAULT_ANSI_COLORS[2],this.colors.ansi[3]=e.yellow||t.DEFAULT_ANSI_COLORS[3],this.colors.ansi[4]=e.blue||t.DEFAULT_ANSI_COLORS[4],this.colors.ansi[5]=e.magenta||t.DEFAULT_ANSI_COLORS[5],this.colors.ansi[6]=e.cyan||t.DEFAULT_ANSI_COLORS[6],this.colors.ansi[7]=e.white||t.DEFAULT_ANSI_COLORS[7],this.colors.ansi[8]=e.brightBlack||t.DEFAULT_ANSI_COLORS[8],this.colors.ansi[9]=e.brightRed||t.DEFAULT_ANSI_COLORS[9],this.colors.ansi[10]=e.brightGreen||t.DEFAULT_ANSI_COLORS[10],this.colors.ansi[11]=e.brightYellow||t.DEFAULT_ANSI_COLORS[11],this.colors.ansi[12]=e.brightBlue||t.DEFAULT_ANSI_COLORS[12],this.colors.ansi[13]=e.brightMagenta||t.DEFAULT_ANSI_COLORS[13],this.colors.ansi[14]=e.brightCyan||t.DEFAULT_ANSI_COLORS[14],this.colors.ansi[15]=e.brightWhite||t.DEFAULT_ANSI_COLORS[15]},e.prototype._validateColor=function(e,t){if(!e)return t;if(7===e.length&&"#"===e.charAt(0))return e;if(4===e.length&&"#"===e.charAt(0)){var n=e.charAt(1),i=e.charAt(2),r=e.charAt(3);return"#"+n+n+i+i+r+r}return t},e}();t.ColorManager=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HOVER="linkhover",e.TOOLTIP="linktooltip",e.LEAVE="linkleave"}(t.LinkHoverEventTypes||(t.LinkHoverEventTypes={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){var t=this;this._terminal=e,this._zones=[],this._areZonesActive=!1,this._tooltipTimeout=null,this._currentZone=null,this._lastHoverCoords=[null,null],this._terminal.element.addEventListener("mousedown",function(e){return t._onMouseDown(e)}),this._mouseMoveListener=function(e){return t._onMouseMove(e)},this._clickListener=function(e){return t._onClick(e)}}return e.prototype.add=function(e){this._zones.push(e),1===this._zones.length&&this._activate()},e.prototype.clearAll=function(e,t){if(0!==this._zones.length){t||(e=0,t=this._terminal.rows-1);for(var n=0;n<this._zones.length;n++){var i=this._zones[n];i.y>e&&i.y<=t+1&&(this._currentZone&&this._currentZone===i&&(this._currentZone.leaveCallback(),this._currentZone=null),this._zones.splice(n--,1))}0===this._zones.length&&this._deactivate()}},e.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._terminal.element.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.addEventListener("click",this._clickListener))},e.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._terminal.element.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.removeEventListener("click",this._clickListener))},e.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},e.prototype._onHover=function(e){var t=this,n=this._findZoneEventAt(e);n!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=null,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),n&&(this._currentZone=n,n.hoverCallback&&n.hoverCallback(e),this._tooltipTimeout=setTimeout(function(){return t._onTooltip(e)},500)))},e.prototype._onTooltip=function(e){this._tooltipTimeout=null;var t=this._findZoneEventAt(e);t&&t.tooltipCallback&&t.tooltipCallback(e)},e.prototype._onMouseDown=function(e){this._areZonesActive&&this._findZoneEventAt(e)&&(e.preventDefault(),e.stopImmediatePropagation())},e.prototype._onClick=function(e){var t=this._findZoneEventAt(e);t&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},e.prototype._findZoneEventAt=function(e){var t=this._terminal.mouseHelper.getCoords(e,this._terminal.element,this._terminal.charMeasure,this._terminal.options.lineHeight,this._terminal.cols,this._terminal.rows);if(!t)return null;for(var n=0;n<this._zones.length;n++){var i=this._zones[n];if(i.y===t[1]&&i.x1<=t[0]&&i.x2>t[0])return i}return null},e}();t.MouseZoneManager=i;var r=function(e,t,n,i,r,o,s){this.x1=e,this.x2=t,this.y=n,this.clickCallback=i,this.hoverCallback=r,this.tooltipCallback=o,this.leaveCallback=s};t.MouseZone=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._renderer=e}return e.getCoordsRelativeToElement=function(e,t){if(null==e.pageX)return null;for(var n=t,i=e.pageX,r=e.pageY;t;)i-=t.offsetLeft,r-=t.offsetTop,t="offsetParent"in t?t.offsetParent:t.parentElement;for(t=n;t&&t!==t.ownerDocument.body;)i+=t.scrollLeft,r+=t.scrollTop,t=t.parentElement;return[i,r]},e.prototype.getCoords=function(t,n,i,r,o,s,a){if(!i.width||!i.height)return null;var l=e.getCoordsRelativeToElement(t,n);return l?(l[0]=Math.ceil((l[0]+(a?this._renderer.dimensions.actualCellWidth/2:0))/this._renderer.dimensions.actualCellWidth),l[1]=Math.ceil(l[1]/this._renderer.dimensions.actualCellHeight),l[0]=Math.min(Math.max(l[0],1),o+(a?1:0)),l[1]=Math.min(Math.max(l[1],1),s),l):null},e.prototype.getRawByteCoords=function(e,t,n,i,r,o){var s=this.getCoords(e,t,n,i,r,o),a=s[0],l=s[1];return{x:a+=32,y:l+=32}},e}();t.MouseHelper=i},function(e,t,n){"use strict";(function(t){var i=n(60),r=n(61),o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function c(e){var n,i={},r=typeof(e=e||t.location||{});if("blob:"===e.protocol)i=new h(unescape(e.pathname),{});else if("string"===r)for(n in i=new h(e,{}),l)delete i[n];else if("object"===r){for(n in e)n in l||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=s.test(e.href))}return i}function u(e){var t=o.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function h(e,t,n){if(!(this instanceof h))return new h(e,t,n);var o,s,l,d,f,p,m=a.slice(),g=typeof t,v=this,y=0;for("object"!==g&&"string"!==g&&(n=t,t=null),n&&"function"!=typeof n&&(n=r.parse),t=c(t),o=!(s=u(e||"")).protocol&&!s.slashes,v.slashes=s.slashes||o&&t.slashes,v.protocol=s.protocol||t.protocol||"",e=s.rest,s.slashes||(m[2]=[/(.*)/,"pathname"]);y<m.length;y++)l=(d=m[y])[0],p=d[1],l!=l?v[p]=e:"string"==typeof l?~(f=e.indexOf(l))&&("number"==typeof d[2]?(v[p]=e.slice(0,f),e=e.slice(f+d[2])):(v[p]=e.slice(f),e=e.slice(0,f))):(f=l.exec(e))&&(v[p]=f[1],e=e.slice(0,f.index)),v[p]=v[p]||o&&d[3]&&t[p]||"",d[4]&&(v[p]=v[p].toLowerCase());n&&(v.query=n(v.query)),o&&t.slashes&&"/"!==v.pathname.charAt(0)&&(""!==v.pathname||""!==t.pathname)&&(v.pathname=function(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,r=n[i-1],o=!1,s=0;i--;)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),s++):s&&(0===i&&(o=!0),n.splice(i,1),s--);return o&&n.unshift(""),"."!==r&&".."!==r||n.push(""),n.join("/")}(v.pathname,t.pathname)),i(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(d=v.auth.split(":"),v.username=d[0]||"",v.password=d[1]||""),v.origin=v.protocol&&v.host&&"file:"!==v.protocol?v.protocol+"//"+v.host:"null",v.href=v.toString()}h.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||r.parse)(t)),o[e]=t;break;case"port":o[e]=t,i(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var s="pathname"===e?"/":"#";o[e]=t.charAt(0)!==s?s+t:t}else o[e]=t;break;default:o[e]=t}for(var l=0;l<a.length;l++){var c=a[l];c[4]&&(o[c[1]]=o[c[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=r.stringify);var t,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var o=i+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},h.extractProtocol=u,h.location=c,h.qs=r,e.exports=h}).call(t,n(59))},function(e,t,n){"use strict";var i=n(66),r=n(20),o=n.n(r);t.a={props:{name:{type:String,required:!0},currentShow:{type:Boolean,required:!0},connection:{type:String,default:""}},watch:{currentShow(){this.setDisplayRect()}},mounted(){this.$nextTick(()=>{this.initRfb(),this.bindRfbEvents(),this.bindWindowEvents(),this._bindResizeInterval()})},beforeDestroy(){this.rfb&&(this._removeWindowEvents(),this._removeResizeInterval(),this.rfb.disconnect(),this.rfb=null,this.$emit("on-vnc-disconnected",{id:this.name}))},data:()=>({interval:null,rfb:null,clipValue:"",emitDisconnect:!0}),methods:{_bindResizeInterval(){this.rfb&&setInterval(this.setDisplayRect,1e3)},_removeResizeInterval(){this.rfb&&clearInterval(this.setDisplayRect)},initRfb(){if(this.connection.length){const e=new o.a(this.connection);-1!==e.query.indexOf("password")?this.rfb=new i.a(this.$el,`ws://${e.hostname}:${e.port}${e.pathname}`,{credentials:{password:this.getQueryObj(e.query).password}}):this.rfb=new i.a(this.$el,this.connection)}},getQueryObj(e){const t={};return e.substring(1).split("&").forEach(e=>{t[e.split("=")[0]]=e.split("=")[1]}),t},bindWindowEvents(){window.addEventListener("resize",this.setDisplayRect),window.addEventListener("keydown",this._onKeydown)},_removeWindowEvents(){window.removeEventListener("resize",this.setDisplayRect),window.removeEventListener("keydown",this._onKeydown)},bindRfbEvents(){this.rfb&&(this.rfb.addEventListener("connect",()=>{this.rfb.scaleViewport=!0,this.setDisplayRect(),this.$el.querySelector("canvas")&&this.$el.querySelector("canvas").addEventListener("keydown",this._onKeydown),this.$emit("on-vnc-connected",{id:this.name})}),this.rfb.addEventListener("disconnect",()=>{if(!this.emitDisconnect)return;this.emitDisconnect=!1;const e=setTimeout(()=>{this.emitDisconnect=!0,clearTimeout(e)},1e3);this.$el.querySelector("canvas")&&this.$el.querySelector("canvas").removeEventListener("keydown",this._onKeydown),this.$emit("on-vnc-disconnected",{id:this.name})}),this.rfb.addEventListener("clipboard",({detail:e})=>{this.clipValue=e.text}))},sendCtrlAltDel(){this.rfb&&this.rfb.sendCtrlAltDel()},setDisplayRect(){if(!this.currentShow||!this.rfb)return;const e=document.querySelector(".vm-panel").offsetWidth,t=document.querySelector(".vm-panel").offsetHeight,n=this.rfb._display.width,i=this.rfb._display.height;this.rfb._display.scale=e/n>=t/i?t/i:e/n},_onKeydown(e){if("c"===e.key&&e.ctrlKey){const e=this.$el.querySelector(".clip-area");e.focus(),e.select(),document.execCommand("copy"),this.rfb.focus()}},setFocus(){}}}},function(e,t,n){"use strict";t.a=function(e){return e.changedTouches?e.changedTouches[0]:e.touches?e.touches[0]:e},t.c=function(e){e.stopPropagation(),e.preventDefault()},t.b=function(e){if(e.setCapture)e.setCapture(),e.addEventListener("mouseup",c);else{c();var t=document.getElementById("noVNC_mouse_capture_elem");null===t&&((t=document.createElement("div")).id="noVNC_mouse_capture_elem",t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.width="100%",t.style.height="100%",t.style.zIndex=1e4,t.style.display="none",document.body.appendChild(t),t.addEventListener("contextmenu",o),t.addEventListener("mousemove",o),t.addEventListener("mouseup",o)),r=e,l++,a.observe(e,{attributes:!0}),s(),t.style.display="",window.addEventListener("mousemove",o),window.addEventListener("mouseup",o)}};var i=!1,r=null;function o(e){if(!i){var t=new e.constructor(e.type,e);i=!0,r.dispatchEvent(t),i=!1,e.stopPropagation(),t.defaultPrevented&&e.preventDefault(),"mouseup"===e.type&&c()}}function s(){document.getElementById("noVNC_mouse_capture_elem").style.cursor=window.getComputedStyle(r).cursor}var a=new MutationObserver(s),l=0;function c(){if(document.releaseCapture)document.releaseCapture();else{if(!r)return;window.setTimeout(function(e){l===e&&(r=null)},0,l),a.disconnect(),document.getElementById("noVNC_mouse_capture_elem").style.display="none",window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",o)}}},function(e,t,n){"use strict";t.d=function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},n.d(t,"c",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var i=Uint8Array,r=Uint16Array,o=Int32Array},function(e,t,n){e.exports=n(25)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(26);t.default=i.a},function(e,t,n){"use strict";var i=n(11),r=n(91),o=n(8)(i.a,r.a,!1,function(e){n(27)},"data-v-78f81f24",null);o.options.__file="src/VmPanel.vue",t.a=o.exports},function(e,t,n){var i=n(28);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(4)("fd5899a6",i,!1,{})},function(e,t,n){(e.exports=n(3)()).push([e.i,"\n.vm-panel[data-v-78f81f24] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n",""])},function(e,t){e.exports=function(e,t){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],s=o[0],a={id:e+":"+r,css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}},function(e,t,n){"use strict";var i=n(12),r=n(62),o=n(8)(i.a,r.a,!1,function(e){n(31),n(34)},"data-v-238b93d7",null);o.options.__file="src/components/Console.vue",t.a=o.exports},function(e,t,n){var i=n(32);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(4)("e9f646f6",i,!1,{})},function(e,t,n){(t=e.exports=n(3)()).i(n(33),""),t.push([e.i,"\n.xterm .xterm-viewport {\n  overflow-y: auto;\n}\n.xterm {\n  position: absolute;\n}\n",""])},function(e,t,n){(e.exports=n(3)()).push([e.i,'/**\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n * @license MIT\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author\'s permission):\n *   Fabrice Bellard\'s javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */\n\n/**\n *  Default styles for xterm.js\n */\n\n.xterm {\n    font-family: courier-new, courier, monospace;\n    font-feature-settings: "liga" 0;\n    position: relative;\n    user-select: none;\n    -ms-user-select: none;\n    -webkit-user-select: none;\n}\n\n.xterm.focus,\n.xterm:focus {\n    outline: none;\n}\n\n.xterm .xterm-helpers {\n    position: absolute;\n    top: 0;\n    /**\n     * The z-index of the helpers must be higher than the canvases in order for\n     * IMEs to appear on top.\n     */\n    z-index: 10;\n}\n\n.xterm .xterm-helper-textarea {\n    /*\n     * HACK: to fix IE\'s blinking cursor\n     * Move textarea out of the screen to the far left, so that the cursor is not visible.\n     */\n    position: absolute;\n    opacity: 0;\n    left: -9999em;\n    top: 0;\n    width: 0;\n    height: 0;\n    z-index: -10;\n    /** Prevent wrapping so the IME appears against the textarea at the correct position */\n    white-space: nowrap;\n    overflow: hidden;\n    resize: none;\n}\n\n.xterm .composition-view {\n    /* TODO: Composition position got messed up somewhere */\n    background: #000;\n    color: #FFF;\n    display: none;\n    position: absolute;\n    white-space: nowrap;\n    z-index: 1;\n}\n\n.xterm .composition-view.active {\n    display: block;\n}\n\n.xterm .xterm-viewport {\n    /* On OS X this is required in order for the scroll bar to appear fully opaque */\n    background-color: #000;\n    overflow-y: scroll;\n}\n\n.xterm canvas {\n    position: absolute;\n    left: 0;\n    top: 0;\n}\n\n.xterm .xterm-scroll-area {\n    visibility: hidden;\n}\n\n.xterm .xterm-char-measure-element {\n    display: inline-block;\n    visibility: hidden;\n    position: absolute;\n    left: -9999em;\n}\n\n.xterm.enable-mouse-events {\n    /* When mouse events are enabled (eg. tmux), revert to the standard pointer cursor */\n    cursor: default;\n}\n\n.xterm:not(.enable-mouse-events) {\n    cursor: text;\n}\n',""])},function(e,t,n){var i=n(35);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(4)("edaef91a",i,!1,{})},function(e,t,n){(e.exports=n(3)()).push([e.i,"\n.console-components[data-v-238b93d7] {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n",""])},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),s=n(0),a=n(39),l=n(1),c=n(40),u=n(41),h=n(9),d=n(42),f=n(44),p=n(45),m=n(52),g=n(53),v=n(55),y=n(10),b=n(19),_=n(56),x=n(16),w=n(18),S=n(15),C="undefined"!=typeof window?window.document:null,k={cols:80,rows:24,convertEol:!1,termName:"xterm",cursorBlink:!1,cursorStyle:"block",bellSound:_.BellSound,bellStyle:"none",enableBold:!0,fontFamily:"courier-new, courier, monospace",fontSize:15,lineHeight:1,letterSpacing:0,scrollback:1e3,screenKeys:!1,debug:!1,cancelEvents:!1,disableStdin:!1,useFlowControl:!1,tabStopWidth:8,theme:null},E=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.browser=y,n.options=t,n.setup(),n}return r(t,e),t.prototype.setup=function(){var e=this;Object.keys(k).forEach(function(t){null==e.options[t]&&(e.options[t]=k[t]),e[t]=e.options[t]}),this.parent=C?C.body:null,this.cols=this.options.cols,this.rows=this.options.rows,this.options.handler&&this.on("data",this.options.handler),this.cursorState=0,this.cursorHidden=!1,this.sendDataQueue="",this.customKeyEventHandler=null,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!0,this.bracketedPasteMode=!1,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.readable=!0,this.writable=!0,this.defAttr=131840,this.curAttr=131840,this.params=[],this.currentParam=0,this.prefix="",this.postfix="",this.writeBuffer=[],this.writeInProgress=!1,this.xoffSentToCatchUp=!1,this.writeStopped=!1,this.surrogate_high="",this.userScrolling=!1,this.inputHandler=new d.InputHandler(this),this.parser=new f.Parser(this.inputHandler,this),this.renderer=this.renderer||null,this.selectionManager=this.selectionManager||null,this.linkifier=this.linkifier||new m.Linkifier(this),this._mouseZoneManager=this._mouseZoneManager||null,this.buffers=new o.BufferSet(this),this.buffer=this.buffers.active,this.buffers.on("activate",function(t){e.buffer=t}),this.selectionManager&&this.selectionManager.setBuffer(this.buffer)},t.prototype.eraseAttr=function(){return-512&this.defAttr|511&this.curAttr},t.prototype.focus=function(){this.textarea&&this.textarea.focus()},Object.defineProperty(t.prototype,"isFocused",{get:function(){return C.activeElement===this.textarea},enumerable:!0,configurable:!0}),t.prototype.getOption=function(e){if(!(e in k))throw new Error('No option with key "'+e+'"');return void 0!==this.options[e]?this.options[e]:this[e]},t.prototype.setOption=function(e,t){if(!(e in k))throw new Error('No option with key "'+e+'"');switch(e){case"bellStyle":t||(t="none");break;case"cursorStyle":t||(t="block");break;case"lineHeight":if(t<1)return void console.warn(e+" cannot be less than 1, value: "+t);case"tabStopWidth":if(t<1)return void console.warn(e+" cannot be less than 1, value: "+t);break;case"theme":if(this.renderer)return void this._setTheme(t);break;case"scrollback":if((t=Math.min(t,s.MAX_BUFFER_SIZE))<0)return void console.warn(e+" cannot be less than 0, value: "+t);if(this.options[e]!==t){var n=this.rows+t;if(this.buffer.lines.length>n){var i=this.buffer.lines.length-n,r=this.buffer.ydisp-i<0;this.buffer.lines.trimStart(i),this.buffer.ybase=Math.max(this.buffer.ybase-i,0),this.buffer.ydisp=Math.max(this.buffer.ydisp-i,0),r&&this.refresh(0,this.rows-1)}}}switch(this[e]=t,this.options[e]=t,e){case"fontFamily":case"fontSize":this.renderer.clear(),this.charMeasure.measure(this.options);break;case"enableBold":case"letterSpacing":case"lineHeight":this.renderer.clear(),this.renderer.onResize(this.cols,this.rows,!1),this.refresh(0,this.rows-1);case"scrollback":this.buffers.resize(this.cols,this.rows),this.viewport.syncScrollArea();break;case"tabStopWidth":this.buffers.setupTabStops();break;case"bellSound":case"bellStyle":this.syncBellSound()}this.renderer&&this.renderer.onOptionsChanged()},t.prototype._onTextAreaFocus=function(){this.sendFocus&&this.send(h.C0.ESC+"[I"),this.element.classList.add("focus"),this.showCursor(),this.emit("focus")},t.prototype.blur=function(){return this.textarea.blur()},t.prototype._onTextAreaBlur=function(){this.refresh(this.buffer.y,this.buffer.y),this.sendFocus&&this.send(h.C0.ESC+"[O"),this.element.classList.remove("focus"),this.emit("blur")},t.prototype.initGlobal=function(){var e=this;this.bindKeys(),M(this.element,"copy",function(t){e.hasSelection()&&u.copyHandler(t,e,e.selectionManager)});var t=function(t){return u.pasteHandler(t,e)};M(this.textarea,"paste",t),M(this.element,"paste",t),y.isFirefox?M(this.element,"mousedown",function(t){2===t.button&&u.rightClickHandler(t,e.textarea,e.selectionManager)}):M(this.element,"contextmenu",function(t){u.rightClickHandler(t,e.textarea,e.selectionManager)}),y.isLinux&&M(this.element,"auxclick",function(t){1===t.button&&u.moveTextAreaUnderMouseCursor(t,e.textarea)})},t.prototype.bindKeys=function(){var e=this,t=this;M(this.element,"keydown",function(e){C.activeElement===this&&t._keyDown(e)},!0),M(this.element,"keypress",function(e){C.activeElement===this&&t._keyPress(e)},!0),M(this.element,"keyup",function(t){(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode})(t)||e.focus()},!0),M(this.textarea,"keydown",function(t){e._keyDown(t)},!0),M(this.textarea,"keypress",function(t){e._keyPress(t),e.textarea.value=""},!0),M(this.textarea,"compositionstart",function(){return e.compositionHelper.compositionstart()}),M(this.textarea,"compositionupdate",function(t){return e.compositionHelper.compositionupdate(t)}),M(this.textarea,"compositionend",function(){return e.compositionHelper.compositionend()}),this.on("refresh",function(){return e.compositionHelper.updateCompositionElements()}),this.on("refresh",function(t){return e.queueLinkification(t.start,t.end)})},t.prototype.open=function(e){var t=this;if(this.parent=e||this.parent,!this.parent)throw new Error("Terminal requires a parent element.");this.context=this.parent.ownerDocument.defaultView,this.document=this.parent.ownerDocument,this.body=this.document.body,S.initialize(this.document),this.element=this.document.createElement("div"),this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),this.parent.appendChild(this.element);var n=C.createDocumentFragment();this.viewportElement=C.createElement("div"),this.viewportElement.classList.add("xterm-viewport"),n.appendChild(this.viewportElement),this.viewportScrollArea=C.createElement("div"),this.viewportScrollArea.classList.add("xterm-scroll-area"),this.viewportElement.appendChild(this.viewportScrollArea),this._mouseZoneManager=new w.MouseZoneManager(this),this.on("scroll",function(){return t._mouseZoneManager.clearAll()}),this.linkifier.attachToDom(this._mouseZoneManager),this.helperContainer=C.createElement("div"),this.helperContainer.classList.add("xterm-helpers"),n.appendChild(this.helperContainer),this.textarea=C.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.textarea.addEventListener("focus",function(){return t._onTextAreaFocus()}),this.textarea.addEventListener("blur",function(){return t._onTextAreaBlur()}),this.helperContainer.appendChild(this.textarea),this.compositionView=C.createElement("div"),this.compositionView.classList.add("composition-view"),this.compositionHelper=new a.CompositionHelper(this.textarea,this.compositionView,this),this.helperContainer.appendChild(this.compositionView),this.charSizeStyleElement=C.createElement("style"),this.helperContainer.appendChild(this.charSizeStyleElement),this.charMeasure=new v.CharMeasure(C,this.helperContainer),this.syncBellSound(),this.element.appendChild(n),this.renderer=new p.Renderer(this,this.options.theme),this.options.theme=null,this.viewport=new c.Viewport(this,this.viewportElement,this.viewportScrollArea,this.charMeasure),this.viewport.onThemeChanged(this.renderer.colorManager.colors),this.on("cursormove",function(){return t.renderer.onCursorMove()}),this.on("resize",function(){return t.renderer.onResize(t.cols,t.rows,!1)}),this.on("blur",function(){return t.renderer.onBlur()}),this.on("focus",function(){return t.renderer.onFocus()}),window.addEventListener("resize",function(){return t.renderer.onWindowResize(window.devicePixelRatio)}),this.charMeasure.on("charsizechanged",function(){return t.renderer.onResize(t.cols,t.rows,!0)}),this.renderer.on("resize",function(e){return t.viewport.syncScrollArea()}),this.selectionManager=new g.SelectionManager(this,this.buffer,this.charMeasure),this.element.addEventListener("mousedown",function(e){return t.selectionManager.onMouseDown(e)}),this.selectionManager.on("refresh",function(e){return t.renderer.onSelectionChanged(e.start,e.end)}),this.selectionManager.on("newselection",function(e){t.textarea.value=e,t.textarea.focus(),t.textarea.select()}),this.on("scroll",function(){t.viewport.syncScrollArea(),t.selectionManager.refresh()}),this.viewportElement.addEventListener("scroll",function(){return t.selectionManager.refresh()}),this.mouseHelper=new b.MouseHelper(this.renderer),this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this.initGlobal(),this.bindMouse()},t.prototype._setTheme=function(e){var t=this.renderer.setTheme(e);this.viewport&&this.viewport.onThemeChanged(t)},t.applyAddon=function(e){e.apply(t)},t.prototype.bindMouse=function(){var e=this,t=this.element,n=this,i=32;function r(e){var t,r;if(t=function(e){var t,i,r;switch(e.overrideType||e.type){case"mousedown":t=null!=e.button?+e.button:null!=e.which?e.which-1:null,y.isMSIE&&(t=1===t?0:4===t?1:t);break;case"mouseup":t=3;break;case"DOMMouseScroll":t=e.detail<0?64:65;break;case"wheel":t=e.wheelDeltaY>0?64:65}return r=(e.shiftKey?4:0)|(e.metaKey?8:0)|(i=e.ctrlKey?16:0),n.vt200Mouse?r&=i:n.normalMouse||(r=0),32+(r<<2)+t}(e),r=n.mouseHelper.getRawByteCoords(e,n.element,n.charMeasure,n.options.lineHeight,n.cols,n.rows))switch(a(t,r),e.overrideType||e.type){case"mousedown":i=t;break;case"mouseup":i=32}}function o(e){var t=i,r=n.mouseHelper.getRawByteCoords(e,n.element,n.charMeasure,n.options.lineHeight,n.cols,n.rows);r&&a(t+=32,r)}function s(e,t){if(n.utfMouse){if(2047===t)return void e.push(0);t<127?e.push(t):(t>2047&&(t=2047),e.push(192|t>>6),e.push(128|63&t))}else{if(255===t)return void e.push(0);t>127&&(t=127),e.push(t)}}function a(e,t){if(n.vt300Mouse){e&=3,t.x-=32,t.y-=32;var i=h.C0.ESC+"[24";if(0===e)i+="1";else if(1===e)i+="3";else if(2===e)i+="5";else{if(3===e)return;i+="0"}return i+="~["+t.x+","+t.y+"]\r",void n.send(i)}if(n.decLocator)return e&=3,t.x-=32,t.y-=32,0===e?e=2:1===e?e=4:2===e?e=6:3===e&&(e=3),void n.send(h.C0.ESC+"["+e+";"+(3===e?4:0)+";"+t.y+";"+t.x+";"+t.page||"0&w");if(n.urxvtMouse)return t.x-=32,t.y-=32,t.x++,t.y++,void n.send(h.C0.ESC+"["+e+";"+t.x+";"+t.y+"M");if(n.sgrMouse)return t.x-=32,t.y-=32,void n.send(h.C0.ESC+"[<"+((3==(3&e)?-4&e:e)-32)+";"+t.x+";"+t.y+(3==(3&e)?"m":"M"));var r=[];s(r,e),s(r,t.x),s(r,t.y),n.send(h.C0.ESC+"[M"+String.fromCharCode.apply(String,r))}M(t,"mousedown",function(t){if(t.preventDefault(),e.focus(),e.mouseEvents&&!e.selectionManager.shouldForceSelection(t)){if(r(t),e.vt200Mouse)return t.overrideType="mouseup",r(t),e.cancel(t);if(e.normalMouse&&M(e.document,"mousemove",o),!e.x10Mouse){var n=function(t){return r(t),e.normalMouse&&A(e.document,"mousemove",o),A(e.document,"mouseup",n),e.cancel(t)};M(e.document,"mouseup",n)}return e.cancel(t)}}),M(t,"wheel",function(t){e.mouseEvents&&(e.x10Mouse||e.vt300Mouse||e.decLocator||(r(t),t.preventDefault()))}),M(t,"wheel",function(t){if(!e.mouseEvents)return e.viewport.onWheel(t),e.cancel(t)}),M(t,"touchstart",function(t){if(!e.mouseEvents)return e.viewport.onTouchStart(t),e.cancel(t)}),M(t,"touchmove",function(t){if(!e.mouseEvents)return e.viewport.onTouchMove(t),e.cancel(t)})},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.readable=!1,this.writable=!1,this.handler=function(){},this.write=function(){},this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},t.prototype.refresh=function(e,t){this.renderer&&this.renderer.queueRefresh(e,t)},t.prototype.queueLinkification=function(e,t){this.linkifier&&this.linkifier.linkifyRows(e,t)},t.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.buffer.y,this.buffer.y))},t.prototype.scroll=function(e){var t=this.blankLine(void 0,e),n=this.buffer.ybase+this.buffer.scrollTop,i=this.buffer.ybase+this.buffer.scrollBottom;if(0===this.buffer.scrollTop){var r=this.buffer.lines.length===this.buffer.lines.maxLength;i===this.buffer.lines.length-1?this.buffer.lines.push(t):this.buffer.lines.splice(i+1,0,t),r?this.userScrolling&&(this.buffer.ydisp=Math.max(this.buffer.ydisp-1,0)):(this.buffer.ybase++,this.userScrolling||this.buffer.ydisp++)}else{var o=i-n+1;this.buffer.lines.shiftElements(n+1,o-1,-1),this.buffer.lines.set(i,t)}this.userScrolling||(this.buffer.ydisp=this.buffer.ybase),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom),this.emit("scroll",this.buffer.ydisp)},t.prototype.scrollLines=function(e,t){if(e<0){if(0===this.buffer.ydisp)return;this.userScrolling=!0}else e+this.buffer.ydisp>=this.buffer.ybase&&(this.userScrolling=!1);var n=this.buffer.ydisp;this.buffer.ydisp=Math.max(Math.min(this.buffer.ydisp+e,this.buffer.ybase),0),n!==this.buffer.ydisp&&(t||this.emit("scroll",this.buffer.ydisp),this.refresh(0,this.rows-1))},t.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},t.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},t.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},t.prototype.write=function(e){var t=this;this.writeBuffer.push(e),this.options.useFlowControl&&!this.xoffSentToCatchUp&&this.writeBuffer.length>=5&&(this.send(h.C0.DC3),this.xoffSentToCatchUp=!0),!this.writeInProgress&&this.writeBuffer.length>0&&(this.writeInProgress=!0,setTimeout(function(){t.innerWrite()}))},t.prototype.innerWrite=function(){for(var e=this,t=this.writeBuffer.splice(0,300);t.length>0;){var n=t.shift();this.xoffSentToCatchUp&&0===t.length&&0===this.writeBuffer.length&&(this.send(h.C0.DC1),this.xoffSentToCatchUp=!1),this.refreshStart=this.buffer.y,this.refreshEnd=this.buffer.y;var i=this.parser.parse(n);this.parser.setState(i),this.updateRange(this.buffer.y),this.refresh(this.refreshStart,this.refreshEnd)}this.writeBuffer.length>0?setTimeout(function(){return e.innerWrite()},0):this.writeInProgress=!1},t.prototype.writeln=function(e){this.write(e+"\r\n")},t.prototype.attachCustomKeyEventHandler=function(e){this.customKeyEventHandler=e},t.prototype.setHypertextLinkHandler=function(e){if(!this.linkifier)throw new Error("Cannot attach a hypertext link handler before Terminal.open is called");this.linkifier.setHypertextLinkHandler(e),this.refresh(0,this.rows-1)},t.prototype.setHypertextValidationCallback=function(e){if(!this.linkifier)throw new Error("Cannot attach a hypertext validation callback before Terminal.open is called");this.linkifier.setHypertextValidationCallback(e),this.refresh(0,this.rows-1)},t.prototype.registerLinkMatcher=function(e,t,n){if(this.linkifier){var i=this.linkifier.registerLinkMatcher(e,t,n);return this.refresh(0,this.rows-1),i}return 0},t.prototype.deregisterLinkMatcher=function(e){this.linkifier&&this.linkifier.deregisterLinkMatcher(e)&&this.refresh(0,this.rows-1)},t.prototype.hasSelection=function(){return!!this.selectionManager&&this.selectionManager.hasSelection},t.prototype.getSelection=function(){return this.selectionManager?this.selectionManager.selectionText:""},t.prototype.clearSelection=function(){this.selectionManager&&this.selectionManager.clearSelection()},t.prototype.selectAll=function(){this.selectionManager&&this.selectionManager.selectAll()},t.prototype._keyDown=function(e){if(this.customKeyEventHandler&&!1===this.customKeyEventHandler(e))return!1;if(!this.compositionHelper.keydown(e))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var t=this._evaluateKeyEscapeSequence(e);return t.key===h.C0.DC3?this.writeStopped=!0:t.key===h.C0.DC1&&(this.writeStopped=!1),t.scrollLines?(this.scrollLines(t.scrollLines),this.cancel(e,!0)):!!T(this.browser,e)||(t.cancel&&this.cancel(e,!0),!t.key||(this.emit("keydown",e),this.emit("key",t.key,e),this.showCursor(),this.handler(t.key),this.cancel(e,!0)))},t.prototype._evaluateKeyEscapeSequence=function(e){var t={cancel:!1,key:void 0,scrollLines:void 0},n=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?this.applicationCursor?t.key=h.C0.ESC+"OA":t.key=h.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?this.applicationCursor?t.key=h.C0.ESC+"OD":t.key=h.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?this.applicationCursor?t.key=h.C0.ESC+"OC":t.key=h.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(this.applicationCursor?t.key=h.C0.ESC+"OB":t.key=h.C0.ESC+"[B");break;case 8:if(e.shiftKey){t.key=h.C0.BS;break}t.key=h.C0.DEL;break;case 9:if(e.shiftKey){t.key=h.C0.ESC+"[Z";break}t.key=h.C0.HT,t.cancel=!0;break;case 13:t.key=h.C0.CR,t.cancel=!0;break;case 27:t.key=h.C0.ESC,t.cancel=!0;break;case 37:n?(t.key=h.C0.ESC+"[1;"+(n+1)+"D",t.key===h.C0.ESC+"[1;3D"&&(t.key=this.browser.isMac?h.C0.ESC+"b":h.C0.ESC+"[1;5D")):this.applicationCursor?t.key=h.C0.ESC+"OD":t.key=h.C0.ESC+"[D";break;case 39:n?(t.key=h.C0.ESC+"[1;"+(n+1)+"C",t.key===h.C0.ESC+"[1;3C"&&(t.key=this.browser.isMac?h.C0.ESC+"f":h.C0.ESC+"[1;5C")):this.applicationCursor?t.key=h.C0.ESC+"OC":t.key=h.C0.ESC+"[C";break;case 38:n?(t.key=h.C0.ESC+"[1;"+(n+1)+"A",t.key===h.C0.ESC+"[1;3A"&&(t.key=h.C0.ESC+"[1;5A")):this.applicationCursor?t.key=h.C0.ESC+"OA":t.key=h.C0.ESC+"[A";break;case 40:n?(t.key=h.C0.ESC+"[1;"+(n+1)+"B",t.key===h.C0.ESC+"[1;3B"&&(t.key=h.C0.ESC+"[1;5B")):this.applicationCursor?t.key=h.C0.ESC+"OB":t.key=h.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(t.key=h.C0.ESC+"[2~");break;case 46:t.key=n?h.C0.ESC+"[3;"+(n+1)+"~":h.C0.ESC+"[3~";break;case 36:n?t.key=h.C0.ESC+"[1;"+(n+1)+"H":this.applicationCursor?t.key=h.C0.ESC+"OH":t.key=h.C0.ESC+"[H";break;case 35:n?t.key=h.C0.ESC+"[1;"+(n+1)+"F":this.applicationCursor?t.key=h.C0.ESC+"OF":t.key=h.C0.ESC+"[F";break;case 33:e.shiftKey?t.scrollLines=-(this.rows-1):t.key=h.C0.ESC+"[5~";break;case 34:e.shiftKey?t.scrollLines=this.rows-1:t.key=h.C0.ESC+"[6~";break;case 112:t.key=n?h.C0.ESC+"[1;"+(n+1)+"P":h.C0.ESC+"OP";break;case 113:t.key=n?h.C0.ESC+"[1;"+(n+1)+"Q":h.C0.ESC+"OQ";break;case 114:t.key=n?h.C0.ESC+"[1;"+(n+1)+"R":h.C0.ESC+"OR";break;case 115:t.key=n?h.C0.ESC+"[1;"+(n+1)+"S":h.C0.ESC+"OS";break;case 116:t.key=n?h.C0.ESC+"[15;"+(n+1)+"~":h.C0.ESC+"[15~";break;case 117:t.key=n?h.C0.ESC+"[17;"+(n+1)+"~":h.C0.ESC+"[17~";break;case 118:t.key=n?h.C0.ESC+"[18;"+(n+1)+"~":h.C0.ESC+"[18~";break;case 119:t.key=n?h.C0.ESC+"[19;"+(n+1)+"~":h.C0.ESC+"[19~";break;case 120:t.key=n?h.C0.ESC+"[20;"+(n+1)+"~":h.C0.ESC+"[20~";break;case 121:t.key=n?h.C0.ESC+"[21;"+(n+1)+"~":h.C0.ESC+"[21~";break;case 122:t.key=n?h.C0.ESC+"[23;"+(n+1)+"~":h.C0.ESC+"[23~";break;case 123:t.key=n?h.C0.ESC+"[24;"+(n+1)+"~":h.C0.ESC+"[24~";break;default:!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?this.browser.isMac||!e.altKey||e.ctrlKey||e.metaKey?this.browser.isMac&&!e.altKey&&!e.ctrlKey&&e.metaKey&&65===e.keyCode&&this.selectAll():e.keyCode>=65&&e.keyCode<=90?t.key=h.C0.ESC+String.fromCharCode(e.keyCode+32):192===e.keyCode?t.key=h.C0.ESC+"`":e.keyCode>=48&&e.keyCode<=57&&(t.key=h.C0.ESC+(e.keyCode-48)):e.keyCode>=65&&e.keyCode<=90?t.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?t.key=String.fromCharCode(0):e.keyCode>=51&&e.keyCode<=55?t.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?t.key=String.fromCharCode(127):219===e.keyCode?t.key=String.fromCharCode(27):220===e.keyCode?t.key=String.fromCharCode(28):221===e.keyCode&&(t.key=String.fromCharCode(29))}return t},t.prototype.setgLevel=function(e){this.glevel=e,this.charset=this.charsets[e]},t.prototype.setgCharset=function(e,t){this.charsets[e]=t,this.glevel===e&&(this.charset=t)},t.prototype._keyPress=function(e){var t;if(this.customKeyEventHandler&&!1===this.customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null==e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!T(this.browser,e)||(t=String.fromCharCode(t),this.emit("keypress",t,e),this.emit("key",t,e),this.showCursor(),this.handler(t),0))},t.prototype.send=function(e){var t=this;this.sendDataQueue||setTimeout(function(){t.handler(t.sendDataQueue),t.sendDataQueue=""},1),this.sendDataQueue+=e},t.prototype.bell=function(){var e=this;this.emit("bell"),this.soundBell()&&this.bellAudioElement.play(),this.visualBell()&&(this.element.classList.add("visual-bell-active"),clearTimeout(this.visualBellTimer),this.visualBellTimer=window.setTimeout(function(){e.element.classList.remove("visual-bell-active")},200))},t.prototype.log=function(e,t){this.options.debug&&this.context.console&&this.context.console.log&&this.context.console.log(e,t)},t.prototype.error=function(e,t){this.options.debug&&this.context.console&&this.context.console.error&&this.context.console.error(e,t)},t.prototype.resize=function(e,t){isNaN(e)||isNaN(t)||(e!==this.cols||t!==this.rows?(e<1&&(e=1),t<1&&(t=1),this.buffers.resize(e,t),this.cols=e,this.rows=t,this.buffers.setupTabStops(this.cols),this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this.emit("resize",{cols:e,rows:t})):this.charMeasure.width&&this.charMeasure.height||this.charMeasure.measure(this.options))},t.prototype.updateRange=function(e){e<this.refreshStart&&(this.refreshStart=e),e>this.refreshEnd&&(this.refreshEnd=e)},t.prototype.maxRange=function(){this.refreshStart=0,this.refreshEnd=this.rows-1},t.prototype.eraseRight=function(e,t){var n=this.buffer.lines.get(this.buffer.ybase+t);if(n){for(var i=[this.eraseAttr()," ",1,32];e<this.cols;e++)n[e]=i;this.updateRange(t)}},t.prototype.eraseLeft=function(e,t){var n=this.buffer.lines.get(this.buffer.ybase+t);if(n){var i=[this.eraseAttr()," ",1,32];for(e++;e--;)n[e]=i;this.updateRange(t)}},t.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var e=1;e<this.rows;e++)this.buffer.lines.push(this.blankLine());this.refresh(0,this.rows-1),this.emit("scroll",this.buffer.ydisp)}},t.prototype.eraseLine=function(e){this.eraseRight(0,e)},t.prototype.blankLine=function(e,t,n){var i=[e?this.eraseAttr():this.defAttr," ",1,32],r=[];t&&(r.isWrapped=t),n=n||this.cols;for(var o=0;o<n;o++)r[o]=i;return r},t.prototype.ch=function(e){return e?[this.eraseAttr()," ",1,32]:[this.defAttr," ",1,32]},t.prototype.is=function(e){return 0===(this.options.termName+"").indexOf(e)},t.prototype.handler=function(e){this.options.disableStdin||(this.selectionManager&&this.selectionManager.hasSelection&&this.selectionManager.clearSelection(),this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),this.emit("data",e))},t.prototype.handleTitle=function(e){this.emit("title",e)},t.prototype.index=function(){this.buffer.y++,this.buffer.y>this.buffer.scrollBottom&&(this.buffer.y--,this.scroll()),this.buffer.x>=this.cols&&this.buffer.x--},t.prototype.reverseIndex=function(){if(this.buffer.y===this.buffer.scrollTop){var e=this.buffer.scrollBottom-this.buffer.scrollTop;this.buffer.lines.shiftElements(this.buffer.y+this.buffer.ybase,e,1),this.buffer.lines.set(this.buffer.y+this.buffer.ybase,this.blankLine(!0)),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom)}else this.buffer.y--},t.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols;var e=this.customKeyEventHandler,t=this.inputHandler,n=this.buffers;this.setup(),this.customKeyEventHandler=e,this.inputHandler=t,this.buffers=n,this.refresh(0,this.rows-1),this.viewport.syncScrollArea()},t.prototype.tabSet=function(){this.buffer.tabs[this.buffer.x]=!0},t.prototype.cancel=function(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1},t.prototype.matchColor=function(e,t,n){return function(e,t,n){var i=e<<16|t<<8|n;if(null!=D[i])return D[i];for(var r,o,s=1/0,a=-1,l=0;l<L.length;l++){if(0===(o=I(e,t,n,(r=L[l])[0],r[1],r[2]))){a=l;break}o<s&&(s=o,a=l)}return D[i]=a}(e,t,n)},t.prototype.visualBell=function(){return"visual"===this.options.bellStyle||"both"===this.options.bellStyle},t.prototype.soundBell=function(){return"sound"===this.options.bellStyle||"both"===this.options.bellStyle},t.prototype.syncBellSound=function(){this.element&&(this.soundBell()&&this.bellAudioElement?this.bellAudioElement.setAttribute("src",this.options.bellSound):this.soundBell()?(this.bellAudioElement=C.createElement("audio"),this.bellAudioElement.setAttribute("preload","auto"),this.bellAudioElement.setAttribute("src",this.options.bellSound),this.helperContainer.appendChild(this.bellAudioElement)):this.bellAudioElement&&this.helperContainer.removeChild(this.bellAudioElement))},t}(l.EventEmitter);t.Terminal=E;var M=function(e,t,n,i){Array.isArray(e)||(e=[e]),e.forEach(function(e){e.addEventListener(t,n,i||!1)})};function A(e,t,n,i){void 0===i&&(i=!1),e.removeEventListener(t,n,i)}function T(e,t){var n=e.isMac&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isMSWindows&&t.altKey&&t.ctrlKey&&!t.metaKey;return"keypress"===t.type?n:n&&(!t.keyCode||t.keyCode>47)}var L=function(){for(var e,t=x.DEFAULT_ANSI_COLORS.map(function(e){return e=e.substring(1),[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]}),n=[0,95,135,175,215,255],i=0;i<216;i++)t.push([n[i/36%6|0],n[i/6%6|0],n[i%6]]);for(i=0;i<24;i++)e=8+10*i,t.push([e,e,e]);return t}(),D={};function I(e,t,n,i,r,o){return Math.pow(30*(e-i),2)+Math.pow(59*(t-r),2)+Math.pow(11*(n-o),2)}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t){var n=e.call(this)||this;return n._terminal=t,n._normal=new o.Buffer(n._terminal,!0),n._normal.fillViewportRows(),n._alt=new o.Buffer(n._terminal,!1),n._activeBuffer=n._normal,n.setupTabStops(),n}return r(t,e),Object.defineProperty(t.prototype,"alt",{get:function(){return this._alt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"normal",{get:function(){return this._normal},enumerable:!0,configurable:!0}),t.prototype.activateNormalBuffer=function(){this._alt.clear(),this._activeBuffer=this._normal,this.emit("activate",this._normal)},t.prototype.activateAltBuffer=function(){this._alt.fillViewportRows(),this._activeBuffer=this._alt,this.emit("activate",this._alt)},t.prototype.resize=function(e,t){this._normal.resize(e,t),this._alt.resize(e,t)},t.prototype.setupTabStops=function(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)},t}(n(1).EventEmitter);t.BufferSet=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n._maxLength=t,n._array=new Array(n._maxLength),n._startIndex=0,n._length=0,n}return r(t,e),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){if(this._maxLength!==e){for(var t=new Array(e),n=0;n<Math.min(e,this.length);n++)t[n]=this._array[this._getCyclicIndex(n)];this._array=t,this._maxLength=e,this._startIndex=0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(e){if(e>this._length)for(var t=this._length;t<e;t++)this._array[t]=void 0;this._length=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"forEach",{get:function(){var e=this;return function(t){for(var n=e.length,i=0;i<n;i++)t(e.get(i),i)}},enumerable:!0,configurable:!0}),t.prototype.get=function(e){return this._array[this._getCyclicIndex(e)]},t.prototype.set=function(e,t){this._array[this._getCyclicIndex(e)]=t},t.prototype.push=function(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex++,this._startIndex===this._maxLength&&(this._startIndex=0),this.emit("trim",1)):this._length++},t.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},t.prototype.splice=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(t){for(var r=e;r<this._length-t;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+t)];this._length-=t}if(n&&n.length){for(r=this._length-1;r>=e;r--)this._array[this._getCyclicIndex(r+n.length)]=this._array[this._getCyclicIndex(r)];for(r=0;r<n.length;r++)this._array[this._getCyclicIndex(e+r)]=n[r];if(this._length+n.length>this.maxLength){var o=this._length+n.length-this.maxLength;this._startIndex+=o,this._length=this.maxLength,this.emit("trim",o)}else this._length+=n.length}},t.prototype.trimStart=function(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.emit("trim",e)},t.prototype.shiftElements=function(e,t,n){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+n<0)throw new Error("Cannot shift elements in list beyond index 0");if(n>0){for(var i=t-1;i>=0;i--)this.set(e+i+n,this.get(e+i));var r=e+t+n-this._length;if(r>0)for(this._length+=r;this._length>this.maxLength;)this._length--,this._startIndex++,this.emit("trim",1)}else for(i=0;i<t;i++)this.set(e+i+n,this.get(e+i))}},t.prototype._getCyclicIndex=function(e){return(this._startIndex+e)%this.maxLength},t}(n(1).EventEmitter);t.CircularList=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){this.textarea=e,this.compositionView=t,this.terminal=n,this.isComposing=!1,this.isSendingComposition=!1,this.compositionPosition={start:null,end:null}}return e.prototype.compositionstart=function(){this.isComposing=!0,this.compositionPosition.start=this.textarea.value.length,this.compositionView.textContent="",this.compositionView.classList.add("active")},e.prototype.compositionupdate=function(e){var t=this;this.compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout(function(){t.compositionPosition.end=t.textarea.value.length},0)},e.prototype.compositionend=function(){this.finalizeComposition(!0)},e.prototype.keydown=function(e){if(this.isComposing||this.isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this.finalizeComposition(!1)}return 229!==e.keyCode||(this.handleAnyTextareaChanges(),!1)},e.prototype.finalizeComposition=function(e){var t=this;if(this.compositionView.classList.remove("active"),this.isComposing=!1,this.clearTextareaPosition(),e){var n={start:this.compositionPosition.start,end:this.compositionPosition.end};this.isSendingComposition=!0,setTimeout(function(){if(t.isSendingComposition){t.isSendingComposition=!1;var e;e=t.isComposing?t.textarea.value.substring(n.start,n.end):t.textarea.value.substring(n.start),t.terminal.handler(e)}},0)}else{this.isSendingComposition=!1;var i=this.textarea.value.substring(this.compositionPosition.start,this.compositionPosition.end);this.terminal.handler(i)}},e.prototype.handleAnyTextareaChanges=function(){var e=this,t=this.textarea.value;setTimeout(function(){if(!e.isComposing){var n=e.textarea.value.replace(t,"");n.length>0&&e.terminal.handler(n)}},0)},e.prototype.updateCompositionElements=function(e){var t=this;if(this.isComposing){if(this.terminal.buffer.isCursorInViewport){var n=Math.ceil(this.terminal.charMeasure.height*this.terminal.options.lineHeight),i=this.terminal.buffer.y*n,r=this.terminal.buffer.x*this.terminal.charMeasure.width;this.compositionView.style.left=r+"px",this.compositionView.style.top=i+"px",this.compositionView.style.height=n+"px",this.compositionView.style.lineHeight=n+"px";var o=this.compositionView.getBoundingClientRect();this.textarea.style.left=r+"px",this.textarea.style.top=i+"px",this.textarea.style.width=o.width+"px",this.textarea.style.height=o.height+"px",this.textarea.style.lineHeight=o.height+"px"}e||setTimeout(function(){return t.updateCompositionElements(!0)},0)}},e.prototype.clearTextareaPosition=function(){this.textarea.style.left="",this.textarea.style.top=""},e}();t.CompositionHelper=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n,i){var r=this;this.terminal=e,this.viewportElement=t,this.scrollArea=n,this.charMeasure=i,this.currentRowHeight=0,this.lastRecordedBufferLength=0,this.lastRecordedViewportHeight=0,this.lastRecordedBufferHeight=0,this.viewportElement.addEventListener("scroll",this.onScroll.bind(this)),setTimeout(function(){return r.syncScrollArea()},0)}return e.prototype.onThemeChanged=function(e){this.viewportElement.style.backgroundColor=e.background},e.prototype.refresh=function(){if(this.charMeasure.height>0){this.currentRowHeight=this.terminal.renderer.dimensions.scaledCellHeight/window.devicePixelRatio,this.lastRecordedViewportHeight!==this.terminal.renderer.dimensions.canvasHeight&&(this.lastRecordedViewportHeight=this.terminal.renderer.dimensions.canvasHeight,this.viewportElement.style.height=this.lastRecordedViewportHeight+"px");var e=Math.round(this.currentRowHeight*this.lastRecordedBufferLength);this.lastRecordedBufferHeight!==e&&(this.lastRecordedBufferHeight=e,this.scrollArea.style.height=this.lastRecordedBufferHeight+"px")}},e.prototype.syncScrollArea=function(){this.lastRecordedBufferLength!==this.terminal.buffer.lines.length?(this.lastRecordedBufferLength=this.terminal.buffer.lines.length,this.refresh()):this.lastRecordedViewportHeight!==this.terminal.renderer.dimensions.canvasHeight?this.refresh():this.terminal.renderer.dimensions.scaledCellHeight/window.devicePixelRatio!==this.currentRowHeight&&this.refresh();var e=this.terminal.buffer.ydisp*this.currentRowHeight;this.viewportElement.scrollTop!==e&&(this.viewportElement.scrollTop=e)},e.prototype.onScroll=function(e){var t=Math.round(this.viewportElement.scrollTop/this.currentRowHeight)-this.terminal.buffer.ydisp;this.terminal.scrollLines(t,!0)},e.prototype.onWheel=function(e){if(0!==e.deltaY){var t=1;e.deltaMode===WheelEvent.DOM_DELTA_LINE?t=this.currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t=this.currentRowHeight*this.terminal.rows),this.viewportElement.scrollTop+=e.deltaY*t,e.preventDefault()}},e.prototype.onTouchStart=function(e){this.lastTouchY=e.touches[0].pageY},e.prototype.onTouchMove=function(e){var t=this.lastTouchY-e.touches[0].pageY;this.lastTouchY=e.touches[0].pageY,0!==t&&(this.viewportElement.scrollTop+=t,e.preventDefault())},e}();t.Viewport=i},function(e,t,n){"use strict";function i(e,t){return t?e.replace(/\r?\n/g,"\r"):e}function r(e,t){return t?"[200~"+e+"[201~":e}function o(e,t){t.style.position="fixed",t.style.width="20px",t.style.height="20px",t.style.left=e.clientX-10+"px",t.style.top=e.clientY-10+"px",t.style.zIndex="1000",t.focus(),setTimeout(function(){t.style.position=null,t.style.width=null,t.style.height=null,t.style.left=null,t.style.top=null,t.style.zIndex=null},4)}Object.defineProperty(t,"__esModule",{value:!0}),t.prepareTextForTerminal=i,t.bracketTextForPaste=r,t.copyHandler=function(e,t,n){t.browser.isMSIE?window.clipboardData.setData("Text",n.selectionText):e.clipboardData.setData("text/plain",n.selectionText),e.preventDefault()},t.pasteHandler=function(e,t){e.stopPropagation();var n=function(n){n=r(n=i(n,t.browser.isMSWindows),t.bracketedPasteMode),t.handler(n),t.textarea.value="",t.emit("paste",n),t.cancel(e)};t.browser.isMSIE?window.clipboardData&&n(window.clipboardData.getData("Text")):e.clipboardData&&n(e.clipboardData.getData("text/plain"))},t.moveTextAreaUnderMouseCursor=o,t.rightClickHandler=function(e,t,n){o(e,t),t.value=n.selectionText,t.select()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),r=n(13),o=n(0),s=n(14),a=n(43),l=function(){function e(e){this._terminal=e}return e.prototype.addChar=function(e,t){if(e>=" "){var n=a.wcwidth(t);this._terminal.charset&&this._terminal.charset[e]&&(e=this._terminal.charset[e]);var i=this._terminal.buffer.y+this._terminal.buffer.ybase;if(!n&&this._terminal.buffer.x)return void(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-1]&&(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-1][o.CHAR_DATA_WIDTH_INDEX]?(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-1][o.CHAR_DATA_CHAR_INDEX]+=e,this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-1][3]=e.charCodeAt(0)):this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-2]&&(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-2][o.CHAR_DATA_CHAR_INDEX]+=e,this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-2][3]=e.charCodeAt(0)),this._terminal.updateRange(this._terminal.buffer.y)));if(this._terminal.buffer.x+n-1>=this._terminal.cols)if(this._terminal.wraparoundMode)this._terminal.buffer.x=0,this._terminal.buffer.y++,this._terminal.buffer.y>this._terminal.buffer.scrollBottom?(this._terminal.buffer.y--,this._terminal.scroll(!0)):this._terminal.buffer.lines.get(this._terminal.buffer.y).isWrapped=!0;else if(2===n)return;if(i=this._terminal.buffer.y+this._terminal.buffer.ybase,this._terminal.insertMode)for(var r=0;r<n;++r)0===this._terminal.buffer.lines.get(this._terminal.buffer.y+this._terminal.buffer.ybase).pop()[o.CHAR_DATA_WIDTH_INDEX]&&this._terminal.buffer.lines.get(i)[this._terminal.cols-2]&&2===this._terminal.buffer.lines.get(i)[this._terminal.cols-2][o.CHAR_DATA_WIDTH_INDEX]&&(this._terminal.buffer.lines.get(i)[this._terminal.cols-2]=[this._terminal.curAttr," ",1," ".charCodeAt(0)]),this._terminal.buffer.lines.get(i).splice(this._terminal.buffer.x,0,[this._terminal.curAttr," ",1," ".charCodeAt(0)]);this._terminal.buffer.lines.get(i)[this._terminal.buffer.x]=[this._terminal.curAttr,e,n,e.charCodeAt(0)],this._terminal.buffer.x++,this._terminal.updateRange(this._terminal.buffer.y),2===n&&(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x]=[this._terminal.curAttr,"",0,void 0],this._terminal.buffer.x++)}},e.prototype.bell=function(){this._terminal.bell()},e.prototype.lineFeed=function(){this._terminal.convertEol&&(this._terminal.buffer.x=0),this._terminal.buffer.y++,this._terminal.buffer.y>this._terminal.buffer.scrollBottom&&(this._terminal.buffer.y--,this._terminal.scroll()),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--,this._terminal.emit("linefeed")},e.prototype.carriageReturn=function(){this._terminal.buffer.x=0},e.prototype.backspace=function(){this._terminal.buffer.x>0&&this._terminal.buffer.x--},e.prototype.tab=function(){this._terminal.buffer.x=this._terminal.buffer.nextStop()},e.prototype.shiftOut=function(){this._terminal.setgLevel(1)},e.prototype.shiftIn=function(){this._terminal.setgLevel(0)},e.prototype.insertChars=function(e){var t=e[0];t<1&&(t=1);for(var n=this._terminal.buffer.y+this._terminal.buffer.ybase,i=this._terminal.buffer.x,r=[this._terminal.eraseAttr()," ",1,32];t--&&i<this._terminal.cols;)this._terminal.buffer.lines.get(n).splice(i++,0,r),this._terminal.buffer.lines.get(n).pop()},e.prototype.cursorUp=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y-=t,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0)},e.prototype.cursorDown=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y+=t,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},e.prototype.cursorForward=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x+=t,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.cursorBackward=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--,this._terminal.buffer.x-=t,this._terminal.buffer.x<0&&(this._terminal.buffer.x=0)},e.prototype.cursorNextLine=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y+=t,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=0},e.prototype.cursorPrecedingLine=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y-=t,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0),this._terminal.buffer.x=0},e.prototype.cursorCharAbsolute=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x=t-1},e.prototype.cursorPosition=function(e){var t,n=e[0]-1;t=e.length>=2?e[1]-1:0,n<0?n=0:n>=this._terminal.rows&&(n=this._terminal.rows-1),t<0?t=0:t>=this._terminal.cols&&(t=this._terminal.cols-1),this._terminal.buffer.x=t,this._terminal.buffer.y=n},e.prototype.cursorForwardTab=function(e){for(var t=e[0]||1;t--;)this._terminal.buffer.x=this._terminal.buffer.nextStop()},e.prototype.eraseInDisplay=function(e){var t;switch(e[0]){case 0:for(this._terminal.eraseRight(this._terminal.buffer.x,this._terminal.buffer.y),t=this._terminal.buffer.y+1;t<this._terminal.rows;t++)this._terminal.eraseLine(t);break;case 1:for(this._terminal.eraseLeft(this._terminal.buffer.x,this._terminal.buffer.y),t=this._terminal.buffer.y;t--;)this._terminal.eraseLine(t);break;case 2:for(t=this._terminal.rows;t--;)this._terminal.eraseLine(t);break;case 3:var n=this._terminal.buffer.lines.length-this._terminal.rows;n>0&&(this._terminal.buffer.lines.trimStart(n),this._terminal.buffer.ybase=Math.max(this._terminal.buffer.ybase-n,0),this._terminal.buffer.ydisp=Math.max(this._terminal.buffer.ydisp-n,0),this._terminal.emit("scroll",0))}},e.prototype.eraseInLine=function(e){switch(e[0]){case 0:this._terminal.eraseRight(this._terminal.buffer.x,this._terminal.buffer.y);break;case 1:this._terminal.eraseLeft(this._terminal.buffer.x,this._terminal.buffer.y);break;case 2:this._terminal.eraseLine(this._terminal.buffer.y)}},e.prototype.insertLines=function(e){var t=e[0];t<1&&(t=1);for(var n=this._terminal.buffer.y+this._terminal.buffer.ybase,i=this._terminal.rows-1-this._terminal.buffer.scrollBottom,r=this._terminal.rows-1+this._terminal.buffer.ybase-i+1;t--;)this._terminal.buffer.lines.splice(r-1,1),this._terminal.buffer.lines.splice(n,0,this._terminal.blankLine(!0));this._terminal.updateRange(this._terminal.buffer.y),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},e.prototype.deleteLines=function(e){var t=e[0];t<1&&(t=1);var n,i=this._terminal.buffer.y+this._terminal.buffer.ybase;for(n=this._terminal.rows-1-this._terminal.buffer.scrollBottom,n=this._terminal.rows-1+this._terminal.buffer.ybase-n;t--;)this._terminal.buffer.lines.splice(i,1),this._terminal.buffer.lines.splice(n,0,this._terminal.blankLine(!0));this._terminal.updateRange(this._terminal.buffer.y),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},e.prototype.deleteChars=function(e){var t=e[0];t<1&&(t=1);for(var n=this._terminal.buffer.y+this._terminal.buffer.ybase,i=[this._terminal.eraseAttr()," ",1,32];t--;)this._terminal.buffer.lines.get(n).splice(this._terminal.buffer.x,1),this._terminal.buffer.lines.get(n).push(i);this._terminal.updateRange(this._terminal.buffer.y)},e.prototype.scrollUp=function(e){for(var t=e[0]||1;t--;)this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollTop,1),this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollBottom,0,this._terminal.blankLine());this._terminal.updateRange(this._terminal.buffer.scrollTop),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},e.prototype.scrollDown=function(e){for(var t=e[0]||1;t--;)this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollBottom,1),this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollTop,0,this._terminal.blankLine());this._terminal.updateRange(this._terminal.buffer.scrollTop),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},e.prototype.eraseChars=function(e){var t=e[0];t<1&&(t=1);for(var n=this._terminal.buffer.y+this._terminal.buffer.ybase,i=this._terminal.buffer.x,r=[this._terminal.eraseAttr()," ",1,32];t--&&i<this._terminal.cols;)this._terminal.buffer.lines.get(n)[i++]=r},e.prototype.cursorBackwardTab=function(e){for(var t=e[0]||1;t--;)this._terminal.buffer.x=this._terminal.buffer.prevStop()},e.prototype.charPosAbsolute=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x=t-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.HPositionRelative=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x+=t,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.repeatPrecedingCharacter=function(e){for(var t=e[0]||1,n=this._terminal.buffer.lines.get(this._terminal.buffer.ybase+this._terminal.buffer.y),i=n[this._terminal.buffer.x-1]||[this._terminal.defAttr," ",1,32];t--;)n[this._terminal.buffer.x++]=i},e.prototype.sendDeviceAttributes=function(e){e[0]>0||(this._terminal.prefix?">"===this._terminal.prefix&&(this._terminal.is("xterm")?this._terminal.send(i.C0.ESC+"[>0;276;0c"):this._terminal.is("rxvt-unicode")?this._terminal.send(i.C0.ESC+"[>85;95;0c"):this._terminal.is("linux")?this._terminal.send(e[0]+"c"):this._terminal.is("screen")&&this._terminal.send(i.C0.ESC+"[>83;40003;0c")):this._terminal.is("xterm")||this._terminal.is("rxvt-unicode")||this._terminal.is("screen")?this._terminal.send(i.C0.ESC+"[?1;2c"):this._terminal.is("linux")&&this._terminal.send(i.C0.ESC+"[?6c"))},e.prototype.linePosAbsolute=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y=t-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1)},e.prototype.VPositionRelative=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y+=t,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},e.prototype.HVPosition=function(e){e[0]<1&&(e[0]=1),e[1]<1&&(e[1]=1),this._terminal.buffer.y=e[0]-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=e[1]-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.tabClear=function(e){var t=e[0];t<=0?delete this._terminal.buffer.tabs[this._terminal.buffer.x]:3===t&&(this._terminal.buffer.tabs={})},e.prototype.setMode=function(e){if(e.length>1)for(var t=0;t<e.length;t++)this.setMode([e[t]]);else if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(e[0]){case 1:this._terminal.applicationCursor=!0;break;case 2:this._terminal.setgCharset(0,r.DEFAULT_CHARSET),this._terminal.setgCharset(1,r.DEFAULT_CHARSET),this._terminal.setgCharset(2,r.DEFAULT_CHARSET),this._terminal.setgCharset(3,r.DEFAULT_CHARSET);break;case 3:this._terminal.savedCols=this._terminal.cols,this._terminal.resize(132,this._terminal.rows);break;case 6:this._terminal.originMode=!0;break;case 7:this._terminal.wraparoundMode=!0;break;case 12:break;case 66:this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=9===e[0],this._terminal.vt200Mouse=1e3===e[0],this._terminal.normalMouse=e[0]>1e3,this._terminal.mouseEvents=!0,this._terminal.element.classList.add("enable-mouse-events"),this._terminal.selectionManager.disable(),this._terminal.log("Binding to mouse events.");break;case 1004:this._terminal.sendFocus=!0;break;case 1005:this._terminal.utfMouse=!0;break;case 1006:this._terminal.sgrMouse=!0;break;case 1015:this._terminal.urxvtMouse=!0;break;case 25:this._terminal.cursorHidden=!1;break;case 1049:case 47:case 1047:this._terminal.buffers.activateAltBuffer(),this._terminal.selectionManager.setBuffer(this._terminal.buffer),this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!0}}else switch(e[0]){case 4:this._terminal.insertMode=!0}},e.prototype.resetMode=function(e){if(e.length>1)for(var t=0;t<e.length;t++)this.resetMode([e[t]]);else if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(e[0]){case 1:this._terminal.applicationCursor=!1;break;case 3:132===this._terminal.cols&&this._terminal.savedCols&&this._terminal.resize(this._terminal.savedCols,this._terminal.rows),delete this._terminal.savedCols;break;case 6:this._terminal.originMode=!1;break;case 7:this._terminal.wraparoundMode=!1;break;case 12:break;case 66:this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=!1,this._terminal.vt200Mouse=!1,this._terminal.normalMouse=!1,this._terminal.mouseEvents=!1,this._terminal.element.classList.remove("enable-mouse-events"),this._terminal.selectionManager.enable();break;case 1004:this._terminal.sendFocus=!1;break;case 1005:this._terminal.utfMouse=!1;break;case 1006:this._terminal.sgrMouse=!1;break;case 1015:this._terminal.urxvtMouse=!1;break;case 25:this._terminal.cursorHidden=!0;break;case 1049:case 47:case 1047:this._terminal.buffers.activateNormalBuffer(),this._terminal.selectionManager.setBuffer(this._terminal.buffer),this._terminal.refresh(0,this._terminal.rows-1),this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!1}}else switch(e[0]){case 4:this._terminal.insertMode=!1}},e.prototype.charAttributes=function(e){if(1!==e.length||0!==e[0]){for(var t,n=e.length,i=this._terminal.curAttr>>18,r=this._terminal.curAttr>>9&511,o=511&this._terminal.curAttr,a=0;a<n;a++)(t=e[a])>=30&&t<=37?r=t-30:t>=40&&t<=47?o=t-40:t>=90&&t<=97?r=(t+=8)-90:t>=100&&t<=107?o=(t+=8)-100:0===t?(i=this._terminal.defAttr>>18,r=this._terminal.defAttr>>9&511,o=511&this._terminal.defAttr):1===t?i|=s.FLAGS.BOLD:4===t?i|=s.FLAGS.UNDERLINE:5===t?i|=s.FLAGS.BLINK:7===t?i|=s.FLAGS.INVERSE:8===t?i|=s.FLAGS.INVISIBLE:2===t?i|=s.FLAGS.DIM:22===t?(i&=~s.FLAGS.BOLD,i&=~s.FLAGS.DIM):24===t?i&=~s.FLAGS.UNDERLINE:25===t?i&=~s.FLAGS.BLINK:27===t?i&=~s.FLAGS.INVERSE:28===t?i&=~s.FLAGS.INVISIBLE:39===t?r=this._terminal.defAttr>>9&511:49===t?o=511&this._terminal.defAttr:38===t?2===e[a+1]?(a+=2,-1===(r=this._terminal.matchColor(255&e[a],255&e[a+1],255&e[a+2]))&&(r=511),a+=2):5===e[a+1]&&(r=t=255&e[a+=2]):48===t?2===e[a+1]?(a+=2,-1===(o=this._terminal.matchColor(255&e[a],255&e[a+1],255&e[a+2]))&&(o=511),a+=2):5===e[a+1]&&(o=t=255&e[a+=2]):100===t?(r=this._terminal.defAttr>>9&511,o=511&this._terminal.defAttr):this._terminal.error("Unknown SGR attribute: %d.",t);this._terminal.curAttr=i<<18|r<<9|o}else this._terminal.curAttr=this._terminal.defAttr},e.prototype.deviceStatus=function(e){if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(e[0]){case 6:this._terminal.send(i.C0.ESC+"[?"+(this._terminal.buffer.y+1)+";"+(this._terminal.buffer.x+1)+"R")}}else switch(e[0]){case 5:this._terminal.send(i.C0.ESC+"[0n");break;case 6:this._terminal.send(i.C0.ESC+"["+(this._terminal.buffer.y+1)+";"+(this._terminal.buffer.x+1)+"R")}},e.prototype.softReset=function(e){this._terminal.cursorHidden=!1,this._terminal.insertMode=!1,this._terminal.originMode=!1,this._terminal.wraparoundMode=!0,this._terminal.applicationKeypad=!1,this._terminal.viewport.syncScrollArea(),this._terminal.applicationCursor=!1,this._terminal.buffer.scrollTop=0,this._terminal.buffer.scrollBottom=this._terminal.rows-1,this._terminal.curAttr=this._terminal.defAttr,this._terminal.buffer.x=this._terminal.buffer.y=0,this._terminal.charset=null,this._terminal.glevel=0,this._terminal.charsets=[null]},e.prototype.setCursorStyle=function(e){var t=e[0]<1?1:e[0];switch(t){case 1:case 2:this._terminal.setOption("cursorStyle","block");break;case 3:case 4:this._terminal.setOption("cursorStyle","underline");break;case 5:case 6:this._terminal.setOption("cursorStyle","bar")}var n=t%2==1;this._terminal.setOption("cursorBlink",n)},e.prototype.setScrollRegion=function(e){this._terminal.prefix||(this._terminal.buffer.scrollTop=(e[0]||1)-1,this._terminal.buffer.scrollBottom=(e[1]&&e[1]<=this._terminal.rows?e[1]:this._terminal.rows)-1,this._terminal.buffer.x=0,this._terminal.buffer.y=0)},e.prototype.saveCursor=function(e){this._terminal.buffer.savedX=this._terminal.buffer.x,this._terminal.buffer.savedY=this._terminal.buffer.y},e.prototype.restoreCursor=function(e){this._terminal.buffer.x=this._terminal.buffer.savedX||0,this._terminal.buffer.y=this._terminal.buffer.savedY||0},e}();t.InputHandler=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wcwidth=function(e){var t=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],n=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];function i(e,t){var n,i=0,r=t.length-1;if(e<t[0][0]||e>t[r][1])return!1;for(;r>=i;)if(e>t[n=i+r>>1][1])i=n+1;else{if(!(e<t[n][0]))return!0;r=n-1}return!1}var r=0|e.control,o=null;return function(s){if((s|=0)<32)return 0|r;if(s<127)return 1;var a,l=o||function(){var n;o="undefined"==typeof Uint32Array?new Array(4096):new Uint32Array(4096);for(var r=0;r<4096;++r){for(var s=0,a=16;a--;)s=s<<2|(0===(n=16*r+a)?e.nul:n<32||n>=127&&n<160?e.control:i(n,t)?0:n>=4352&&(n<=4447||9001===n||9002===n||n>=11904&&n<=42191&&12351!==n||n>=44032&&n<=55203||n>=63744&&n<=64255||n>=65040&&n<=65049||n>=65072&&n<=65135||n>=65280&&n<=65376||n>=65504&&n<=65510)?2:1);o[r]=s}return o}();return s<65536?l[s>>4]>>((15&s)<<1)&3:i(a=s,n)?0:a>=131072&&a<=196605||a>=196608&&a<=262141?2:1}}({nul:0,control:0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),r=n(13),o={};o[i.C0.BEL]=function(e,t){return t.bell()},o[i.C0.LF]=function(e,t){return t.lineFeed()},o[i.C0.VT]=o[i.C0.LF],o[i.C0.FF]=o[i.C0.LF],o[i.C0.CR]=function(e,t){return t.carriageReturn()},o[i.C0.BS]=function(e,t){return t.backspace()},o[i.C0.HT]=function(e,t){return t.tab()},o[i.C0.SO]=function(e,t){return t.shiftOut()},o[i.C0.SI]=function(e,t){return t.shiftIn()},o[i.C0.ESC]=function(e,t){return e.setState(l.ESCAPED)};var s={"[":function(e,t){t.params=[],t.currentParam=0,e.setState(l.CSI_PARAM)},"]":function(e,t){t.params=[],t.currentParam=0,e.setState(l.OSC)},P:function(e,t){t.params=[],t.currentParam=0,e.setState(l.DCS)},_:function(e,t){e.setState(l.IGNORE)},"^":function(e,t){e.setState(l.IGNORE)},c:function(e,t){t.reset()},E:function(e,t){t.buffer.x=0,t.index(),e.setState(l.NORMAL)},D:function(e,t){t.index(),e.setState(l.NORMAL)},M:function(e,t){t.reverseIndex(),e.setState(l.NORMAL)},"%":function(e,t){t.setgLevel(0),t.setgCharset(0,r.DEFAULT_CHARSET),e.setState(l.NORMAL),e.skipNextChar()}};s[i.C0.CAN]=function(e){return e.setState(l.NORMAL)};var a={"?":function(e){return e.setPrefix("?")},">":function(e){return e.setPrefix(">")},"!":function(e){return e.setPrefix("!")},0:function(e){return e.setParam(10*e.getParam())},1:function(e){return e.setParam(10*e.getParam()+1)},2:function(e){return e.setParam(10*e.getParam()+2)},3:function(e){return e.setParam(10*e.getParam()+3)},4:function(e){return e.setParam(10*e.getParam()+4)},5:function(e){return e.setParam(10*e.getParam()+5)},6:function(e){return e.setParam(10*e.getParam()+6)},7:function(e){return e.setParam(10*e.getParam()+7)},8:function(e){return e.setParam(10*e.getParam()+8)},9:function(e){return e.setParam(10*e.getParam()+9)},$:function(e){return e.setPostfix("$")},'"':function(e){return e.setPostfix('"')}," ":function(e){return e.setPostfix(" ")},"'":function(e){return e.setPostfix("'")},";":function(e){return e.finalizeParam()}};a[i.C0.CAN]=function(e){return e.setState(l.NORMAL)};var l,c={"@":function(e,t,n){return e.insertChars(t)},A:function(e,t,n){return e.cursorUp(t)},B:function(e,t,n){return e.cursorDown(t)},C:function(e,t,n){return e.cursorForward(t)},D:function(e,t,n){return e.cursorBackward(t)},E:function(e,t,n){return e.cursorNextLine(t)},F:function(e,t,n){return e.cursorPrecedingLine(t)},G:function(e,t,n){return e.cursorCharAbsolute(t)},H:function(e,t,n){return e.cursorPosition(t)},I:function(e,t,n){return e.cursorForwardTab(t)},J:function(e,t,n){return e.eraseInDisplay(t)},K:function(e,t,n){return e.eraseInLine(t)},L:function(e,t,n){return e.insertLines(t)},M:function(e,t,n){return e.deleteLines(t)},P:function(e,t,n){return e.deleteChars(t)},S:function(e,t,n){return e.scrollUp(t)},T:function(e,t,n){t.length<2&&!n&&e.scrollDown(t)},X:function(e,t,n){return e.eraseChars(t)},Z:function(e,t,n){return e.cursorBackwardTab(t)},"`":function(e,t,n){return e.charPosAbsolute(t)},a:function(e,t,n){return e.HPositionRelative(t)},b:function(e,t,n){return e.repeatPrecedingCharacter(t)},c:function(e,t,n){return e.sendDeviceAttributes(t)},d:function(e,t,n){return e.linePosAbsolute(t)},e:function(e,t,n){return e.VPositionRelative(t)},f:function(e,t,n){return e.HVPosition(t)},g:function(e,t,n){return e.tabClear(t)},h:function(e,t,n){return e.setMode(t)},l:function(e,t,n){return e.resetMode(t)},m:function(e,t,n){return e.charAttributes(t)},n:function(e,t,n){return e.deviceStatus(t)},p:function(e,t,n){switch(n){case"!":e.softReset(t)}},q:function(e,t,n,i){" "===i&&e.setCursorStyle(t)},r:function(e,t){return e.setScrollRegion(t)},s:function(e,t){return e.saveCursor(t)},u:function(e,t){return e.restoreCursor(t)}};c[i.C0.CAN]=function(e,t,n,i,r){return r.setState(l.NORMAL)},function(e){e[e.NORMAL=0]="NORMAL",e[e.ESCAPED=1]="ESCAPED",e[e.CSI_PARAM=2]="CSI_PARAM",e[e.CSI=3]="CSI",e[e.OSC=4]="OSC",e[e.CHARSET=5]="CHARSET",e[e.DCS=6]="DCS",e[e.IGNORE=7]="IGNORE"}(l=t.ParserState||(t.ParserState={}));var u=function(){function e(e,t){this._inputHandler=e,this._terminal=t,this._state=l.NORMAL}return e.prototype.parse=function(e){var t,n,u,h,d=e.length,f=this._terminal.buffer.x,p=this._terminal.buffer.y;for(this._terminal.debug&&this._terminal.log("data: "+e),this._position=0,this._terminal.surrogate_high&&(e=this._terminal.surrogate_high+e,this._terminal.surrogate_high="");this._position<d;this._position++){if(n=e[this._position],55296<=(u=e.charCodeAt(this._position))&&u<=56319){if(h=e.charCodeAt(this._position+1),isNaN(h)){this._terminal.surrogate_high=n;continue}u=1024*(u-55296)+(h-56320)+65536,n+=e.charAt(this._position+1)}if(!(56320<=u&&u<=57343))switch(this._state){case l.NORMAL:n in o?o[n](this,this._inputHandler):this._inputHandler.addChar(n,u);break;case l.ESCAPED:if(n in s){s[n](this,this._terminal);break}switch(n){case"(":case")":case"*":case"+":case"-":case".":switch(n){case"(":this._terminal.gcharset=0;break;case")":this._terminal.gcharset=1;break;case"*":this._terminal.gcharset=2;break;case"+":this._terminal.gcharset=3;break;case"-":this._terminal.gcharset=1;break;case".":this._terminal.gcharset=2}this._state=l.CHARSET;break;case"/":this._terminal.gcharset=3,this._state=l.CHARSET,this._position--;break;case"N":case"O":break;case"n":this._terminal.setgLevel(2);break;case"o":case"|":this._terminal.setgLevel(3);break;case"}":this._terminal.setgLevel(2);break;case"~":this._terminal.setgLevel(1);break;case"7":this._inputHandler.saveCursor(),this._state=l.NORMAL;break;case"8":this._inputHandler.restoreCursor(),this._state=l.NORMAL;break;case"#":this._state=l.NORMAL,this._position++;break;case"H":this._terminal.tabSet(),this._state=l.NORMAL;break;case"=":this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._state=l.NORMAL;break;case">":this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._state=l.NORMAL;break;default:this._state=l.NORMAL,this._terminal.error("Unknown ESC control: %s.",n)}break;case l.CHARSET:n in r.CHARSETS?(t=r.CHARSETS[n],"/"===n&&this.skipNextChar()):t=r.DEFAULT_CHARSET,this._terminal.setgCharset(this._terminal.gcharset,t),this._terminal.gcharset=null,this._state=l.NORMAL;break;case l.OSC:if(n===i.C0.ESC||n===i.C0.BEL){switch(n===i.C0.ESC&&this._position++,this._terminal.params.push(this._terminal.currentParam),this._terminal.params[0]){case 0:case 1:case 2:this._terminal.params[1]&&(this._terminal.title=this._terminal.params[1],this._terminal.handleTitle(this._terminal.title))}this._terminal.params=[],this._terminal.currentParam=0,this._state=l.NORMAL}else this._terminal.params.length?this._terminal.currentParam+=n:n>="0"&&n<="9"?this._terminal.currentParam=10*this._terminal.currentParam+n.charCodeAt(0)-48:";"===n&&(this._terminal.params.push(this._terminal.currentParam),this._terminal.currentParam="");break;case l.CSI_PARAM:if(n in a){a[n](this);break}this.finalizeParam(),this._state=l.CSI;case l.CSI:n in c?(this._terminal.debug&&this._terminal.log("CSI "+(this._terminal.prefix?this._terminal.prefix:"")+" "+(this._terminal.params?this._terminal.params.join(";"):"")+" "+(this._terminal.postfix?this._terminal.postfix:"")+" "+n),c[n](this._inputHandler,this._terminal.params,this._terminal.prefix,this._terminal.postfix,this)):this._terminal.error("Unknown CSI code: %s.",n),this._state=l.NORMAL,this._terminal.prefix="",this._terminal.postfix="";break;case l.DCS:if(n===i.C0.ESC||n===i.C0.BEL){n===i.C0.ESC&&this._position++;var m=void 0,g=void 0;switch(this._terminal.prefix){case"":break;case"$q":switch(g=!1,m=this._terminal.currentParam){case'"q':m='0"q';break;case'"p':m='61"p';break;case"r":m=this._terminal.buffer.scrollTop+1+";"+(this._terminal.buffer.scrollBottom+1)+"r";break;case"m":m="0m";break;default:this._terminal.error("Unknown DCS Pt: %s.",m),m=""}this._terminal.send(i.C0.ESC+"P"+ +g+"$r"+m+i.C0.ESC+"\\");break;case"+p":break;case"+q":m=this._terminal.currentParam,g=!1,this._terminal.send(i.C0.ESC+"P"+ +g+"+r"+m+i.C0.ESC+"\\");break;default:this._terminal.error("Unknown DCS prefix: %s.",this._terminal.prefix)}this._terminal.currentParam=0,this._terminal.prefix="",this._state=l.NORMAL}else this._terminal.currentParam?this._terminal.currentParam+=n:this._terminal.prefix||"$"===n||"+"===n?2===this._terminal.prefix.length?this._terminal.currentParam=n:this._terminal.prefix+=n:this._terminal.currentParam=n;break;case l.IGNORE:n!==i.C0.ESC&&n!==i.C0.BEL||(n===i.C0.ESC&&this._position++,this._state=l.NORMAL)}}return this._terminal.buffer.x===f&&this._terminal.buffer.y===p||this._terminal.emit("cursormove"),this._state},e.prototype.setState=function(e){this._state=e},e.prototype.setPrefix=function(e){this._terminal.prefix=e},e.prototype.setPostfix=function(e){this._terminal.postfix=e},e.prototype.setParam=function(e){this._terminal.currentParam=e},e.prototype.getParam=function(){return this._terminal.currentParam},e.prototype.finalizeParam=function(){this._terminal.params.push(this._terminal.currentParam),this._terminal.currentParam=0},e.prototype.skipNextChar=function(){this._position++},e}();t.Parser=u},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(46),s=n(49),a=n(50),l=n(16),c=n(51),u=function(e){function t(t,n){var i=e.call(this)||this;return i._terminal=t,i._refreshRowsQueue=[],i._refreshAnimationFrame=null,i.colorManager=new l.ColorManager,n&&i.colorManager.setTheme(n),i._renderLayers=[new o.TextRenderLayer(i._terminal.element,0,i.colorManager.colors),new s.SelectionRenderLayer(i._terminal.element,1,i.colorManager.colors),new c.LinkRenderLayer(i._terminal.element,2,i.colorManager.colors,i._terminal),new a.CursorRenderLayer(i._terminal.element,3,i.colorManager.colors)],i.dimensions={scaledCharWidth:null,scaledCharHeight:null,scaledCellWidth:null,scaledCellHeight:null,scaledCharLeft:null,scaledCharTop:null,scaledCanvasWidth:null,scaledCanvasHeight:null,canvasWidth:null,canvasHeight:null,actualCellWidth:null,actualCellHeight:null},i._devicePixelRatio=window.devicePixelRatio,i._updateDimensions(),i.onOptionsChanged(),i}return r(t,e),t.prototype.onWindowResize=function(e){this._devicePixelRatio!==e&&(this._devicePixelRatio=e,this.onResize(this._terminal.cols,this._terminal.rows,!0))},t.prototype.setTheme=function(e){var t=this;return this.colorManager.setTheme(e),this._renderLayers.forEach(function(e){e.onThemeChanged(t._terminal,t.colorManager.colors),e.reset(t._terminal)}),this._terminal.refresh(0,this._terminal.rows-1),this.colorManager.colors},t.prototype.onResize=function(e,t,n){var i=this;this._updateDimensions(),this._renderLayers.forEach(function(e){return e.resize(i._terminal,i.dimensions,n)}),this._terminal.refresh(0,this._terminal.rows-1),this.emit("resize",{width:this.dimensions.canvasWidth,height:this.dimensions.canvasHeight})},t.prototype.onCharSizeChanged=function(){this.onResize(this._terminal.cols,this._terminal.rows,!0)},t.prototype.onBlur=function(){var e=this;this._renderLayers.forEach(function(t){return t.onBlur(e._terminal)})},t.prototype.onFocus=function(){var e=this;this._renderLayers.forEach(function(t){return t.onFocus(e._terminal)})},t.prototype.onSelectionChanged=function(e,t){var n=this;this._renderLayers.forEach(function(i){return i.onSelectionChanged(n._terminal,e,t)})},t.prototype.onCursorMove=function(){var e=this;this._renderLayers.forEach(function(t){return t.onCursorMove(e._terminal)})},t.prototype.onOptionsChanged=function(){var e=this;this._renderLayers.forEach(function(t){return t.onOptionsChanged(e._terminal)})},t.prototype.clear=function(){var e=this;this._renderLayers.forEach(function(t){return t.reset(e._terminal)})},t.prototype.queueRefresh=function(e,t){this._refreshRowsQueue.push({start:e,end:t}),this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(this._refreshLoop.bind(this)))},t.prototype._refreshLoop=function(){var e,t,n=this;if(this._refreshRowsQueue.length>4)e=0,t=this._terminal.rows-1;else{e=this._refreshRowsQueue[0].start,t=this._refreshRowsQueue[0].end;for(var i=1;i<this._refreshRowsQueue.length;i++)this._refreshRowsQueue[i].start<e&&(e=this._refreshRowsQueue[i].start),this._refreshRowsQueue[i].end>t&&(t=this._refreshRowsQueue[i].end)}this._refreshRowsQueue=[],this._refreshAnimationFrame=null,e=Math.max(e,0),t=Math.min(t,this._terminal.rows-1),this._renderLayers.forEach(function(i){return i.onGridChanged(n._terminal,e,t)}),this._terminal.emit("refresh",{start:e,end:t})},t.prototype._updateDimensions=function(){this._terminal.charMeasure.width&&this._terminal.charMeasure.height&&(this.dimensions.scaledCharWidth=Math.floor(this._terminal.charMeasure.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._terminal.charMeasure.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._terminal.options.lineHeight),this.dimensions.scaledCharTop=1===this._terminal.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._terminal.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._terminal.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._terminal.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._terminal.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._terminal.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._terminal.cols)},t}(n(1).EventEmitter);t.Renderer=u},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(14),a=n(47),l=n(5),c=function(e){function t(t,n,i){var r=e.call(this,t,"text",n,!1,i)||this;return r._characterOverlapCache={},r._state=new a.GridCache,r}return r(t,e),t.prototype.resize=function(t,n,i){e.prototype.resize.call(this,t,n,i);var r=t.options.fontSize*window.devicePixelRatio+"px "+t.options.fontFamily;this._characterWidth===n.scaledCharWidth&&this._characterFont===r||(this._characterWidth=n.scaledCharWidth,this._characterFont=r,this._characterOverlapCache={}),this._state.clear(),this._state.resize(t.cols,t.rows)},t.prototype.reset=function(e){this._state.clear(),this.clearAll()},t.prototype.onGridChanged=function(e,t,n){if(0!==this._state.cache.length)for(var i=t;i<=n;i++){var r=i+e.buffer.ydisp,a=e.buffer.lines.get(r);this.clearCells(0,i,e.cols,1);for(var c=0;c<e.cols;c++){var u=a[c],h=u[o.CHAR_DATA_CODE_INDEX],d=u[o.CHAR_DATA_CHAR_INDEX],f=u[o.CHAR_DATA_ATTR_INDEX],p=u[o.CHAR_DATA_WIDTH_INDEX];if(0!==p){if(32===h&&c>0){var m=a[c-1];if(this._isOverlapping(m))continue}var g=f>>18,v=511&f,y=v>=256,b=g&s.FLAGS.INVISIBLE,_=g&s.FLAGS.INVERSE;if(h&&(32!==h||!y||_)&&!b){0!==p&&this._isOverlapping(u)&&c<a.length-1&&32===a[c+1][o.CHAR_DATA_CODE_INDEX]&&(p=2);var x=f>>9&511;if(_){var w=v;v=x,256===(x=w)&&(x=l.INVERTED_DEFAULT_COLOR),257===v&&(v=l.INVERTED_DEFAULT_COLOR)}v<256&&(this._ctx.save(),this._ctx.fillStyle=v===l.INVERTED_DEFAULT_COLOR?this._colors.foreground:this._colors.ansi[v],this.fillCells(c,i,p,1),this._ctx.restore()),this._ctx.save(),g&s.FLAGS.BOLD&&(this._ctx.font="bold "+this._ctx.font,x<8&&(x+=8)),g&s.FLAGS.UNDERLINE&&(x===l.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background:this._ctx.fillStyle=x<256?this._colors.ansi[x]:this._colors.foreground,this.fillBottomLineAtCells(c,i)),this.drawChar(e,d,h,p,c,i,x,v,!!(g&s.FLAGS.BOLD),!!(g&s.FLAGS.DIM)),this._ctx.restore()}}}}},t.prototype._isOverlapping=function(e){if(1!==e[o.CHAR_DATA_WIDTH_INDEX])return!1;if(e[o.CHAR_DATA_CODE_INDEX]<256)return!1;var t=e[o.CHAR_DATA_CHAR_INDEX];if(this._characterOverlapCache.hasOwnProperty(t))return this._characterOverlapCache[t];this._ctx.save(),this._ctx.font=this._characterFont;var n=Math.floor(this._ctx.measureText(t).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[t]=n,n},t.prototype._clearChar=function(e,t){var n=1,i=this._state.cache[e][t];i&&2===i[o.CHAR_DATA_WIDTH_INDEX]&&(n=2),this.clearCells(e,t,n,1)},t}(l.BaseRenderLayer);t.TextRenderLayer=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.cache=[]}return e.prototype.resize=function(e,t){for(var n=0;n<e;n++){this.cache.length<=n&&this.cache.push([]);for(var i=this.cache[n].length;i<t;i++)this.cache[n].push(null);this.cache[n].length=t}this.cache.length=e},e.prototype.clear=function(){for(var e=0;e<this.cache.length;e++)for(var t=0;t<this.cache[e].length;t++)this.cache[e][t]=null},e}();t.GridCache=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contains=function(e,t){return e.indexOf(t)>=0}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,i){var r=e.call(this,t,"selection",n,!0,i)||this;return r._state={start:null,end:null},r}return r(t,e),t.prototype.resize=function(t,n,i){e.prototype.resize.call(this,t,n,i),this._state={start:null,end:null}},t.prototype.reset=function(e){this._state.start&&this._state.end&&(this._state={start:null,end:null},this.clearAll())},t.prototype.onSelectionChanged=function(e,t,n){if(this._state.start!==t&&this._state.end!==n&&(this.clearAll(),t&&n)){var i=t[1]-e.buffer.ydisp,r=n[1]-e.buffer.ydisp,o=Math.max(i,0),s=Math.min(r,e.rows-1);if(!(o>=e.rows||s<0)){var a=i===o?t[0]:0,l=o===s?n[0]:e.cols;this._ctx.fillStyle=this._colors.selection,this.fillCells(a,o,l-a,1);var c=Math.max(s-o-1,0);if(this.fillCells(0,o+1,e.cols,c),o!==s){var u=r===s?n[0]:e.cols;this.fillCells(0,s,u,1)}this._state.start=[t[0],t[1]],this._state.end=[n[0],n[1]]}}},t}(n(5).BaseRenderLayer);t.SelectionRenderLayer=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t,n,i){var r=e.call(this,t,"cursor",n,!0,i)||this;return r._state={x:null,y:null,isFocused:null,style:null,width:null},r._cursorRenderers={bar:r._renderBarCursor.bind(r),block:r._renderBlockCursor.bind(r),underline:r._renderUnderlineCursor.bind(r)},r}return r(t,e),t.prototype.resize=function(t,n,i){e.prototype.resize.call(this,t,n,i),this._state={x:null,y:null,isFocused:null,style:null,width:null}},t.prototype.reset=function(e){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null,this.onOptionsChanged(e))},t.prototype.onBlur=function(e){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),e.refresh(e.buffer.y,e.buffer.y)},t.prototype.onFocus=function(e){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume(e):e.refresh(e.buffer.y,e.buffer.y)},t.prototype.onOptionsChanged=function(e){var t=this;e.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new a(e,function(){t._render(e,!0)})):(this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null),e.refresh(e.buffer.y,e.buffer.y))},t.prototype.onCursorMove=function(e){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation(e)},t.prototype.onGridChanged=function(e,t,n){this._cursorBlinkStateManager&&!this._cursorBlinkStateManager.isPaused||this._render(e,!1)},t.prototype._render=function(e,t){if(e.cursorState&&!e.cursorHidden){var n=e.buffer.ybase+e.buffer.y,i=n-e.buffer.ydisp;if(i<0||i>=e.rows)this._clearCursor();else{var r=e.buffer.lines.get(n)[e.buffer.x];if(r){if(!e.isFocused)return this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor,this._renderBlurCursor(e,e.buffer.x,i,r),this._ctx.restore(),this._state.x=e.buffer.x,this._state.y=i,this._state.isFocused=!1,this._state.style=e.options.cursorStyle,void(this._state.width=r[o.CHAR_DATA_WIDTH_INDEX]);if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===e.buffer.x&&this._state.y===i&&this._state.isFocused===e.isFocused&&this._state.style===e.options.cursorStyle&&this._state.width===r[o.CHAR_DATA_WIDTH_INDEX])return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[e.options.cursorStyle||"block"](e,e.buffer.x,i,r),this._ctx.restore(),this._state.x=e.buffer.x,this._state.y=i,this._state.isFocused=!1,this._state.style=e.options.cursorStyle,this._state.width=r[o.CHAR_DATA_WIDTH_INDEX]}else this._clearCursor()}}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(this.clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:null,y:null,isFocused:null,style:null,width:null})},t.prototype._renderBarCursor=function(e,t,n,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor,this.fillLeftLineAtCell(t,n),this._ctx.restore()},t.prototype._renderBlockCursor=function(e,t,n,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor,this.fillCells(t,n,i[o.CHAR_DATA_WIDTH_INDEX],1),this._ctx.fillStyle=this._colors.cursorAccent,this.fillCharTrueColor(e,i,t,n),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(e,t,n,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor,this.fillBottomLineAtCells(t,n),this._ctx.restore()},t.prototype._renderBlurCursor=function(e,t,n,i){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor,this.strokeRectAtCell(t,n,i[o.CHAR_DATA_WIDTH_INDEX],1),this._ctx.restore()},t}(n(5).BaseRenderLayer);t.CursorRenderLayer=s;var a=function(){function e(e,t){this.renderCallback=t,this.isCursorVisible=!0,e.isFocused&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},e.prototype.restartBlinkAnimation=function(e){var t=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){t.renderCallback(),t._animationFrame=null})))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=setTimeout(function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=null,e>0)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame(function(){t.renderCallback(),t._animationFrame=null}),t._blinkInterval=setInterval(function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=null,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame(function(){t.renderCallback(),t._animationFrame=null})},600)},e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},e.prototype.resume=function(e){this._animationTimeRestarted=null,this._restartInterval(),this.restartBlinkAnimation(e)},e}()},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),s=n(17),a=function(e){function t(t,n,i,r){var o=e.call(this,t,"link",n,!0,i)||this;return o._state=null,r.linkifier.on(s.LinkHoverEventTypes.HOVER,function(e){return o._onLinkHover(e)}),r.linkifier.on(s.LinkHoverEventTypes.LEAVE,function(e){return o._onLinkLeave(e)}),o}return r(t,e),t.prototype.resize=function(t,n,i){e.prototype.resize.call(this,t,n,i),this._state=null},t.prototype.reset=function(e){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){this._state&&(this.clearCells(this._state.x,this._state.y,this._state.length,1),this._state=null)},t.prototype._onLinkHover=function(e){this._ctx.fillStyle=this._colors.foreground,this.fillBottomLineAtCells(e.x,e.y,e.length),this._state=e},t.prototype._onLinkLeave=function(e){this._clearCurrentLink()},t}(o.BaseRenderLayer);t.LinkRenderLayer=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),s=n(18),a=n(1),l=new RegExp("(?:^|[^\\da-z\\.-]+)((https?:\\/\\/)((([\\da-z\\.-]+)\\.([a-z\\.]{2,6}))|((\\d{1,3}\\.){3}\\d{1,3})|(localhost))(:\\d{1,5})?(\\/[\\/\\w\\.\\-%~]*)*(\\?[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?(#[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?)($|[^\\/\\w\\.\\-%]+)"),c=0,u=function(e){function t(t){var n=e.call(this)||this;return n._terminal=t,n._linkMatchers=[],n._nextLinkMatcherId=c,n._rowsToLinkify={start:null,end:null},n.registerLinkMatcher(l,null,{matchIndex:1}),n}return r(t,e),t.prototype.attachToDom=function(e){this._mouseZoneManager=e},t.prototype.linkifyRows=function(e,n){var i=this;this._mouseZoneManager&&(this._rowsToLinkify.start?(this._rowsToLinkify.start=this._rowsToLinkify.start<e?this._rowsToLinkify.start:e,this._rowsToLinkify.end=this._rowsToLinkify.end>n?this._rowsToLinkify.end:n):(this._rowsToLinkify.start=e,this._rowsToLinkify.end=n),this._mouseZoneManager.clearAll(e,n),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return i._linkifyRows()},t.TIME_BEFORE_LINKIFY))},t.prototype._linkifyRows=function(){this._rowsTimeoutId=null;for(var e=this._rowsToLinkify.start;e<=this._rowsToLinkify.end;e++)this._linkifyRow(e);this._rowsToLinkify.start=null,this._rowsToLinkify.end=null},t.prototype.setHypertextLinkHandler=function(e){this._linkMatchers[c].handler=e},t.prototype.setHypertextValidationCallback=function(e){this._linkMatchers[c].validationCallback=e},t.prototype.registerLinkMatcher=function(e,t,n){if(void 0===n&&(n={}),this._nextLinkMatcherId!==c&&!t)throw new Error("handler must be defined");var i={id:this._nextLinkMatcherId++,regex:e,handler:t,matchIndex:n.matchIndex,validationCallback:n.validationCallback,hoverTooltipCallback:n.tooltipCallback,hoverLeaveCallback:n.leaveCallback,priority:n.priority||0};return this._addLinkMatcherToList(i),i.id},t.prototype._addLinkMatcherToList=function(e){if(0!==this._linkMatchers.length){for(var t=this._linkMatchers.length-1;t>=0;t--)if(e.priority<=this._linkMatchers[t].priority)return void this._linkMatchers.splice(t+1,0,e);this._linkMatchers.splice(0,0,e)}else this._linkMatchers.push(e)},t.prototype.deregisterLinkMatcher=function(e){for(var t=1;t<this._linkMatchers.length;t++)if(this._linkMatchers[t].id===e)return this._linkMatchers.splice(t,1),!0;return!1},t.prototype._linkifyRow=function(e){var t=this._terminal.buffer.ydisp+e;if(!(t>=this._terminal.buffer.lines.length))for(var n=this._terminal.buffer.translateBufferLineToString(t,!1),i=0;i<this._linkMatchers.length;i++)this._doLinkifyRow(e,n,this._linkMatchers[i])},t.prototype._doLinkifyRow=function(e,t,n,i){var r=this;void 0===i&&(i=0),n.id;var o=t.match(n.regex);if(o&&0!==o.length){var s=o["number"!=typeof n.matchIndex?0:n.matchIndex],a=t.indexOf(s);n.validationCallback?n.validationCallback(s,function(t){r._rowsTimeoutId||t&&r._addLink(i+a,e,s,n)}):this._addLink(i+a,e,s,n);var l=a+s.length,c=t.substr(l);c.length>0&&this._doLinkifyRow(e,c,n,i+l)}},t.prototype._addLink=function(e,t,n,i){var r=this;this._mouseZoneManager.add(new s.MouseZone(e+1,e+1+n.length,t+1,function(e){if(i.handler)return i.handler(e,n);window.open(n,"_blank")},function(i){r.emit(o.LinkHoverEventTypes.HOVER,{x:e,y:t,length:n.length}),r._terminal.element.style.cursor="pointer"},function(s){r.emit(o.LinkHoverEventTypes.TOOLTIP,{x:e,y:t,length:n.length}),i.hoverTooltipCallback&&i.hoverTooltipCallback(s,n)},function(){r.emit(o.LinkHoverEventTypes.LEAVE,{x:e,y:t,length:n.length}),r._terminal.element.style.cursor="",i.hoverLeaveCallback&&i.hoverLeaveCallback()}))},t.TIME_BEFORE_LINKIFY=200,t}(a.EventEmitter);t.Linkifier=u},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(19),a=n(10),l=n(1),c=n(54),u=n(0),h=String.fromCharCode(160),d=new RegExp(h,"g");!function(e){e[e.NORMAL=0]="NORMAL",e[e.WORD=1]="WORD",e[e.LINE=2]="LINE"}(o||(o={}));var f=function(e){function t(t,n,i){var r=e.call(this)||this;return r._terminal=t,r._buffer=n,r._charMeasure=i,r._enabled=!0,r._initListeners(),r.enable(),r._model=new c.SelectionModel(t),r._activeSelectionMode=o.NORMAL,r}return r(t,e),t.prototype._initListeners=function(){var e=this;this._mouseMoveListener=function(t){return e._onMouseMove(t)},this._mouseUpListener=function(t){return e._onMouseUp(t)},this._buffer.lines.on("trim",function(t){return e._onTrim(t)})},t.prototype.disable=function(){this.clearSelection(),this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.setBuffer=function(e){this._buffer=e,this.clearSelection()},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasSelection",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionText",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";var n=e[1]===t[1]?t[0]:null,i=[];i.push(this._buffer.translateBufferLineToString(e[1],!0,e[0],n));for(var r=e[1]+1;r<=t[1]-1;r++){var o=this._buffer.lines.get(r),s=this._buffer.translateBufferLineToString(r,!0);o.isWrapped?i[i.length-1]+=s:i.push(s)}return e[1]!==t[1]&&(o=this._buffer.lines.get(t[1]),s=this._buffer.translateBufferLineToString(t[1],!0,0,t[0]),o.isWrapped?i[i.length-1]+=s:i.push(s)),i.map(function(e){return e.replace(d," ")}).join(a.isMSWindows?"\r\n":"\n")},enumerable:!0,configurable:!0}),t.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh()},t.prototype.refresh=function(e){var t=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return t._refresh()})),a.isLinux&&e&&this.selectionText.length&&this.emit("newselection",this.selectionText)},t.prototype._refresh=function(){this._refreshAnimationFrame=null,this.emit("refresh",{start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd})},t.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._terminal.emit("selection")},t.prototype._onTrim=function(e){this._model.onTrim(e)&&this.refresh()},t.prototype._getMouseBufferCoords=function(e){var t=this._terminal.mouseHelper.getCoords(e,this._terminal.element,this._charMeasure,this._terminal.options.lineHeight,this._terminal.cols,this._terminal.rows,!0);return t?(t[0]--,t[1]--,t[1]+=this._terminal.buffer.ydisp,t):null},t.prototype._getMouseEventScrollAmount=function(e){var t=s.MouseHelper.getCoordsRelativeToElement(e,this._terminal.element)[1],n=this._terminal.rows*Math.ceil(this._charMeasure.height*this._terminal.options.lineHeight);return t>=0&&t<=n?0:(t>n&&(t-=n),t=Math.min(Math.max(t,-50),50),(t/=50)/Math.abs(t)+Math.round(14*t))},t.prototype.shouldForceSelection=function(e){return a.isMac?e.altKey:e.shiftKey},t.prototype.onMouseDown=function(e){if((2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._onIncrementalClick(e):1===e.detail?this._onSingleClick(e):2===e.detail?this._onDoubleClick(e):3===e.detail&&this._onTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}},t.prototype._addMouseDownListeners=function(){var e=this;this._terminal.element.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.addEventListener("mouseup",this._mouseUpListener),this._dragScrollIntervalTimer=setInterval(function(){return e._dragScroll()},50)},t.prototype._removeMouseDownListeners=function(){this._terminal.element.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.removeEventListener("mouseup",this._mouseUpListener),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=null},t.prototype._onIncrementalClick=function(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))},t.prototype._onSingleClick=function(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=o.NORMAL,this._model.selectionStart=this._getMouseBufferCoords(e),this._model.selectionStart){this._model.selectionEnd=null;var t=this._buffer.lines.get(this._model.selectionStart[1]);t&&(t.length>=this._model.selectionStart[0]||0===t[this._model.selectionStart[0]][u.CHAR_DATA_WIDTH_INDEX]&&this._model.selectionStart[0]++)}},t.prototype._onDoubleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=o.WORD,this._selectWordAt(t))},t.prototype._onTripleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=o.LINE,this._selectLineAt(t[1]))},t.prototype._onMouseMove=function(e){e.stopImmediatePropagation();var t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),this._model.selectionEnd){if(this._activeSelectionMode===o.LINE?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._terminal.cols:this._activeSelectionMode===o.WORD&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),this._dragScrollAmount>0?this._model.selectionEnd[0]=this._terminal.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]<this._buffer.lines.length){var n=this._buffer.lines.get(this._model.selectionEnd[1])[this._model.selectionEnd[0]];n&&0===n[u.CHAR_DATA_WIDTH_INDEX]&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)},t.prototype._dragScroll=function(){this._dragScrollAmount&&(this._terminal.scrollLines(this._dragScrollAmount,!1),this._dragScrollAmount>0?this._model.selectionEnd=[this._terminal.cols-1,this._terminal.buffer.ydisp+this._terminal.rows]:this._model.selectionEnd=[0,this._terminal.buffer.ydisp],this.refresh())},t.prototype._onMouseUp=function(e){this._removeMouseDownListeners(),this.hasSelection&&this._terminal.emit("selection")},t.prototype._convertViewportColToCharacterIndex=function(e,t){for(var n=t[0],i=0;t[0]>=i;i++){var r=e[i];0===r[u.CHAR_DATA_WIDTH_INDEX]?n--:r[u.CHAR_DATA_CHAR_INDEX].length>1&&t[0]!==i&&(n+=r[u.CHAR_DATA_CHAR_INDEX].length-1)}return n},t.prototype.setSelection=function(e,t,n){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=n,this.refresh()},t.prototype._getWordAt=function(e){var t=this._buffer.lines.get(e[1]);if(!t)return null;var n=this._buffer.translateBufferLineToString(e[1],!1),i=this._convertViewportColToCharacterIndex(t,e),r=i,o=e[0]-i,s=0,a=0,l=0,c=0;if(" "===n.charAt(i)){for(;i>0&&" "===n.charAt(i-1);)i--;for(;r<n.length&&" "===n.charAt(r+1);)r++}else{var h=e[0],d=e[0];for(0===t[h][u.CHAR_DATA_WIDTH_INDEX]&&(s++,h--),2===t[d][u.CHAR_DATA_WIDTH_INDEX]&&(a++,d++),t[d][u.CHAR_DATA_CHAR_INDEX].length>1&&(c+=t[d][u.CHAR_DATA_CHAR_INDEX].length-1,r+=t[d][u.CHAR_DATA_CHAR_INDEX].length-1);h>0&&i>0&&!this._isCharWordSeparator(t[h-1]);)0===(f=t[h-1])[u.CHAR_DATA_WIDTH_INDEX]?(s++,h--):f[u.CHAR_DATA_CHAR_INDEX].length>1&&(l+=f[u.CHAR_DATA_CHAR_INDEX].length-1,i-=f[u.CHAR_DATA_CHAR_INDEX].length-1),i--,h--;for(;d<t.length&&r+1<n.length&&!this._isCharWordSeparator(t[d+1]);){var f;2===(f=t[d+1])[u.CHAR_DATA_WIDTH_INDEX]?(a++,d++):f[u.CHAR_DATA_CHAR_INDEX].length>1&&(c+=f[u.CHAR_DATA_CHAR_INDEX].length-1,r+=f[u.CHAR_DATA_CHAR_INDEX].length-1),r++,d++}}return r++,{start:i+o-s+l,length:Math.min(this._terminal.cols,r-i+s+a-l-c)}},t.prototype._selectWordAt=function(e){var t=this._getWordAt(e);t&&(this._model.selectionStart=[t.start,e[1]],this._model.selectionStartLength=t.length)},t.prototype._selectToWordAt=function(e){var t=this._getWordAt(e);t&&(this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,e[1]])},t.prototype._isCharWordSeparator=function(e){return 0!==e[u.CHAR_DATA_WIDTH_INDEX]&&" ()[]{}'\"".indexOf(e[u.CHAR_DATA_CHAR_INDEX])>=0},t.prototype._selectLineAt=function(e){this._model.selectionStart=[0,e],this._model.selectionStartLength=this._terminal.cols},t}(l.EventEmitter);t.SelectionManager=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._terminal=e,this.clearSelection()}return e.prototype.clearSelection=function(){this.selectionStart=null,this.selectionEnd=null,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(e.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"finalSelectionEnd",{get:function(){return this.isSelectAllActive?[this._terminal.cols,this._terminal.buffer.ybase+this._terminal.rows-1]:this.selectionStart?!this.selectionEnd||this.areSelectionValuesReversed()?[this.selectionStart[0]+this.selectionStartLength,this.selectionStart[1]]:this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd:null},enumerable:!0,configurable:!0}),e.prototype.areSelectionValuesReversed=function(){var e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])},e.prototype.onTrim=function(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},e}();t.SelectionModel=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var i=e.call(this)||this;return i._document=t,i._parentElement=n,i._measureElement=i._document.createElement("span"),i._measureElement.style.position="absolute",i._measureElement.style.top="0",i._measureElement.style.left="-9999em",i._measureElement.style.lineHeight="normal",i._measureElement.textContent="W",i._measureElement.setAttribute("aria-hidden","true"),i._parentElement.appendChild(i._measureElement),i}return r(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.measure=function(e){this._measureElement.style.fontFamily=e.fontFamily,this._measureElement.style.fontSize=e.fontSize+"px";var t=this._measureElement.getBoundingClientRect();0!==t.width&&0!==t.height&&(this._width===t.width&&this._height===t.height||(this._width=t.width,this._height=Math.ceil(t.height),this.emit("charsizechanged")))},t}(n(1).EventEmitter);t.CharMeasure=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BellSound="data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg=="},function(e,t,n){"use strict";var i=n(58);t.a=(({type:e})=>{if("WebSocket"===e)return i.a})},function(e,t,n){"use strict";t.a=(({url:e,port:t,namespace:n,query:i})=>{let r=e+":"+t;return n&&("/"===n.substring(0,1)?r+=n:r+="/"+n),i&&("/"===i.substring(0,1)?r+=i:r+="/"+i),new window.WebSocket(r,["binary","base64"])})},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function r(e){return decodeURIComponent(e.replace(/\+/g," "))}t.stringify=function(e,t){t=t||"";var n=[];for(var r in"string"!=typeof t&&(t="?"),e)i.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,i={};t=n.exec(e);i[r(t[1])]=r(t[2]));return i}},function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"console-components",attrs:{id:this.name}})};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";var i=n(21),r=n(90),o=n(8)(i.a,r.a,!1,function(e){n(64)},"data-v-2204a12b",null);o.options.__file="src/components/Vnc.vue",t.a=o.exports},function(e,t,n){var i=n(65);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(4)("ab9e7ff0",i,!1,{})},function(e,t,n){(e.exports=n(3)()).push([e.i,"\n.vnc-components[data-v-2204a12b] {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n      -ms-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n.vnc-components .clip-area[data-v-2204a12b] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  opacity: 0;\n  z-index: -1;\n}\n",""])},function(e,t,n){"use strict";t.a=v;var i=n(2),r=n(67),o=n(6),s=n(68),a=n(69),l=n(71),c=n(77),u=n(78),h=n(79),d=n(7),f=n(80),p=n(81),m=n(88),g=n(89);function v(e,t,n){if(!e)throw Error("Must specify target");if(!t)throw Error("Must specify URL");this._target=e,this._url=t,n=n||{},this._rfb_credentials=n.credentials||{},this._shared=!("shared"in n&&!n.shared),this._repeaterID=n.repeaterID||"",this._rfb_connection_state="",this._rfb_init_state="",this._rfb_auth_scheme="",this._rfb_clean_disconnect=!0,this._rfb_version=0,this._rfb_max_version=3.8,this._rfb_tightvnc=!1,this._rfb_xvp_ver=0,this._fb_width=0,this._fb_height=0,this._fb_name="",this._capabilities={power:!1},this._supportsFence=!1,this._supportsContinuousUpdates=!1,this._enabledContinuousUpdates=!1,this._supportsSetDesktopSize=!1,this._screen_id=0,this._screen_flags=0,this._qemuExtKeyEventSupported=!1,this._sock=null,this._display=null,this._flushing=!1,this._keyboard=null,this._mouse=null,this._disconnTimer=null,this._resizeTimeout=null,this._encHandlers={},this._encStats={},this._FBU={rects:0,subrects:0,lines:0,tiles:0,bytes:0,x:0,y:0,width:0,height:0,encoding:0,subencoding:-1,background:null,zlibs:[]};for(var r=0;r<4;r++)this._FBU.zlibs[r]=new p.a;this._destBuff=null,this._paletteBuff=new Uint8Array(1024),this._rre_chunk_sz=100,this._timing={last_fbu:0,fbu_total:0,fbu_total_cnt:0,full_fbu_total:0,full_fbu_cnt:0,fbu_rt_start:0,fbu_rt_total:0,fbu_rt_cnt:0,pixels:0},this._mouse_buttonMask=0,this._mouse_arr=[],this._viewportDragging=!1,this._viewportDragPos={},this._viewportHasMoved=!1,this._eventHandlers={focusCanvas:this._focusCanvas.bind(this),windowResize:this._windowResize.bind(this)},i.a(">> RFB.constructor"),this._screen=document.createElement("div"),this._screen.style.display="flex",this._screen.style.width="100%",this._screen.style.height="100%",this._screen.style.overflow="auto",this._screen.style.backgroundColor="rgb(40, 40, 40)",this._canvas=document.createElement("canvas"),this._canvas.style.margin="auto",this._canvas.style.outline="none",this._canvas.style.flexShrink="0",this._canvas.width=0,this._canvas.height=0,this._canvas.tabIndex=-1,this._screen.appendChild(this._canvas),this._encHandlers[m.b.encodingRaw]=v.encodingHandlers.RAW.bind(this),this._encHandlers[m.b.encodingCopyRect]=v.encodingHandlers.COPYRECT.bind(this),this._encHandlers[m.b.encodingRRE]=v.encodingHandlers.RRE.bind(this),this._encHandlers[m.b.encodingHextile]=v.encodingHandlers.HEXTILE.bind(this),this._encHandlers[m.b.encodingTight]=v.encodingHandlers.TIGHT.bind(this),this._encHandlers[m.b.pseudoEncodingDesktopSize]=v.encodingHandlers.DesktopSize.bind(this),this._encHandlers[m.b.pseudoEncodingLastRect]=v.encodingHandlers.last_rect.bind(this),this._encHandlers[m.b.pseudoEncodingCursor]=v.encodingHandlers.Cursor.bind(this),this._encHandlers[m.b.pseudoEncodingQEMUExtendedKeyEvent]=v.encodingHandlers.QEMUExtendedKeyEvent.bind(this),this._encHandlers[m.b.pseudoEncodingExtendedDesktopSize]=v.encodingHandlers.ExtendedDesktopSize.bind(this);try{this._display=new a.a(this._canvas)}catch(e){throw i.b("Display exception: "+e),e}this._display.onflush=this._onFlush.bind(this),this._display.clear(),this._keyboard=new l.a(this._canvas),this._keyboard.onkeyevent=this._handleKeyEvent.bind(this),this._mouse=new c.a(this._canvas),this._mouse.onmousebutton=this._handleMouseButton.bind(this),this._mouse.onmousemove=this._handleMouseMove.bind(this),this._sock=new u.a,this._sock.on("message",this._handle_message.bind(this)),this._sock.on("open",function(){"connecting"===this._rfb_connection_state&&""===this._rfb_init_state?(this._rfb_init_state="ProtocolVersion",i.a("Starting VNC handshake")):this._fail("Unexpected server connection while "+this._rfb_connection_state)}.bind(this)),this._sock.on("close",function(e){i.a("WebSocket on-close event");var t="";switch(e.code&&(t="(code: "+e.code,e.reason&&(t+=", reason: "+e.reason),t+=")"),this._rfb_connection_state){case"connecting":this._fail("Connection closed "+t);break;case"connected":this._updateConnectionState("disconnecting"),this._updateConnectionState("disconnected");break;case"disconnecting":this._updateConnectionState("disconnected");break;case"disconnected":this._fail("Unexpected server disconnect when already disconnected "+t);break;default:this._fail("Unexpected server disconnect before connecting "+t)}this._sock.off("close")}.bind(this)),this._sock.on("error",function(e){i.d("WebSocket on-error event")}),setTimeout(this._updateConnectionState.bind(this,"connecting")),i.a("<< RFB.constructor")}n.n(g),v.prototype={dragViewport:!1,focusOnClick:!0,_viewOnly:!1,get viewOnly(){return this._viewOnly},set viewOnly(e){this._viewOnly=e,"connecting"!==this._rfb_connection_state&&"connected"!==this._rfb_connection_state||(e?(this._keyboard.ungrab(),this._mouse.ungrab()):(this._keyboard.grab(),this._mouse.grab()))},get capabilities(){return this._capabilities},get touchButton(){return this._mouse.touchButton},set touchButton(e){this._mouse.touchButton=e},_clipViewport:!1,get clipViewport(){return this._clipViewport},set clipViewport(e){this._clipViewport=e,this._updateClip()},_scaleViewport:!1,get scaleViewport(){return this._scaleViewport},set scaleViewport(e){this._scaleViewport=e,e&&this._clipViewport&&this._updateClip(),this._updateScale(),!e&&this._clipViewport&&this._updateClip()},_resizeSession:!1,get resizeSession(){return this._resizeSession},set resizeSession(e){this._resizeSession=e,e&&this._requestRemoteResize()},disconnect:function(){this._updateConnectionState("disconnecting"),this._sock.off("error"),this._sock.off("message"),this._sock.off("open")},sendCredentials:function(e){this._rfb_credentials=e,setTimeout(this._init_msg.bind(this),0)},sendCtrlAltDel:function(){"connected"!==this._rfb_connection_state||this._viewOnly||(i.c("Sending Ctrl-Alt-Del"),this.sendKey(d.a.XK_Control_L,"ControlLeft",!0),this.sendKey(d.a.XK_Alt_L,"AltLeft",!0),this.sendKey(d.a.XK_Delete,"Delete",!0),this.sendKey(d.a.XK_Delete,"Delete",!1),this.sendKey(d.a.XK_Alt_L,"AltLeft",!1),this.sendKey(d.a.XK_Control_L,"ControlLeft",!1))},machineShutdown:function(){this._xvpOp(1,2)},machineReboot:function(){this._xvpOp(1,3)},machineReset:function(){this._xvpOp(1,4)},sendKey:function(e,t,n){if("connected"===this._rfb_connection_state&&!this._viewOnly){if(void 0===n)return this.sendKey(e,t,!0),void this.sendKey(e,t,!1);var r=f.a[t];if(this._qemuExtKeyEventSupported&&r)e=e||0,i.c("Sending key ("+(n?"down":"up")+"): keysym "+e+", scancode "+r),v.messages.QEMUExtendedKeyEvent(this._sock,e,n,r);else{if(!e)return;i.c("Sending keysym ("+(n?"down":"up")+"): "+e),v.messages.keyEvent(this._sock,e,n?1:0)}}},focus:function(){this._canvas.focus()},blur:function(){this._canvas.blur()},clipboardPasteFrom:function(e){"connected"!==this._rfb_connection_state||this._viewOnly||v.messages.clientCutText(this._sock,e)},_connect:function(){i.a(">> RFB.connect"),i.c("connecting to "+this._url);try{this._sock.open(this._url,["binary"])}catch(e){"SyntaxError"===e.name?this._fail("Invalid host or port ("+e+")"):this._fail("Error when opening socket ("+e+")")}this._target.appendChild(this._screen),window.addEventListener("resize",this._eventHandlers.windowResize),this._canvas.addEventListener("mousedown",this._eventHandlers.focusCanvas),this._canvas.addEventListener("touchstart",this._eventHandlers.focusCanvas),i.a("<< RFB.connect")},_disconnect:function(){i.a(">> RFB.disconnect"),this._canvas.removeEventListener("mousedown",this._eventHandlers.focusCanvas),this._canvas.removeEventListener("touchstart",this._eventHandlers.focusCanvas),window.removeEventListener("resize",this._eventHandlers.windowResize),this._keyboard.ungrab(),this._mouse.ungrab(),this._sock.close(),this._print_stats();try{this._target.removeChild(this._screen)}catch(e){if("NotFoundError"!==e.name)throw e}clearTimeout(this._resizeTimeout),i.a("<< RFB.disconnect")},_print_stats:function(){var e=this._encStats;i.c("Encoding stats for this connection:"),Object.keys(e).forEach(function(t){var n=e[t];n[0]+n[1]>0&&i.c("    "+Object(m.a)(t)+": "+n[0]+" rects")}),i.c("Encoding stats since page load:"),Object.keys(e).forEach(function(t){var n=e[t];i.c("    "+Object(m.a)(t)+": "+n[1]+" rects")})},_focusCanvas:function(e){e.defaultPrevented||this.focusOnClick&&this.focus()},_windowResize:function(e){window.requestAnimationFrame(function(){this._updateClip(),this._updateScale()}.bind(this)),this._resizeSession&&(clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(this._requestRemoteResize.bind(this),500))},_updateClip:function(){var e=this._display.clipViewport,t=this._clipViewport;if(this._scaleViewport&&(t=!1),e!==t&&(this._display.clipViewport=t),t){let e=this._screenSize();this._display.viewportChangeSize(e.w,e.h),this._fixScrollbars()}},_updateScale:function(){if(this._scaleViewport){let e=this._screenSize();this._display.autoscale(e.w,e.h)}else this._display.scale=1;this._fixScrollbars()},_requestRemoteResize:function(){if(clearTimeout(this._resizeTimeout),this._resizeTimeout=null,!this._resizeSession||this._viewOnly||!this._supportsSetDesktopSize)return;let e=this._screenSize();v.messages.setDesktopSize(this._sock,e.w,e.h,this._screen_id,this._screen_flags),i.a("Requested new desktop size: "+e.w+"x"+e.h)},_screenSize:function(){return{w:this._screen.offsetWidth,h:this._screen.offsetHeight}},_fixScrollbars:function(){var e=this._screen.style.overflow;this._screen.style.overflow="hidden",this._screen.getBoundingClientRect(),this._screen.style.overflow=e},_updateConnectionState:function(e){var t=this._rfb_connection_state;if(e!==t)if("disconnected"!==t){switch(e){case"connected":if("connecting"!==t)return void i.b("Bad transition to connected state, previous connection state: "+t);break;case"disconnected":if("disconnecting"!==t)return void i.b("Bad transition to disconnected state, previous connection state: "+t);break;case"connecting":if(""!==t)return void i.b("Bad transition to connecting state, previous connection state: "+t);break;case"disconnecting":if("connected"!==t&&"connecting"!==t)return void i.b("Bad transition to disconnecting state, previous connection state: "+t);break;default:return void i.b("Unknown connection state: "+e)}this._rfb_connection_state=e;var n="New state '"+e+"', was '"+t+"'.";switch(i.a(n),this._disconnTimer&&"disconnecting"!==e&&(i.a("Clearing disconnect timer"),clearTimeout(this._disconnTimer),this._disconnTimer=null,this._sock.off("close")),e){case"connecting":this._connect();break;case"connected":var r=new CustomEvent("connect",{detail:{}});this.dispatchEvent(r);break;case"disconnecting":this._disconnect(),this._disconnTimer=setTimeout(function(){i.b("Disconnection timed out."),this._updateConnectionState("disconnected")}.bind(this),3e3);break;case"disconnected":r=new CustomEvent("disconnect",{detail:{clean:this._rfb_clean_disconnect}}),this.dispatchEvent(r)}}else i.b("Tried changing state of a disconnected RFB object");else i.a("Already in state '"+e+"', ignoring")},_fail:function(e){switch(this._rfb_connection_state){case"disconnecting":i.b("Failed when disconnecting: "+e);break;case"connected":i.b("Failed while connected: "+e);break;case"connecting":i.b("Failed when connecting: "+e);break;default:i.b("RFB failure: "+e)}return this._rfb_clean_disconnect=!1,this._updateConnectionState("disconnecting"),this._updateConnectionState("disconnected"),!1},_setCapability:function(e,t){this._capabilities[e]=t;var n=new CustomEvent("capabilities",{detail:{capabilities:this._capabilities}});this.dispatchEvent(n)},_handle_message:function(){if(0!==this._sock.rQlen())switch(this._rfb_connection_state){case"disconnected":i.b("Got data while disconnected");break;case"connected":for(;!this._flushing&&this._normal_msg()&&0!==this._sock.rQlen(););break;default:this._init_msg()}else i.d("handle_message called on an empty receive queue")},_handleKeyEvent:function(e,t,n){this.sendKey(e,t,n)},_handleMouseButton:function(e,t,n,i){if(n?this._mouse_buttonMask|=i:this._mouse_buttonMask&=~i,this.dragViewport){if(n&&!this._viewportDragging)return this._viewportDragging=!0,this._viewportDragPos={x:e,y:t},void(this._viewportHasMoved=!1);if(this._viewportDragging=!1,this._viewportHasMoved)return;v.messages.pointerEvent(this._sock,this._display.absX(e),this._display.absY(t),i)}this._viewOnly||"connected"===this._rfb_connection_state&&v.messages.pointerEvent(this._sock,this._display.absX(e),this._display.absY(t),this._mouse_buttonMask)},_handleMouseMove:function(e,t){if(this._viewportDragging){var n=this._viewportDragPos.x-e,i=this._viewportDragPos.y-t,r=10*(window.devicePixelRatio||1);(this._viewportHasMoved||Math.abs(n)>r||Math.abs(i)>r)&&(this._viewportHasMoved=!0,this._viewportDragPos={x:e,y:t},this._display.viewportChangePos(n,i))}else this._viewOnly||"connected"===this._rfb_connection_state&&v.messages.pointerEvent(this._sock,this._display.absX(e),this._display.absY(t),this._mouse_buttonMask)},_negotiate_protocol_version:function(){if(this._sock.rQlen()<12)return this._fail("Received incomplete protocol version.");var e=this._sock.rQshiftStr(12).substr(4,7);i.c("Server ProtocolVersion: "+e);var t=0;switch(e){case"000.000":t=1;break;case"003.003":case"003.006":case"003.889":this._rfb_version=3.3;break;case"003.007":this._rfb_version=3.7;break;case"003.008":case"004.000":case"004.001":case"005.000":this._rfb_version=3.8;break;default:return this._fail("Invalid server version "+e)}if(t){for(var n="ID:"+this._repeaterID;n.length<250;)n+="\0";return this._sock.send_string(n),!0}this._rfb_version>this._rfb_max_version&&(this._rfb_version=this._rfb_max_version);var r="00"+parseInt(this._rfb_version,10)+".00"+10*this._rfb_version%10;this._sock.send_string("RFB "+r+"\n"),i.a("Sent ProtocolVersion: "+r),this._rfb_init_state="Security"},_negotiate_security:function(){function e(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}if(this._rfb_version>=3.7){var t=this._sock.rQshift8();if(this._sock.rQwait("security type",t,1))return!1;if(0===t)return this._handle_security_failure("no security types");var n=this._sock.rQshiftBytes(t);if(i.a("Server security types: "+n),this._rfb_auth_scheme=0,e(1,n))this._rfb_auth_scheme=1;else if(e(22,n))this._rfb_auth_scheme=22;else if(e(16,n))this._rfb_auth_scheme=16;else{if(!e(2,n))return this._fail("Unsupported security types (types: "+n+")");this._rfb_auth_scheme=2}this._sock.send([this._rfb_auth_scheme])}else{if(this._sock.rQwait("security scheme",4))return!1;this._rfb_auth_scheme=this._sock.rQshift32()}return this._rfb_init_state="Authentication",i.a("Authenticating using scheme: "+this._rfb_auth_scheme),this._init_msg()},_handle_security_failure:function(e,t){if(e=void 0===e?"":" on "+e,void 0===t&&(t=1),this._sock.rQwait("reason length",4))return!1;let n=this._sock.rQshift32(),i="";if(n>0){if(this._sock.rQwait("reason",n,8))return!1;i=this._sock.rQshiftStr(n)}if(""!==i){let n=new CustomEvent("securityfailure",{detail:{status:t,reason:i}});return this.dispatchEvent(n),this._fail("Security negotiation failed"+e+" (reason: "+i+")")}{let n=new CustomEvent("securityfailure",{detail:{status:t}});return this.dispatchEvent(n),this._fail("Security negotiation failed"+e)}},_negotiate_xvp_auth:function(){if(!this._rfb_credentials.username||!this._rfb_credentials.password||!this._rfb_credentials.target){var e=new CustomEvent("credentialsrequired",{detail:{types:["username","password","target"]}});return this.dispatchEvent(e),!1}var t=String.fromCharCode(this._rfb_credentials.username.length)+String.fromCharCode(this._rfb_credentials.target.length)+this._rfb_credentials.username+this._rfb_credentials.target;return this._sock.send_string(t),this._rfb_auth_scheme=2,this._negotiate_authentication()},_negotiate_std_vnc_auth:function(){if(this._sock.rQwait("auth challenge",16))return!1;if(!this._rfb_credentials.password){var e=new CustomEvent("credentialsrequired",{detail:{types:["password"]}});return this.dispatchEvent(e),!1}var t=Array.prototype.slice.call(this._sock.rQshiftBytes(16)),n=v.genDES(this._rfb_credentials.password,t);return this._sock.send(n),this._rfb_init_state="SecurityResult",!0},_negotiate_tight_tunnels:function(e){for(var t={vendor:"TGHT",signature:"NOTUNNEL"},n={},i=0;i<e;i++){var r=this._sock.rQshift32(),o=this._sock.rQshiftStr(4),s=this._sock.rQshiftStr(8);n[r]={vendor:o,signature:s}}return n[0]?n[0].vendor!=t.vendor||n[0].signature!=t.signature?this._fail("Client's tunnel type had the incorrect vendor or signature"):(this._sock.send([0,0,0,0]),!1):this._fail("Server wanted tunnels, but doesn't support the notunnel type")},_negotiate_tight_auth:function(){if(!this._rfb_tightvnc){if(this._sock.rQwait("num tunnels",4))return!1;var e=this._sock.rQshift32();if(e>0&&this._sock.rQwait("tunnel capabilities",16*e,4))return!1;if(this._rfb_tightvnc=!0,e>0)return this._negotiate_tight_tunnels(e),!1}if(this._sock.rQwait("sub auth count",4))return!1;var t=this._sock.rQshift32();if(0===t)return this._rfb_init_state="SecurityResult",!0;if(this._sock.rQwait("sub auth capabilities",16*t,4))return!1;for(var n={STDVNOAUTH__:1,STDVVNCAUTH_:2},i=[],r=0;r<t;r++){this._sock.rQshift32();var o=this._sock.rQshiftStr(12);i.push(o)}for(var s in n)if(-1!=i.indexOf(s))switch(this._sock.send([0,0,0,n[s]]),s){case"STDVNOAUTH__":return this._rfb_init_state="SecurityResult",!0;case"STDVVNCAUTH_":return this._rfb_auth_scheme=2,this._init_msg();default:return this._fail("Unsupported tiny auth scheme (scheme: "+s+")")}return this._fail("No supported sub-auth types!")},_negotiate_authentication:function(){switch(this._rfb_auth_scheme){case 0:return this._handle_security_failure("authentication scheme");case 1:return this._rfb_version>=3.8?(this._rfb_init_state="SecurityResult",!0):(this._rfb_init_state="ClientInitialisation",this._init_msg());case 22:return this._negotiate_xvp_auth();case 2:return this._negotiate_std_vnc_auth();case 16:return this._negotiate_tight_auth();default:return this._fail("Unsupported auth scheme (scheme: "+this._rfb_auth_scheme+")")}},_handle_security_result:function(){if(this._sock.rQwait("VNC auth response ",4))return!1;let e=this._sock.rQshift32();if(0===e)return this._rfb_init_state="ClientInitialisation",i.a("Authentication OK"),this._init_msg();if(this._rfb_version>=3.8)return this._handle_security_failure("security result",e);{let t=new CustomEvent("securityfailure",{detail:{status:e}});return this.dispatchEvent(t),this._fail("Security handshake failed")}},_negotiate_server_init:function(){if(this._sock.rQwait("server initialization",24))return!1;var e=this._sock.rQshift16(),t=this._sock.rQshift16(),n=this._sock.rQshift8(),o=this._sock.rQshift8(),s=this._sock.rQshift8(),a=this._sock.rQshift8(),l=this._sock.rQshift16(),c=this._sock.rQshift16(),u=this._sock.rQshift16(),h=this._sock.rQshift8(),d=this._sock.rQshift8(),f=this._sock.rQshift8();this._sock.rQskipBytes(3);var p=this._sock.rQshift32();if(this._sock.rQwait("server init name",p,24))return!1;if(this._fb_name=Object(r.a)(this._sock.rQshiftStr(p)),this._rfb_tightvnc){if(this._sock.rQwait("TightVNC extended server init header",8,24+p))return!1;var m=this._sock.rQshift16(),g=this._sock.rQshift16(),y=this._sock.rQshift16();this._sock.rQskipBytes(2);var b=16*(m+g+y);if(this._sock.rQwait("TightVNC extended server init header",b,32+p))return!1;this._sock.rQskipBytes(16*m),this._sock.rQskipBytes(16*g),this._sock.rQskipBytes(16*y)}i.c("Screen: "+e+"x"+t+", bpp: "+n+", depth: "+o+", big_endian: "+s+", true_color: "+a+", red_max: "+l+", green_max: "+c+", blue_max: "+u+", red_shift: "+h+", green_shift: "+d+", blue_shift: "+f),0!==s&&i.d("Server native endian is not little endian"),16!==h&&i.d("Server native red-shift is not 16"),0!==f&&i.d("Server native blue-shift is not 0");var _=new CustomEvent("desktopname",{detail:{name:this._fb_name}});return this.dispatchEvent(_),this._resize(e,t),this._viewOnly||this._keyboard.grab(),this._viewOnly||this._mouse.grab(),this._fb_depth=24,"Intel(r) AMT KVM"===this._fb_name&&(i.d("Intel AMT KVM only supports 8/16 bit depths. Using low color mode."),this._fb_depth=8),v.messages.pixelFormat(this._sock,this._fb_depth,!0),this._sendEncodings(),v.messages.fbUpdateRequest(this._sock,!1,0,0,this._fb_width,this._fb_height),this._timing.fbu_rt_start=(new Date).getTime(),this._timing.pixels=0,this._display.disableLocalCursor(),this._updateConnectionState("connected"),!0},_sendEncodings:function(){var e=[];e.push(m.b.encodingCopyRect),24==this._fb_depth&&(e.push(m.b.encodingTight),e.push(m.b.encodingHextile),e.push(m.b.encodingRRE)),e.push(m.b.encodingRaw),e.push(m.b.pseudoEncodingTightPNG),e.push(m.b.pseudoEncodingQualityLevel0+6),e.push(m.b.pseudoEncodingCompressLevel0+2),e.push(m.b.pseudoEncodingDesktopSize),e.push(m.b.pseudoEncodingLastRect),e.push(m.b.pseudoEncodingQEMUExtendedKeyEvent),e.push(m.b.pseudoEncodingExtendedDesktopSize),e.push(m.b.pseudoEncodingXvp),e.push(m.b.pseudoEncodingFence),e.push(m.b.pseudoEncodingContinuousUpdates),Object(o.g)()&&!o.e&&24==this._fb_depth&&e.push(m.b.pseudoEncodingCursor),v.messages.clientEncodings(this._sock,e)},_init_msg:function(){switch(this._rfb_init_state){case"ProtocolVersion":return this._negotiate_protocol_version();case"Security":return this._negotiate_security();case"Authentication":return this._negotiate_authentication();case"SecurityResult":return this._handle_security_result();case"ClientInitialisation":return this._sock.send([this._shared?1:0]),this._rfb_init_state="ServerInitialisation",!0;case"ServerInitialisation":return this._negotiate_server_init();default:return this._fail("Unknown init state (state: "+this._rfb_init_state+")")}},_handle_set_colour_map_msg:function(){return i.a("SetColorMapEntries"),this._fail("Unexpected SetColorMapEntries message")},_handle_server_cut_text:function(){if(i.a("ServerCutText"),this._sock.rQwait("ServerCutText header",7,1))return!1;this._sock.rQskipBytes(3);var e=this._sock.rQshift32();if(this._sock.rQwait("ServerCutText",e,8))return!1;var t=this._sock.rQshiftStr(e);if(this._viewOnly)return!0;var n=new CustomEvent("clipboard",{detail:{text:t}});return this.dispatchEvent(n),!0},_handle_server_fence_msg:function(){if(this._sock.rQwait("ServerFence header",8,1))return!1;this._sock.rQskipBytes(3);var e=this._sock.rQshift32(),t=this._sock.rQshift8();if(this._sock.rQwait("ServerFence payload",t,9))return!1;t>64&&(i.d("Bad payload length ("+t+") in fence response"),t=64);var n=this._sock.rQshiftStr(t);return this._supportsFence=!0,e&1<<31?(e&=3,v.messages.clientFence(this._sock,e,n),!0):this._fail("Unexpected fence response")},_handle_xvp_msg:function(){if(this._sock.rQwait("XVP version and message",3,1))return!1;this._sock.rQskip8();var e=this._sock.rQshift8(),t=this._sock.rQshift8();switch(t){case 0:i.b("XVP Operation Failed");break;case 1:this._rfb_xvp_ver=e,i.c("XVP extensions enabled (version "+this._rfb_xvp_ver+")"),this._setCapability("power",!0);break;default:this._fail("Illegal server XVP message (msg: "+t+")")}return!0},_normal_msg:function(){var e;switch(e=this._FBU.rects>0?0:this._sock.rQshift8()){case 0:var t=this._framebufferUpdate();return t&&!this._enabledContinuousUpdates&&v.messages.fbUpdateRequest(this._sock,!0,0,0,this._fb_width,this._fb_height),t;case 1:return this._handle_set_colour_map_msg();case 2:i.a("Bell");var n=new CustomEvent("bell",{detail:{}});return this.dispatchEvent(n),!0;case 3:return this._handle_server_cut_text();case 150:var r=!this._supportsContinuousUpdates;return this._supportsContinuousUpdates=!0,this._enabledContinuousUpdates=!1,r&&(this._enabledContinuousUpdates=!0,this._updateContinuousUpdates(),i.c("Enabling continuous updates.")),!0;case 248:return this._handle_server_fence_msg();case 250:return this._handle_xvp_msg();default:return this._fail("Unexpected server message (type "+e+")"),i.a("sock.rQslice(0, 30): "+this._sock.rQslice(0,30)),!0}},_onFlush:function(){this._flushing=!1,this._sock.rQlen()>0&&this._handle_message()},_framebufferUpdate:function(){var e,t=!0;if(0===this._FBU.rects){if(this._sock.rQwait("FBU header",3,1))return!1;if(this._sock.rQskip8(),this._FBU.rects=this._sock.rQshift16(),this._FBU.bytes=0,this._timing.cur_fbu=0,this._timing.fbu_rt_start>0&&(e=(new Date).getTime(),i.c("First FBU latency: "+(e-this._timing.fbu_rt_start))),this._display.pending())return this._flushing=!0,this._display.flush(),!1}for(;this._FBU.rects>0;){if("connected"!==this._rfb_connection_state)return!1;if(this._sock.rQwait("FBU",this._FBU.bytes))return!1;if(0===this._FBU.bytes){if(this._sock.rQwait("rect header",12))return!1;var n=this._sock.rQshiftBytes(12);if(this._FBU.x=(n[0]<<8)+n[1],this._FBU.y=(n[2]<<8)+n[3],this._FBU.width=(n[4]<<8)+n[5],this._FBU.height=(n[6]<<8)+n[7],this._FBU.encoding=parseInt((n[8]<<24)+(n[9]<<16)+(n[10]<<8)+n[11],10),!this._encHandlers[this._FBU.encoding])return this._fail("Unsupported encoding (encoding: "+this._FBU.encoding+")"),!1}if(this._timing.last_fbu=(new Date).getTime(),t=this._encHandlers[this._FBU.encoding](),e=(new Date).getTime(),this._timing.cur_fbu+=e-this._timing.last_fbu,t&&(this._FBU.encoding in this._encStats||(this._encStats[this._FBU.encoding]=[0,0]),this._encStats[this._FBU.encoding][0]++,this._encStats[this._FBU.encoding][1]++,this._timing.pixels+=this._FBU.width*this._FBU.height),this._timing.pixels>=this._fb_width*this._fb_height&&((this._FBU.width===this._fb_width&&this._FBU.height===this._fb_height||this._timing.fbu_rt_start>0)&&(this._timing.full_fbu_total+=this._timing.cur_fbu,this._timing.full_fbu_cnt++,i.c("Timing of full FBU, curr: "+this._timing.cur_fbu+", total: "+this._timing.full_fbu_total+", cnt: "+this._timing.full_fbu_cnt+", avg: "+this._timing.full_fbu_total/this._timing.full_fbu_cnt)),this._timing.fbu_rt_start>0)){var r=e-this._timing.fbu_rt_start;this._timing.fbu_rt_total+=r,this._timing.fbu_rt_cnt++,i.c("full FBU round-trip, cur: "+r+", total: "+this._timing.fbu_rt_total+", cnt: "+this._timing.fbu_rt_cnt+", avg: "+this._timing.fbu_rt_total/this._timing.fbu_rt_cnt),this._timing.fbu_rt_start=0}if(!t)return t}return this._display.flip(),!0},_updateContinuousUpdates:function(){this._enabledContinuousUpdates&&v.messages.enableContinuousUpdates(this._sock,!0,0,0,this._fb_width,this._fb_height)},_resize:function(e,t){this._fb_width=e,this._fb_height=t,this._destBuff=new Uint8Array(this._fb_width*this._fb_height*4),this._display.resize(this._fb_width,this._fb_height),this._updateClip(),this._updateScale(),this._timing.fbu_rt_start=(new Date).getTime(),this._updateContinuousUpdates()},_xvpOp:function(e,t){this._rfb_xvp_ver<e||(i.c("Sending XVP operation "+t+" (version "+e+")"),v.messages.xvpOp(this._sock,e,t))}},Object.assign(v.prototype,s.a),v.messages={keyEvent:function(e,t,n){var i=e._sQ,r=e._sQlen;i[r]=4,i[r+1]=n,i[r+2]=0,i[r+3]=0,i[r+4]=t>>24,i[r+5]=t>>16,i[r+6]=t>>8,i[r+7]=t,e._sQlen+=8,e.flush()},QEMUExtendedKeyEvent:function(e,t,n,i){var r=e._sQ,o=e._sQlen;r[o]=255,r[o+1]=0,r[o+2]=n>>8,r[o+3]=n,r[o+4]=t>>24,r[o+5]=t>>16,r[o+6]=t>>8,r[o+7]=t;var s,a=(s=255&i,224==i>>8&&s<127?s|=128:i);r[o+8]=a>>24,r[o+9]=a>>16,r[o+10]=a>>8,r[o+11]=a,e._sQlen+=12,e.flush()},pointerEvent:function(e,t,n,i){var r=e._sQ,o=e._sQlen;r[o]=5,r[o+1]=i,r[o+2]=t>>8,r[o+3]=t,r[o+4]=n>>8,r[o+5]=n,e._sQlen+=6,e.flush()},clientCutText:function(e,t){var n=e._sQ,i=e._sQlen;n[i]=6,n[i+1]=0,n[i+2]=0,n[i+3]=0;var r=t.length;n[i+4]=r>>24,n[i+5]=r>>16,n[i+6]=r>>8,n[i+7]=r;for(var o=0;o<r;o++)n[i+8+o]=t.charCodeAt(o);e._sQlen+=8+r,e.flush()},setDesktopSize:function(e,t,n,i,r){var o=e._sQ,s=e._sQlen;o[s]=251,o[s+1]=0,o[s+2]=t>>8,o[s+3]=t,o[s+4]=n>>8,o[s+5]=n,o[s+6]=1,o[s+7]=0,o[s+8]=i>>24,o[s+9]=i>>16,o[s+10]=i>>8,o[s+11]=i,o[s+12]=0,o[s+13]=0,o[s+14]=0,o[s+15]=0,o[s+16]=t>>8,o[s+17]=t,o[s+18]=n>>8,o[s+19]=n,o[s+20]=r>>24,o[s+21]=r>>16,o[s+22]=r>>8,o[s+23]=r,e._sQlen+=24,e.flush()},clientFence:function(e,t,n){var i=e._sQ,r=e._sQlen;i[r]=248,i[r+1]=0,i[r+2]=0,i[r+3]=0,i[r+4]=t>>24,i[r+5]=t>>16,i[r+6]=t>>8,i[r+7]=t;var o=n.length;i[r+8]=o;for(var s=0;s<o;s++)i[r+9+s]=n.charCodeAt(s);e._sQlen+=9+o,e.flush()},enableContinuousUpdates:function(e,t,n,i,r,o){var s=e._sQ,a=e._sQlen;s[a]=150,s[a+1]=t,s[a+2]=n>>8,s[a+3]=n,s[a+4]=i>>8,s[a+5]=i,s[a+6]=r>>8,s[a+7]=r,s[a+8]=o>>8,s[a+9]=o,e._sQlen+=10,e.flush()},pixelFormat:function(e,t,n){var i,r,o=e._sQ,s=e._sQlen;i=t>16?32:t>8?16:8,r=Math.floor(t/3),o[s]=0,o[s+1]=0,o[s+2]=0,o[s+3]=0,o[s+4]=i,o[s+5]=t,o[s+6]=0,o[s+7]=n?1:0,o[s+8]=0,o[s+9]=(1<<r)-1,o[s+10]=0,o[s+11]=(1<<r)-1,o[s+12]=0,o[s+13]=(1<<r)-1,o[s+14]=2*r,o[s+15]=1*r,o[s+16]=0*r,o[s+17]=0,o[s+18]=0,o[s+19]=0,e._sQlen+=20,e.flush()},clientEncodings:function(e,t){var n=e._sQ,i=e._sQlen;n[i]=2,n[i+1]=0,n[i+2]=t.length>>8,n[i+3]=t.length;var r,o=i+4;for(r=0;r<t.length;r++){var s=t[r];n[o]=s>>24,n[o+1]=s>>16,n[o+2]=s>>8,n[o+3]=s,o+=4}e._sQlen+=o-i,e.flush()},fbUpdateRequest:function(e,t,n,i,r,o){var s=e._sQ,a=e._sQlen;void 0===n&&(n=0),void 0===i&&(i=0),s[a]=3,s[a+1]=t?1:0,s[a+2]=n>>8&255,s[a+3]=255&n,s[a+4]=i>>8&255,s[a+5]=255&i,s[a+6]=r>>8&255,s[a+7]=255&r,s[a+8]=o>>8&255,s[a+9]=255&o,e._sQlen+=10,e.flush()},xvpOp:function(e,t,n){var i=e._sQ,r=e._sQlen;i[r]=250,i[r+1]=0,i[r+2]=t,i[r+3]=n,e._sQlen+=4,e.flush()}},v.genDES=function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(e.charCodeAt(i));return new h.a(n).encrypt(t)},v.encodingHandlers={RAW:function(){0===this._FBU.lines&&(this._FBU.lines=this._FBU.height);var e=8==this._fb_depth?1:4;if(this._FBU.bytes=this._FBU.width*e,this._sock.rQwait("RAW",this._FBU.bytes))return!1;var t=this._FBU.y+(this._FBU.height-this._FBU.lines),n=Math.min(this._FBU.lines,Math.floor(this._sock.rQlen()/(this._FBU.width*e))),i=this._sock.get_rQ(),r=this._sock.get_rQi();if(8==this._fb_depth){var o,s=this._FBU.width*n,a=new Uint8Array(4*s);for(o=0;o<s;o++)a[4*o+0]=255*(i[r+o]>>0&3)/3,a[4*o+1]=255*(i[r+o]>>2&3)/3,a[4*o+2]=255*(i[r+o]>>4&3)/3,a[4*o+4]=0;i=a,r=0}return this._display.blitImage(this._FBU.x,t,this._FBU.width,n,i,r),this._sock.rQskipBytes(this._FBU.width*n*e),this._FBU.lines-=n,this._FBU.lines>0?this._FBU.bytes=this._FBU.width*e:(this._FBU.rects--,this._FBU.bytes=0),!0},COPYRECT:function(){return this._FBU.bytes=4,!this._sock.rQwait("COPYRECT",4)&&(this._display.copyImage(this._sock.rQshift16(),this._sock.rQshift16(),this._FBU.x,this._FBU.y,this._FBU.width,this._FBU.height),this._FBU.rects--,this._FBU.bytes=0,!0)},RRE:function(){var e;if(0===this._FBU.subrects){if(this._FBU.bytes=8,this._sock.rQwait("RRE",8))return!1;this._FBU.subrects=this._sock.rQshift32(),e=this._sock.rQshiftBytes(4),this._display.fillRect(this._FBU.x,this._FBU.y,this._FBU.width,this._FBU.height,e)}for(;this._FBU.subrects>0&&this._sock.rQlen()>=12;){e=this._sock.rQshiftBytes(4);var t=this._sock.rQshift16(),n=this._sock.rQshift16(),i=this._sock.rQshift16(),r=this._sock.rQshift16();this._display.fillRect(this._FBU.x+t,this._FBU.y+n,i,r,e),this._FBU.subrects--}if(this._FBU.subrects>0){var o=Math.min(this._rre_chunk_sz,this._FBU.subrects);this._FBU.bytes=12*o}else this._FBU.rects--,this._FBU.bytes=0;return!0},HEXTILE:function(){var e=this._sock.get_rQ(),t=this._sock.get_rQi();for(0===this._FBU.tiles&&(this._FBU.tiles_x=Math.ceil(this._FBU.width/16),this._FBU.tiles_y=Math.ceil(this._FBU.height/16),this._FBU.total_tiles=this._FBU.tiles_x*this._FBU.tiles_y,this._FBU.tiles=this._FBU.total_tiles);this._FBU.tiles>0;){if(this._FBU.bytes=1,this._sock.rQwait("HEXTILE subencoding",this._FBU.bytes))return!1;var n=e[t];if(n>30)return this._fail("Illegal hextile subencoding (subencoding: "+n+")"),!1;var r=0,o=this._FBU.total_tiles-this._FBU.tiles,s=o%this._FBU.tiles_x,a=Math.floor(o/this._FBU.tiles_x),l=this._FBU.x+16*s,c=this._FBU.y+16*a,u=Math.min(16,this._FBU.x+this._FBU.width-l),h=Math.min(16,this._FBU.y+this._FBU.height-c);if(1&n)this._FBU.bytes+=u*h*4;else if(2&n&&(this._FBU.bytes+=4),4&n&&(this._FBU.bytes+=4),8&n){if(this._FBU.bytes++,this._sock.rQwait("hextile subrects header",this._FBU.bytes))return!1;r=e[t+this._FBU.bytes-1],this._FBU.bytes+=16&n?6*r:2*r}if(this._sock.rQwait("hextile",this._FBU.bytes))return!1;if(this._FBU.subencoding=e[t],t++,0===this._FBU.subencoding)1&this._FBU.lastsubencoding?i.a("     Ignoring blank after RAW"):this._display.fillRect(l,c,u,h,this._FBU.background);else if(1&this._FBU.subencoding)this._display.blitImage(l,c,u,h,e,t),t+=this._FBU.bytes-1;else{if(2&this._FBU.subencoding&&(this._FBU.background=[e[t],e[t+1],e[t+2],e[t+3]],t+=4),4&this._FBU.subencoding&&(this._FBU.foreground=[e[t],e[t+1],e[t+2],e[t+3]],t+=4),this._display.startTile(l,c,u,h,this._FBU.background),8&this._FBU.subencoding){r=e[t],t++;for(var d=0;d<r;d++){var f;16&this._FBU.subencoding?(f=[e[t],e[t+1],e[t+2],e[t+3]],t+=4):f=this._FBU.foreground;var p=e[t],m=p>>4,g=15&p,v=e[++t];t++;var y=1+(v>>4),b=1+(15&v);this._display.subTile(m,g,y,b,f)}}this._display.finishTile()}this._sock.set_rQi(t),this._FBU.lastsubencoding=this._FBU.subencoding,this._FBU.bytes=0,this._FBU.tiles--}return 0===this._FBU.tiles&&this._FBU.rects--,!0},TIGHT:function(){if(this._FBU.bytes=1,this._sock.rQwait("TIGHT compression-control",this._FBU.bytes))return!1;var e,t,n,r,o=0,s=-1,a=function(e,t){for(var n=0;n<4;n++)o>>n&1&&(this._FBU.zlibs[n].reset(),i.c("Reset zlib stream "+n));return this._FBU.zlibs[s].inflate(e,!0,t)}.bind(this),l=function(e,t,n,i){for(var r=this._destBuff,o=Math.floor((n+7)/8),s=Math.floor(n/8),a=0;a<i;a++){var l,c,u,h;for(c=0;c<s;c++)for(l=7;l>=0;l--)u=4*(a*n+8*c+7-l),h=3*(e[a*o+c]>>l&1),r[u]=t[h],r[u+1]=t[h+1],r[u+2]=t[h+2],r[u+3]=255;for(l=7;l>=8-n%8;l--)u=4*(a*n+8*c+7-l),h=3*(e[a*o+c]>>l&1),r[u]=t[h],r[u+1]=t[h+1],r[u+2]=t[h+2],r[u+3]=255}return r}.bind(this),c=function(e,t,n,i){for(var r=this._destBuff,o=n*i*4,s=0,a=0;s<o;s+=4,a++){var l=3*e[a];r[s]=t[l],r[s+1]=t[l+1],r[s+2]=t[l+2],r[s+3]=255}return r}.bind(this),u=this._sock.get_rQi(),h=this._sock.rQwhole(),d=function(){var i=h[u+2]+1,o=3*i;if(this._FBU.bytes+=o,this._sock.rQwait("TIGHT palette "+e,this._FBU.bytes))return!1;var s,d=i<=2?1:8,f=Math.floor((this._FBU.width*d+7)/8),p=!1;if(f*this._FBU.height<12)p=!0,n=0,r=f*this._FBU.height;else{var m=u+3+o;n=1,r=0,r+=127&h[m],128&h[m]&&(n++,r+=(127&h[m+1])<<7,128&h[m+1]&&(n++,r+=h[m+2]<<14))}return this._FBU.bytes+=n+r,!this._sock.rQwait("TIGHT "+e,this._FBU.bytes)&&(this._sock.rQskipBytes(3),this._sock.rQshiftTo(this._paletteBuff,o),this._sock.rQskipBytes(n),t=p?this._sock.rQshiftBytes(r):a(this._sock.rQshiftBytes(r),f*this._FBU.height),2==i?(s=l(t,this._paletteBuff,this._FBU.width,this._FBU.height),this._display.blitRgbxImage(this._FBU.x,this._FBU.y,this._FBU.width,this._FBU.height,s,0,!1)):(s=c(t,this._paletteBuff,this._FBU.width,this._FBU.height),this._display.blitRgbxImage(this._FBU.x,this._FBU.y,this._FBU.width,this._FBU.height,s,0,!1)),!0)}.bind(this),f=function(){var i=!1,o=this._FBU.width*this._FBU.height*3;if(o<12)i=!0,n=0,r=o;else{var s=u+1;n=1,r=0,r+=127&h[s],128&h[s]&&(n++,r+=(127&h[s+1])<<7,128&h[s+1]&&(n++,r+=h[s+2]<<14))}return this._FBU.bytes=1+n+r,!this._sock.rQwait("TIGHT "+e,this._FBU.bytes)&&(this._sock.rQshiftBytes(1+n),t=i?this._sock.rQshiftBytes(r):a(this._sock.rQshiftBytes(r),o),this._display.blitRgbImage(this._FBU.x,this._FBU.y,this._FBU.width,this._FBU.height,t,0,!1),!0)}.bind(this),p=this._sock.rQpeek8();if(o=15&p,s=3&(p>>=4),8===p)e="fill";else if(9===p)e="jpeg";else if(10===p)e="png";else if(4&p)e="filter";else{if(!(p<4))return this._fail("Illegal tight compression received (ctl: "+p+")");e="copy"}switch(e){case"fill":case"jpeg":case"png":this._FBU.bytes+=3;break;case"filter":this._FBU.bytes+=2}if(this._sock.rQwait("TIGHT "+e,this._FBU.bytes))return!1;switch(e){case"fill":this._display.fillRect(this._FBU.x,this._FBU.y,this._FBU.width,this._FBU.height,[h[u+3],h[u+2],h[u+1]],!1),this._sock.rQskipBytes(4);break;case"png":case"jpeg":var m=u+1;if(n=1,r=0,r+=127&h[m],128&h[m]&&(n++,r+=(127&h[m+1])<<7,128&h[m+1]&&(n++,r+=h[m+2]<<14)),this._FBU.bytes=1+n+r,this._sock.rQwait("TIGHT "+e,this._FBU.bytes))return!1;this._sock.rQskipBytes(1+n),t=this._sock.rQshiftBytes(r),this._display.imageRect(this._FBU.x,this._FBU.y,"image/"+e,t);break;case"filter":var g=h[u+1];if(1===g){if(!d())return!1}else this._fail("Unsupported tight subencoding received (filter: "+g+")");break;case"copy":if(!f())return!1}return this._FBU.bytes=0,this._FBU.rects--,!0},last_rect:function(){return this._FBU.rects=0,!0},ExtendedDesktopSize:function(){if(this._FBU.bytes=1,this._sock.rQwait("ExtendedDesktopSize",this._FBU.bytes))return!1;var e=!this._supportsSetDesktopSize;this._supportsSetDesktopSize=!0,e&&this._requestRemoteResize();var t=this._sock.rQpeek8();if(this._FBU.bytes=4+16*t,this._sock.rQwait("ExtendedDesktopSize",this._FBU.bytes))return!1;this._sock.rQskipBytes(1),this._sock.rQskipBytes(3);for(var n=0;n<t;n+=1)0===n?(this._screen_id=this._sock.rQshiftBytes(4),this._sock.rQskipBytes(2),this._sock.rQskipBytes(2),this._sock.rQskipBytes(2),this._sock.rQskipBytes(2),this._screen_flags=this._sock.rQshiftBytes(4)):this._sock.rQskipBytes(16);if(1===this._FBU.x&&0!==this._FBU.y){var r="";switch(this._FBU.y){case 1:r="Resize is administratively prohibited";break;case 2:r="Out of resources";break;case 3:r="Invalid screen layout";break;default:r="Unknown reason"}i.d("Server did not accept the resize request: "+r)}else this._resize(this._FBU.width,this._FBU.height);return this._FBU.bytes=0,this._FBU.rects-=1,!0},DesktopSize:function(){return this._resize(this._FBU.width,this._FBU.height),this._FBU.bytes=0,this._FBU.rects-=1,!0},Cursor:function(){i.a(">> set_cursor");var e=this._FBU.x,t=this._FBU.y,n=this._FBU.width,r=this._FBU.height,o=n*r*4,s=Math.floor((n+7)/8)*r;return this._FBU.bytes=o+s,!this._sock.rQwait("cursor encoding",this._FBU.bytes)&&(this._display.changeCursor(this._sock.rQshiftBytes(o),this._sock.rQshiftBytes(s),e,t,n,r),this._FBU.bytes=0,this._FBU.rects--,i.a("<< set_cursor"),!0)},QEMUExtendedKeyEvent:function(){this._FBU.rects--;try{void 0!==document.createEvent("keyboardEvent").code&&(this._qemuExtKeyEventSupported=!0)}catch(e){}}}},function(e,t,n){"use strict";t.a=function(e){return decodeURIComponent(escape(e))}},function(e,t,n){"use strict";var i={_listeners:null,addEventListener:function(e,t){this._listeners||(this._listeners=new Map),this._listeners.has(e)||this._listeners.set(e,new Set),this._listeners.get(e).add(t)},removeEventListener:function(e,t){this._listeners&&this._listeners.has(e)&&this._listeners.get(e).delete(t)},dispatchEvent:function(e){return!this._listeners||!this._listeners.has(e.type)||(this._listeners.get(e.type).forEach(function(t){t.call(this,e)},this),!e.defaultPrevented)}};t.a=i},function(e,t,n){"use strict";t.a=o;var i=n(2),r=n(70);function o(e){if(this._drawCtx=null,this._c_forceCanvas=!1,this._renderQ=[],this._flushing=!1,this._fb_width=0,this._fb_height=0,this._prevDrawStyle="",this._tile=null,this._tile16x16=null,this._tile_x=0,this._tile_y=0,i.a(">> Display.constructor"),this._target=e,!this._target)throw new Error("Target must be set");if("string"==typeof this._target)throw new Error("target must be a DOM element");if(!this._target.getContext)throw new Error("no getContext method");if(this._targetCtx=this._target.getContext("2d"),this._viewportLoc={x:0,y:0,w:this._target.width,h:this._target.height},this._backbuffer=document.createElement("canvas"),this._drawCtx=this._backbuffer.getContext("2d"),this._damageBounds={left:0,top:0,right:this._backbuffer.width,bottom:this._backbuffer.height},i.a("User Agent: "+navigator.userAgent),this.clear(),!("createImageData"in this._drawCtx))throw new Error("Canvas does not support createImageData");this._tile16x16=this._drawCtx.createImageData(16,16),i.a("<< Display.constructor")}var s=!1;try{new ImageData(new Uint8ClampedArray(4),1,1),s=!0}catch(e){}o.prototype={_scale:1,get scale(){return this._scale},set scale(e){this._rescale(e)},_clipViewport:!1,get clipViewport(){return this._clipViewport},set clipViewport(e){this._clipViewport=e;var t=this._viewportLoc;this.viewportChangeSize(t.w,t.h),this.viewportChangePos(0,0)},get width(){return this._fb_width},get height(){return this._fb_height},logo:null,onflush:function(){},viewportChangePos:function(e,t){var n=this._viewportLoc;e=Math.floor(e),t=Math.floor(t),this._clipViewport||(e=-n.w,t=-n.h);var r=n.x+n.w-1,o=n.y+n.h-1;e<0&&n.x+e<0&&(e=-n.x),r+e>=this._fb_width&&(e-=r+e-this._fb_width+1),n.y+t<0&&(t=-n.y),o+t>=this._fb_height&&(t-=o+t-this._fb_height+1),0===e&&0===t||(i.a("viewportChange deltaX: "+e+", deltaY: "+t),n.x+=e,n.y+=t,this._damage(n.x,n.y,n.w,n.h),this.flip())},viewportChangeSize:function(e,t){this._clipViewport&&void 0!==e&&void 0!==t||(i.a("Setting viewport to full display region"),e=this._fb_width,t=this._fb_height),e>this._fb_width&&(e=this._fb_width),t>this._fb_height&&(t=this._fb_height);var n=this._viewportLoc;if(n.w!==e||n.h!==t){n.w=e,n.h=t;var r=this._target;r.width=e,r.height=t,this.viewportChangePos(0,0),this._damage(n.x,n.y,n.w,n.h),this.flip(),this._rescale(this._scale)}},absX:function(e){return e/this._scale+this._viewportLoc.x},absY:function(e){return e/this._scale+this._viewportLoc.y},resize:function(e,t){this._prevDrawStyle="",this._fb_width=e,this._fb_height=t;var n=this._backbuffer;if(n.width!==e||n.height!==t){var i=null;n.width>0&&n.height>0&&(i=this._drawCtx.getImageData(0,0,n.width,n.height)),n.width!==e&&(n.width=e),n.height!==t&&(n.height=t),i&&this._drawCtx.putImageData(i,0,0)}var r=this._viewportLoc;this.viewportChangeSize(r.w,r.h),this.viewportChangePos(0,0)},_damage:function(e,t,n,i){e<this._damageBounds.left&&(this._damageBounds.left=e),t<this._damageBounds.top&&(this._damageBounds.top=t),e+n>this._damageBounds.right&&(this._damageBounds.right=e+n),t+i>this._damageBounds.bottom&&(this._damageBounds.bottom=t+i)},flip:function(e){var t,n,i,r,o,s;0===this._renderQ.length||e?(t=this._damageBounds.left,n=this._damageBounds.top,o=this._damageBounds.right-t,s=this._damageBounds.bottom-n,i=t-this._viewportLoc.x,r=n-this._viewportLoc.y,i<0&&(o+=i,t-=i,i=0),r<0&&(s+=r,n-=r,r=0),i+o>this._viewportLoc.w&&(o=this._viewportLoc.w-i),r+s>this._viewportLoc.h&&(s=this._viewportLoc.h-r),o>0&&s>0&&this._targetCtx.drawImage(this._backbuffer,t,n,o,s,i,r,o,s),this._damageBounds.left=this._damageBounds.top=65535,this._damageBounds.right=this._damageBounds.bottom=0):this._renderQ_push({type:"flip"})},clear:function(){this._logo?(this.resize(this._logo.width,this._logo.height),this.imageRect(0,0,this._logo.type,this._logo.data)):(this.resize(240,20),this._drawCtx.clearRect(0,0,this._fb_width,this._fb_height)),this.flip()},pending:function(){return this._renderQ.length>0},flush:function(){0===this._renderQ.length?this.onflush():this._flushing=!0},fillRect:function(e,t,n,i,r,o){0===this._renderQ.length||o?(this._setFillColor(r),this._drawCtx.fillRect(e,t,n,i),this._damage(e,t,n,i)):this._renderQ_push({type:"fill",x:e,y:t,width:n,height:i,color:r})},copyImage:function(e,t,n,i,r,o,s){0===this._renderQ.length||s?(this._drawCtx.mozImageSmoothingEnabled=!1,this._drawCtx.webkitImageSmoothingEnabled=!1,this._drawCtx.msImageSmoothingEnabled=!1,this._drawCtx.imageSmoothingEnabled=!1,this._drawCtx.drawImage(this._backbuffer,e,t,r,o,n,i,r,o),this._damage(n,i,r,o)):this._renderQ_push({type:"copy",old_x:e,old_y:t,x:n,y:i,width:r,height:o})},imageRect:function(e,t,n,i){var o=new Image;o.src="data: "+n+";base64,"+r.a.encode(i),this._renderQ_push({type:"img",img:o,x:e,y:t})},startTile:function(e,t,n,i,r){this._tile_x=e,this._tile_y=t,this._tile=16===n&&16===i?this._tile16x16:this._drawCtx.createImageData(n,i);for(var o=r[2],s=r[1],a=r[0],l=this._tile.data,c=0;c<n*i*4;c+=4)l[c]=o,l[c+1]=s,l[c+2]=a,l[c+3]=255},subTile:function(e,t,n,i,r){for(var o=r[2],s=r[1],a=r[0],l=e+n,c=t+i,u=this._tile.data,h=this._tile.width,d=t;d<c;d++)for(var f=e;f<l;f++){var p=4*(f+d*h);u[p]=o,u[p+1]=s,u[p+2]=a,u[p+3]=255}},finishTile:function(){this._drawCtx.putImageData(this._tile,this._tile_x,this._tile_y),this._damage(this._tile_x,this._tile_y,this._tile.width,this._tile.height)},blitImage:function(e,t,n,i,r,o,s){if(0===this._renderQ.length||s)this._bgrxImageData(e,t,n,i,r,o);else{var a=new Uint8Array(n*i*4);a.set(new Uint8Array(r.buffer,0,a.length)),this._renderQ_push({type:"blit",data:a,x:e,y:t,width:n,height:i})}},blitRgbImage:function(e,t,n,i,r,o,s){if(0===this._renderQ.length||s)this._rgbImageData(e,t,n,i,r,o);else{var a=new Uint8Array(n*i*3);a.set(new Uint8Array(r.buffer,0,a.length)),this._renderQ_push({type:"blitRgb",data:a,x:e,y:t,width:n,height:i})}},blitRgbxImage:function(e,t,n,i,r,o,s){if(0===this._renderQ.length||s)this._rgbxImageData(e,t,n,i,r,o);else{var a=new Uint8Array(n*i*4);a.set(new Uint8Array(r.buffer,0,a.length)),this._renderQ_push({type:"blitRgbx",data:a,x:e,y:t,width:n,height:i})}},drawImage:function(e,t,n){this._drawCtx.drawImage(e,t,n),this._damage(t,n,e.width,e.height)},changeCursor:function(e,t,n,i,r,s){o.changeCursor(this._target,e,t,n,i,r,s)},defaultCursor:function(){this._target.style.cursor="default"},disableLocalCursor:function(){this._target.style.cursor="none"},autoscale:function(e,t){var n,i=this._viewportLoc,r=e/t;n=i.w/i.h>=r?e/i.w:t/i.h,this._rescale(n)},_rescale:function(e){this._scale=e;var t=this._viewportLoc,n=Math.round(e*t.w)+"px",i=Math.round(e*t.h)+"px";this._target.style.width===n&&this._target.style.height===i||(this._target.style.width=n,this._target.style.height=i)},_setFillColor:function(e){var t="rgb("+e[2]+","+e[1]+","+e[0]+")";t!==this._prevDrawStyle&&(this._drawCtx.fillStyle=t,this._prevDrawStyle=t)},_rgbImageData:function(e,t,n,i,r,o){for(var s=this._drawCtx.createImageData(n,i),a=s.data,l=0,c=o;l<n*i*4;l+=4,c+=3)a[l]=r[c],a[l+1]=r[c+1],a[l+2]=r[c+2],a[l+3]=255;this._drawCtx.putImageData(s,e,t),this._damage(e,t,s.width,s.height)},_bgrxImageData:function(e,t,n,i,r,o){for(var s=this._drawCtx.createImageData(n,i),a=s.data,l=0,c=o;l<n*i*4;l+=4,c+=4)a[l]=r[c+2],a[l+1]=r[c+1],a[l+2]=r[c],a[l+3]=255;this._drawCtx.putImageData(s,e,t),this._damage(e,t,s.width,s.height)},_rgbxImageData:function(e,t,n,i,r,o){var a;s?a=new ImageData(new Uint8ClampedArray(r.buffer,r.byteOffset,n*i*4),n,i):(a=this._drawCtx.createImageData(n,i)).data.set(new Uint8ClampedArray(r.buffer,r.byteOffset,n*i*4)),this._drawCtx.putImageData(a,e,t),this._damage(e,t,a.width,a.height)},_renderQ_push:function(e){this._renderQ.push(e),1===this._renderQ.length&&this._scan_renderQ()},_resume_renderQ:function(){this.removeEventListener("load",this._noVNC_display._resume_renderQ),this._noVNC_display._scan_renderQ()},_scan_renderQ:function(){for(var e=!0;e&&this._renderQ.length>0;){var t=this._renderQ[0];switch(t.type){case"flip":this.flip(!0);break;case"copy":this.copyImage(t.old_x,t.old_y,t.x,t.y,t.width,t.height,!0);break;case"fill":this.fillRect(t.x,t.y,t.width,t.height,t.color,!0);break;case"blit":this.blitImage(t.x,t.y,t.width,t.height,t.data,0,!0);break;case"blitRgb":this.blitRgbImage(t.x,t.y,t.width,t.height,t.data,0,!0);break;case"blitRgbx":this.blitRgbxImage(t.x,t.y,t.width,t.height,t.data,0,!0);break;case"img":t.img.complete?this.drawImage(t.img,t.x,t.y):(t.img._noVNC_display=this,t.img.addEventListener("load",this._resume_renderQ),e=!1)}e&&this._renderQ.shift()}0===this._renderQ.length&&this._flushing&&(this._flushing=!1,this.onflush())}},o.changeCursor=function(e,t,n,i,r,o,a){if(0!==o&&0!==a){var l,c,u=[];for(l=0;l<a;l++)for(c=0;c<o;c++){var h=l*Math.ceil(o/8)+Math.floor(c/8),d=n[h]<<c%8&128?255:0;h=4*(o*l+c),u.push(t[h+2]),u.push(t[h+1]),u.push(t[h]),u.push(d)}var f,p=document.createElement("canvas"),m=p.getContext("2d");p.width=o,p.height=a,s?f=new ImageData(new Uint8ClampedArray(u),o,a):(f=m.createImageData(o,a)).data.set(new Uint8ClampedArray(u)),m.clearRect(0,0,o,a),m.putImageData(f,0,0);var g=p.toDataURL();e.style.cursor="url("+g+")"+i+" "+r+", default"}else e.style.cursor="none"}},function(e,t,n){"use strict";var i=n(2);t.a={toBase64Table:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),base64Pad:"=",encode:function(e){for(var t="",n=this.toBase64Table,i=e.length,r=i%3,o=0;o<i-2;o+=3)t+=n[e[o]>>2],t+=n[((3&e[o])<<4)+(e[o+1]>>4)],t+=n[((15&e[o+1])<<2)+(e[o+2]>>6)],t+=n[63&e[o+2]];var s=0;return 2===r?(t+=n[e[s=i-r]>>2],t+=n[((3&e[s])<<4)+(e[s+1]>>4)],t+=n[(15&e[s+1])<<2],t+=n[64]):1===r&&(t+=n[e[s=i-r]>>2],t+=n[(3&e[s])<<4],t+=n[64],t+=n[64]),t},toBinaryTable:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],decode:function(e,t){t=void 0!==t?t:0;var n,r,o=this.toBinaryTable,s=this.base64Pad,a=0,l=0,c=e.indexOf("=")-t;c<0&&(c=e.length-t),r=3*(c>>2)+Math.floor(c%4/1.5),n=new Array(r);for(var u=0,h=t;h<e.length;h++){var d=o[127&e.charCodeAt(h)],f=e.charAt(h)===s;-1!==d?(l=l<<6|d,(a+=6)>=8&&(a-=8,f||(n[u++]=l>>a&255),l&=(1<<a)-1)):i.b("Illegal character code "+e.charCodeAt(h)+" at position "+h)}if(a)throw err=new Error("Corrupted base64 string"),err.name="Base64-Error",err;return n}}},function(e,t,n){"use strict";t.a=l;var i=n(2),r=n(22),o=n(72),s=n(7),a=n(6);function l(e){this._target=e||null,this._keyDownList={},this._pendingKey=null,this._eventHandlers={keyup:this._handleKeyUp.bind(this),keydown:this._handleKeyDown.bind(this),keypress:this._handleKeyPress.bind(this),blur:this._allKeysUp.bind(this)}}l.prototype={onkeyevent:function(){},_sendKeyEvent:function(e,t,n){i.a("onkeyevent "+(n?"down":"up")+", keysym: "+e,", code: "+t);var r=!1;n&&a.f()&&"ControlLeft"!==t&&"AltRight"!==t&&"ControlLeft"in this._keyDownList&&"AltRight"in this._keyDownList&&(r=!0,this.onkeyevent(this._keyDownList.AltRight,"AltRight",!1),this.onkeyevent(this._keyDownList.ControlLeft,"ControlLeft",!1)),this.onkeyevent(e,t,n),r&&(this.onkeyevent(this._keyDownList.ControlLeft,"ControlLeft",!0),this.onkeyevent(this._keyDownList.AltRight,"AltRight",!0))},_getKeyCode:function(e){var t=o.a(e);if("Unidentified"!==t)return t;if(e.keyCode&&"keypress"!==e.type&&229!==e.keyCode)return"Platform"+e.keyCode;if(e.keyIdentifier){if("U+"!==e.keyIdentifier.substr(0,2))return e.keyIdentifier;var n=parseInt(e.keyIdentifier.substr(2),16),i=String.fromCharCode(n);return"Platform"+(i=i.toUpperCase()).charCodeAt()}return"Unidentified"},_handleKeyDown:function(e){var t=this._getKeyCode(e),n=o.b(e);if("Unidentified"===t||a.c())return n&&(this._sendKeyEvent(n,t,!0),this._sendKeyEvent(n,t,!1)),void Object(r.c)(e);if(a.d())switch(n){case s.a.XK_Super_L:n=s.a.XK_Alt_L;break;case s.a.XK_Super_R:n=s.a.XK_Super_L;break;case s.a.XK_Alt_L:n=s.a.XK_Mode_switch;break;case s.a.XK_Alt_R:n=s.a.XK_ISO_Level3_Shift}return t in this._keyDownList&&(n=this._keyDownList[t]),a.d()&&"CapsLock"===t?(this._sendKeyEvent(s.a.XK_Caps_Lock,"CapsLock",!0),this._sendKeyEvent(s.a.XK_Caps_Lock,"CapsLock",!1),void Object(r.c)(e)):n||e.key&&!a.b()&&!a.a()?(this._pendingKey=null,Object(r.c)(e),this._keyDownList[t]=n,void this._sendKeyEvent(n,t,!0)):(this._pendingKey=t,void setTimeout(this._handleKeyPressTimeout.bind(this),10,e))},_handleKeyPress:function(e){if(Object(r.c)(e),null!==this._pendingKey){var t=this._getKeyCode(e),n=o.b(e);"Unidentified"!==t&&t!=this._pendingKey||(t=this._pendingKey,this._pendingKey=null,n?(this._keyDownList[t]=n,this._sendKeyEvent(n,t,!0)):i.c("keypress with no keysym:",e))}},_handleKeyPressTimeout:function(e){if(null!==this._pendingKey){var t,n;if(t=this._pendingKey,this._pendingKey=null,e.keyCode>=48&&e.keyCode<=57)n=e.keyCode;else if(e.keyCode>=65&&e.keyCode<=90){var i=String.fromCharCode(e.keyCode);n=(i=e.shiftKey?i.toUpperCase():i.toLowerCase()).charCodeAt()}else n=0;this._keyDownList[t]=n,this._sendKeyEvent(n,t,!0)}},_handleKeyUp:function(e){Object(r.c)(e);var t=this._getKeyCode(e);if(a.d()&&"CapsLock"===t)return this._sendKeyEvent(s.a.XK_Caps_Lock,"CapsLock",!0),void this._sendKeyEvent(s.a.XK_Caps_Lock,"CapsLock",!1);t in this._keyDownList&&(this._sendKeyEvent(this._keyDownList[t],t,!1),delete this._keyDownList[t])},_allKeysUp:function(){for(var e in i.a(">> Keyboard.allKeysUp"),this._keyDownList)this._sendKeyEvent(this._keyDownList[e],e,!1);this._keyDownList={},i.a("<< Keyboard.allKeysUp")},grab:function(){var e=this._target;e.addEventListener("keydown",this._eventHandlers.keydown),e.addEventListener("keyup",this._eventHandlers.keyup),e.addEventListener("keypress",this._eventHandlers.keypress),window.addEventListener("blur",this._eventHandlers.blur)},ungrab:function(){var e=this._target;e.removeEventListener("keydown",this._eventHandlers.keydown),e.removeEventListener("keyup",this._eventHandlers.keyup),e.removeEventListener("keypress",this._eventHandlers.keypress),window.removeEventListener("blur",this._eventHandlers.blur),this._allKeysUp()}}},function(e,t,n){"use strict";t.a=l,t.b=function(e){var t,n=function(e){if(void 0!==e.key){switch(e.key){case"Spacebar":return" ";case"Esc":return"Escape";case"Scroll":return"ScrollLock";case"Win":return"Meta";case"Apps":return"ContextMenu";case"Up":return"ArrowUp";case"Left":return"ArrowLeft";case"Right":return"ArrowRight";case"Down":return"ArrowDown";case"Del":return"Delete";case"Divide":return"/";case"Multiply":return"*";case"Subtract":return"-";case"Add":return"+";case"Decimal":return e.char}switch(e.key){case"OS":return"Meta"}switch(e.key){case"UIKeyInputUpArrow":return"ArrowUp";case"UIKeyInputDownArrow":return"ArrowDown";case"UIKeyInputLeftArrow":return"ArrowLeft";case"UIKeyInputRightArrow":return"ArrowRight";case"UIKeyInputEscape":return"Escape"}if(1!==e.key.length||!a.b()&&!a.a())return e.key}var t=l(e);return t in o.a?o.a[t]:e.charCode?String.fromCharCode(e.charCode):"Unidentified"}(e);if("Unidentified"===n)return null;if(n in s.a){var r=e.location;return"Meta"===n&&0===r&&(r=2),(void 0===r||r>3)&&(r=0),s.a[n][r]}return 1!==n.length?null:(t=n.charCodeAt())?i.a.lookup(t):null},n(7);var i=n(73),r=n(74),o=n(75),s=n(76),a=n(6);function l(e){if(e.code){switch(e.code){case"OSLeft":return"MetaLeft";case"OSRight":return"MetaRight"}return e.code}if("keypress"!==e.type&&e.keyCode in r.a){var t=r.a[e.keyCode];if(a.d()&&"ContextMenu"===t&&(t="MetaRight"),2===e.location)switch(t){case"ShiftLeft":return"ShiftRight";case"ControlLeft":return"ControlRight";case"AltLeft":return"AltRight"}if(3===e.location)switch(t){case"Delete":return"NumpadDecimal";case"Insert":return"Numpad0";case"End":return"Numpad1";case"ArrowDown":return"Numpad2";case"PageDown":return"Numpad3";case"ArrowLeft":return"Numpad4";case"ArrowRight":return"Numpad6";case"Home":return"Numpad7";case"ArrowUp":return"Numpad8";case"PageUp":return"Numpad9";case"Enter":return"NumpadEnter"}return t}return"Unidentified"}},function(e,t,n){"use strict";var i={256:960,257:992,258:451,259:483,260:417,261:433,262:454,263:486,264:710,265:742,266:709,267:741,268:456,269:488,270:463,271:495,272:464,273:496,274:938,275:954,278:972,279:1004,280:458,281:490,282:460,283:492,284:728,285:760,286:683,287:699,288:725,289:757,290:939,291:955,292:678,293:694,294:673,295:689,296:933,297:949,298:975,299:1007,302:967,303:999,304:681,305:697,308:684,309:700,310:979,311:1011,312:930,313:453,314:485,315:934,316:950,317:421,318:437,321:419,322:435,323:465,324:497,325:977,326:1009,327:466,328:498,330:957,331:959,332:978,333:1010,336:469,337:501,338:5052,339:5053,340:448,341:480,342:931,343:947,344:472,345:504,346:422,347:438,348:734,349:766,350:426,351:442,352:425,353:441,354:478,355:510,356:427,357:443,358:940,359:956,360:989,361:1021,362:990,363:1022,364:733,365:765,366:473,367:505,368:475,369:507,370:985,371:1017,376:5054,377:428,378:444,379:431,380:447,381:430,382:446,402:2294,466:16777681,711:439,728:418,729:511,731:434,733:445,901:1966,902:1953,904:1954,905:1955,906:1956,908:1959,910:1960,911:1963,912:1974,913:1985,914:1986,915:1987,916:1988,917:1989,918:1990,919:1991,920:1992,921:1993,922:1994,923:1995,924:1996,925:1997,926:1998,927:1999,928:2e3,929:2001,931:2002,932:2004,933:2005,934:2006,935:2007,936:2008,937:2009,938:1957,939:1961,940:1969,941:1970,942:1971,943:1972,944:1978,945:2017,946:2018,947:2019,948:2020,949:2021,950:2022,951:2023,952:2024,953:2025,954:2026,955:2027,956:2028,957:2029,958:2030,959:2031,960:2032,961:2033,962:2035,963:2034,964:2036,965:2037,966:2038,967:2039,968:2040,969:2041,970:1973,971:1977,972:1975,973:1976,974:1979,1025:1715,1026:1713,1027:1714,1028:1716,1029:1717,1030:1718,1031:1719,1032:1720,1033:1721,1034:1722,1035:1723,1036:1724,1038:1726,1039:1727,1040:1761,1041:1762,1042:1783,1043:1767,1044:1764,1045:1765,1046:1782,1047:1786,1048:1769,1049:1770,1050:1771,1051:1772,1052:1773,1053:1774,1054:1775,1055:1776,1056:1778,1057:1779,1058:1780,1059:1781,1060:1766,1061:1768,1062:1763,1063:1790,1064:1787,1065:1789,1066:1791,1067:1785,1068:1784,1069:1788,1070:1760,1071:1777,1072:1729,1073:1730,1074:1751,1075:1735,1076:1732,1077:1733,1078:1750,1079:1754,1080:1737,1081:1738,1082:1739,1083:1740,1084:1741,1085:1742,1086:1743,1087:1744,1088:1746,1089:1747,1090:1748,1091:1749,1092:1734,1093:1736,1094:1731,1095:1758,1096:1755,1097:1757,1098:1759,1099:1753,1100:1752,1101:1756,1102:1728,1103:1745,1105:1699,1106:1697,1107:1698,1108:1700,1109:1701,1110:1702,1111:1703,1112:1704,1113:1705,1114:1706,1115:1707,1116:1708,1118:1710,1119:1711,1168:1725,1169:1709,1488:3296,1489:3297,1490:3298,1491:3299,1492:3300,1493:3301,1494:3302,1495:3303,1496:3304,1497:3305,1498:3306,1499:3307,1500:3308,1501:3309,1502:3310,1503:3311,1504:3312,1505:3313,1506:3314,1507:3315,1508:3316,1509:3317,1510:3318,1511:3319,1512:3320,1513:3321,1514:3322,1548:1452,1563:1467,1567:1471,1569:1473,1570:1474,1571:1475,1572:1476,1573:1477,1574:1478,1575:1479,1576:1480,1577:1481,1578:1482,1579:1483,1580:1484,1581:1485,1582:1486,1583:1487,1584:1488,1585:1489,1586:1490,1587:1491,1588:1492,1589:1493,1590:1494,1591:1495,1592:1496,1593:1497,1594:1498,1600:1504,1601:1505,1602:1506,1603:1507,1604:1508,1605:1509,1606:1510,1607:1511,1608:1512,1609:1513,1610:1514,1611:1515,1612:1516,1613:1517,1614:1518,1615:1519,1616:1520,1617:1521,1618:1522,3585:3489,3586:3490,3587:3491,3588:3492,3589:3493,3590:3494,3591:3495,3592:3496,3593:3497,3594:3498,3595:3499,3596:3500,3597:3501,3598:3502,3599:3503,3600:3504,3601:3505,3602:3506,3603:3507,3604:3508,3605:3509,3606:3510,3607:3511,3608:3512,3609:3513,3610:3514,3611:3515,3612:3516,3613:3517,3614:3518,3615:3519,3616:3520,3617:3521,3618:3522,3619:3523,3620:3524,3621:3525,3622:3526,3623:3527,3624:3528,3625:3529,3626:3530,3627:3531,3628:3532,3629:3533,3630:3534,3631:3535,3632:3536,3633:3537,3634:3538,3635:3539,3636:3540,3637:3541,3638:3542,3639:3543,3640:3544,3641:3545,3642:3546,3647:3551,3648:3552,3649:3553,3650:3554,3651:3555,3652:3556,3653:3557,3654:3558,3655:3559,3656:3560,3657:3561,3658:3562,3659:3563,3660:3564,3661:3565,3664:3568,3665:3569,3666:3570,3667:3571,3668:3572,3669:3573,3670:3574,3671:3575,3672:3576,3673:3577,8194:2722,8195:2721,8196:2723,8197:2724,8199:2725,8200:2726,8201:2727,8202:2728,8210:2747,8211:2730,8212:2729,8213:1967,8215:3295,8216:2768,8217:2769,8218:2813,8220:2770,8221:2771,8222:2814,8224:2801,8225:2802,8226:2790,8229:2735,8230:2734,8240:2773,8242:2774,8243:2775,8248:2812,8254:1150,8361:3839,8364:8364,8453:2744,8470:1712,8471:2811,8478:2772,8482:2761,8531:2736,8532:2737,8533:2738,8534:2739,8535:2740,8536:2741,8537:2742,8538:2743,8539:2755,8540:2756,8541:2757,8542:2758,8592:2299,8593:2300,8594:2301,8595:2302,8658:2254,8660:2253,8706:2287,8711:2245,8728:3018,8730:2262,8733:2241,8734:2242,8743:2270,8744:2271,8745:2268,8746:2269,8747:2239,8756:2240,8764:2248,8771:2249,8773:16785992,8800:2237,8801:2255,8804:2236,8805:2238,8834:2266,8835:2267,8866:3068,8867:3036,8868:3010,8869:3022,8968:3027,8970:3012,8981:2810,8992:2212,8993:2213,9109:3020,9115:2219,9117:2220,9118:2221,9120:2222,9121:2215,9123:2216,9124:2217,9126:2218,9128:2223,9132:2224,9143:2209,9146:2543,9147:2544,9148:2546,9149:2547,9225:2530,9226:2533,9227:2537,9228:2531,9229:2532,9251:2732,9252:2536,9472:2211,9474:2214,9484:2210,9488:2539,9492:2541,9496:2538,9500:2548,9508:2549,9516:2551,9524:2550,9532:2542,9618:2529,9642:2791,9643:2785,9644:2779,9645:2786,9646:2783,9647:2767,9650:2792,9651:2787,9654:2781,9655:2765,9660:2793,9661:2788,9664:2780,9665:2764,9670:2528,9675:2766,9679:2782,9702:2784,9734:2789,9742:2809,9747:2762,9756:2794,9758:2795,9792:2808,9794:2807,9827:2796,9829:2798,9830:2797,9837:2806,9839:2805,10003:2803,10007:2804,10013:2777,10016:2800,10216:2748,10217:2750,12289:1188,12290:1185,12300:1186,12301:1187,12443:1246,12444:1247,12449:1191,12450:1201,12451:1192,12452:1202,12453:1193,12454:1203,12455:1194,12456:1204,12457:1195,12458:1205,12459:1206,12461:1207,12463:1208,12465:1209,12467:1210,12469:1211,12471:1212,12473:1213,12475:1214,12477:1215,12479:1216,12481:1217,12483:1199,12484:1218,12486:1219,12488:1220,12490:1221,12491:1222,12492:1223,12493:1224,12494:1225,12495:1226,12498:1227,12501:1228,12504:1229,12507:1230,12510:1231,12511:1232,12512:1233,12513:1234,12514:1235,12515:1196,12516:1236,12517:1197,12518:1237,12519:1198,12520:1238,12521:1239,12522:1240,12523:1241,12524:1242,12525:1243,12527:1244,12530:1190,12531:1245,12539:1189,12540:1200};t.a={lookup:function(e){if(e>=32&&e<=255)return e;var t=i[e];return void 0!==t?t:16777216|e}}},function(e,t,n){"use strict";t.a={8:"Backspace",9:"Tab",10:"NumpadClear",13:"Enter",16:"ShiftLeft",17:"ControlLeft",18:"AltLeft",19:"Pause",20:"CapsLock",21:"Lang1",25:"Lang2",27:"Escape",28:"Convert",29:"NonConvert",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",44:"PrintScreen",45:"Insert",46:"Delete",47:"Help",48:"Digit0",49:"Digit1",50:"Digit2",51:"Digit3",52:"Digit4",53:"Digit5",54:"Digit6",55:"Digit7",56:"Digit8",57:"Digit9",91:"MetaLeft",92:"MetaRight",93:"ContextMenu",95:"Sleep",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",107:"NumpadAdd",108:"NumpadDecimal",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"NumLock",145:"ScrollLock",166:"BrowserBack",167:"BrowserForward",168:"BrowserRefresh",169:"BrowserStop",170:"BrowserSearch",171:"BrowserFavorites",172:"BrowserHome",173:"AudioVolumeMute",174:"AudioVolumeDown",175:"AudioVolumeUp",176:"MediaTrackNext",177:"MediaTrackPrevious",178:"MediaStop",179:"MediaPlayPause",180:"LaunchMail",181:"MediaSelect",182:"LaunchApp1",183:"LaunchApp2",225:"AltRight"}},function(e,t,n){"use strict";t.a={Backspace:"Backspace",AltLeft:"Alt",AltRight:"Alt",CapsLock:"CapsLock",ContextMenu:"ContextMenu",ControlLeft:"Control",ControlRight:"Control",Enter:"Enter",MetaLeft:"Meta",MetaRight:"Meta",ShiftLeft:"Shift",ShiftRight:"Shift",Tab:"Tab",Delete:"Delete",End:"End",Help:"Help",Home:"Home",Insert:"Insert",PageDown:"PageDown",PageUp:"PageUp",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",NumLock:"NumLock",NumpadBackspace:"Backspace",NumpadClear:"Clear",Escape:"Escape",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",F13:"F13",F14:"F14",F15:"F15",F16:"F16",F17:"F17",F18:"F18",F19:"F19",F20:"F20",F21:"F21",F22:"F22",F23:"F23",F24:"F24",F25:"F25",F26:"F26",F27:"F27",F28:"F28",F29:"F29",F30:"F30",F31:"F31",F32:"F32",F33:"F33",F34:"F34",F35:"F35",PrintScreen:"PrintScreen",ScrollLock:"ScrollLock",Pause:"Pause",BrowserBack:"BrowserBack",BrowserFavorites:"BrowserFavorites",BrowserForward:"BrowserForward",BrowserHome:"BrowserHome",BrowserRefresh:"BrowserRefresh",BrowserSearch:"BrowserSearch",BrowserStop:"BrowserStop",Eject:"Eject",LaunchApp1:"LaunchMyComputer",LaunchApp2:"LaunchCalendar",LaunchMail:"LaunchMail",MediaPlayPause:"MediaPlay",MediaStop:"MediaStop",MediaTrackNext:"MediaTrackNext",MediaTrackPrevious:"MediaTrackPrevious",Power:"Power",Sleep:"Sleep",AudioVolumeDown:"AudioVolumeDown",AudioVolumeMute:"AudioVolumeMute",AudioVolumeUp:"AudioVolumeUp",WakeUp:"WakeUp"}},function(e,t,n){"use strict";var i=n(7),r={};function o(e,t){if(void 0===t)throw'Undefined keysym for key "'+e+'"';if(e in r)throw'Duplicate entry for key "'+e+'"';r[e]=[t,t,t,t]}function s(e,t,n){if(void 0===t)throw'Undefined keysym for key "'+e+'"';if(void 0===n)throw'Undefined keysym for key "'+e+'"';if(e in r)throw'Duplicate entry for key "'+e+'"';r[e]=[t,t,n,t]}function a(e,t,n){if(void 0===t)throw'Undefined keysym for key "'+e+'"';if(void 0===n)throw'Undefined keysym for key "'+e+'"';if(e in r)throw'Duplicate entry for key "'+e+'"';r[e]=[t,t,t,n]}s("Alt",i.a.XK_Alt_L,i.a.XK_Alt_R),o("AltGraph",i.a.XK_ISO_Level3_Shift),o("CapsLock",i.a.XK_Caps_Lock),s("Control",i.a.XK_Control_L,i.a.XK_Control_R),s("Hyper",i.a.XK_Super_L,i.a.XK_Super_R),s("Meta",i.a.XK_Super_L,i.a.XK_Super_R),o("NumLock",i.a.XK_Num_Lock),o("ScrollLock",i.a.XK_Scroll_Lock),s("Shift",i.a.XK_Shift_L,i.a.XK_Shift_R),s("Super",i.a.XK_Super_L,i.a.XK_Super_R),a("Enter",i.a.XK_Return,i.a.XK_KP_Enter),o("Tab",i.a.XK_Tab),a(" ",i.a.XK_space,i.a.XK_KP_Space),a("ArrowDown",i.a.XK_Down,i.a.XK_KP_Down),a("ArrowUp",i.a.XK_Up,i.a.XK_KP_Up),a("ArrowLeft",i.a.XK_Left,i.a.XK_KP_Left),a("ArrowRight",i.a.XK_Right,i.a.XK_KP_Right),a("End",i.a.XK_End,i.a.XK_KP_End),a("Home",i.a.XK_Home,i.a.XK_KP_Home),a("PageDown",i.a.XK_Next,i.a.XK_KP_Next),a("PageUp",i.a.XK_Prior,i.a.XK_KP_Prior),o("Backspace",i.a.XK_BackSpace),o("Clear",i.a.XK_Clear),o("Copy",i.a.XF86XK_Copy),o("Cut",i.a.XF86XK_Cut),a("Delete",i.a.XK_Delete,i.a.XK_KP_Delete),a("Insert",i.a.XK_Insert,i.a.XK_KP_Insert),o("Paste",i.a.XF86XK_Paste),o("Redo",i.a.XK_Redo),o("Undo",i.a.XK_Undo),o("Cancel",i.a.XK_Cancel),o("ContextMenu",i.a.XK_Menu),o("Escape",i.a.XK_Escape),o("Execute",i.a.XK_Execute),o("Find",i.a.XK_Find),o("Help",i.a.XK_Help),o("Pause",i.a.XK_Pause),o("Select",i.a.XK_Select),o("ZoomIn",i.a.XF86XK_ZoomIn),o("ZoomOut",i.a.XF86XK_ZoomOut),o("BrightnessDown",i.a.XF86XK_MonBrightnessDown),o("BrightnessUp",i.a.XF86XK_MonBrightnessUp),o("Eject",i.a.XF86XK_Eject),o("LogOff",i.a.XF86XK_LogOff),o("Power",i.a.XF86XK_PowerOff),o("PowerOff",i.a.XF86XK_PowerDown),o("PrintScreen",i.a.XK_Print),o("Hibernate",i.a.XF86XK_Hibernate),o("Standby",i.a.XF86XK_Standby),o("WakeUp",i.a.XF86XK_WakeUp),o("AllCandidates",i.a.XK_MultipleCandidate),o("Alphanumeric",i.a.XK_Eisu_Shift),o("CodeInput",i.a.XK_Codeinput),o("Compose",i.a.XK_Multi_key),o("Convert",i.a.XK_Henkan),o("GroupFirst",i.a.XK_ISO_First_Group),o("GroupLast",i.a.XK_ISO_Last_Group),o("GroupNext",i.a.XK_ISO_Next_Group),o("GroupPrevious",i.a.XK_ISO_Prev_Group),o("NonConvert",i.a.XK_Muhenkan),o("PreviousCandidate",i.a.XK_PreviousCandidate),o("SingleCandidate",i.a.XK_SingleCandidate),o("HangulMode",i.a.XK_Hangul),o("HanjaMode",i.a.XK_Hangul_Hanja),o("JunjuaMode",i.a.XK_Hangul_Jeonja),o("Eisu",i.a.XK_Eisu_toggle),o("Hankaku",i.a.XK_Hankaku),o("Hiragana",i.a.XK_Hiragana),o("HiraganaKatakana",i.a.XK_Hiragana_Katakana),o("KanaMode",i.a.XK_Kana_Shift),o("KanjiMode",i.a.XK_Kanji),o("Katakana",i.a.XK_Katakana),o("Romaji",i.a.XK_Romaji),o("Zenkaku",i.a.XK_Zenkaku),o("ZenkakuHanaku",i.a.XK_Zenkaku_Hankaku),o("F1",i.a.XK_F1),o("F2",i.a.XK_F2),o("F3",i.a.XK_F3),o("F4",i.a.XK_F4),o("F5",i.a.XK_F5),o("F6",i.a.XK_F6),o("F7",i.a.XK_F7),o("F8",i.a.XK_F8),o("F9",i.a.XK_F9),o("F10",i.a.XK_F10),o("F11",i.a.XK_F11),o("F12",i.a.XK_F12),o("F13",i.a.XK_F13),o("F14",i.a.XK_F14),o("F15",i.a.XK_F15),o("F16",i.a.XK_F16),o("F17",i.a.XK_F17),o("F18",i.a.XK_F18),o("F19",i.a.XK_F19),o("F20",i.a.XK_F20),o("F21",i.a.XK_F21),o("F22",i.a.XK_F22),o("F23",i.a.XK_F23),o("F24",i.a.XK_F24),o("F25",i.a.XK_F25),o("F26",i.a.XK_F26),o("F27",i.a.XK_F27),o("F28",i.a.XK_F28),o("F29",i.a.XK_F29),o("F30",i.a.XK_F30),o("F31",i.a.XK_F31),o("F32",i.a.XK_F32),o("F33",i.a.XK_F33),o("F34",i.a.XK_F34),o("F35",i.a.XK_F35),o("Close",i.a.XF86XK_Close),o("MailForward",i.a.XF86XK_MailForward),o("MailReply",i.a.XF86XK_Reply),o("MainSend",i.a.XF86XK_Send),o("MediaFastForward",i.a.XF86XK_AudioForward),o("MediaPause",i.a.XF86XK_AudioPause),o("MediaPlay",i.a.XF86XK_AudioPlay),o("MediaRecord",i.a.XF86XK_AudioRecord),o("MediaRewind",i.a.XF86XK_AudioRewind),o("MediaStop",i.a.XF86XK_AudioStop),o("MediaTrackNext",i.a.XF86XK_AudioNext),o("MediaTrackPrevious",i.a.XF86XK_AudioPrev),o("New",i.a.XF86XK_New),o("Open",i.a.XF86XK_Open),o("Print",i.a.XK_Print),o("Save",i.a.XF86XK_Save),o("SpellCheck",i.a.XF86XK_Spell),o("AudioVolumeDown",i.a.XF86XK_AudioLowerVolume),o("AudioVolumeUp",i.a.XF86XK_AudioRaiseVolume),o("AudioVolumeMute",i.a.XF86XK_AudioMute),o("MicrophoneVolumeMute",i.a.XF86XK_AudioMicMute),o("LaunchCalculator",i.a.XF86XK_Calculator),o("LaunchCalendar",i.a.XF86XK_Calendar),o("LaunchMail",i.a.XF86XK_Mail),o("LaunchMediaPlayer",i.a.XF86XK_AudioMedia),o("LaunchMusicPlayer",i.a.XF86XK_Music),o("LaunchMyComputer",i.a.XF86XK_MyComputer),o("LaunchPhone",i.a.XF86XK_Phone),o("LaunchScreenSaver",i.a.XF86XK_ScreenSaver),o("LaunchSpreadsheet",i.a.XF86XK_Excel),o("LaunchWebBrowser",i.a.XF86XK_WWW),o("LaunchWebCam",i.a.XF86XK_WebCam),o("LaunchWordProcessor",i.a.XF86XK_Word),o("BrowserBack",i.a.XF86XK_Back),o("BrowserFavorites",i.a.XF86XK_Favorites),o("BrowserForward",i.a.XF86XK_Forward),o("BrowserHome",i.a.XF86XK_HomePage),o("BrowserRefresh",i.a.XF86XK_Refresh),o("BrowserSearch",i.a.XF86XK_Search),o("BrowserStop",i.a.XF86XK_Stop),o("Dimmer",i.a.XF86XK_BrightnessAdjust),o("MediaAudioTrack",i.a.XF86XK_AudioCycleTrack),o("RandomToggle",i.a.XF86XK_AudioRandomPlay),o("SplitScreenToggle",i.a.XF86XK_SplitScreen),o("Subtitle",i.a.XF86XK_Subtitle),o("VideoModeNext",i.a.XF86XK_Next_VMode),a("=",i.a.XK_equal,i.a.XK_KP_Equal),a("+",i.a.XK_plus,i.a.XK_KP_Add),a("-",i.a.XK_minus,i.a.XK_KP_Subtract),a("*",i.a.XK_asterisk,i.a.XK_KP_Multiply),a("/",i.a.XK_slash,i.a.XK_KP_Divide),a(".",i.a.XK_period,i.a.XK_KP_Decimal),a(",",i.a.XK_comma,i.a.XK_KP_Separator),a("0",i.a.XK_0,i.a.XK_KP_0),a("1",i.a.XK_1,i.a.XK_KP_1),a("2",i.a.XK_2,i.a.XK_KP_2),a("3",i.a.XK_3,i.a.XK_KP_3),a("4",i.a.XK_4,i.a.XK_KP_4),a("5",i.a.XK_5,i.a.XK_KP_5),a("6",i.a.XK_6,i.a.XK_KP_6),a("7",i.a.XK_7,i.a.XK_KP_7),a("8",i.a.XK_8,i.a.XK_KP_8),a("9",i.a.XK_9,i.a.XK_KP_9),t.a=r},function(e,t,n){"use strict";t.a=s;var i=n(2),r=n(6),o=n(22);function s(e){this._target=e||document,this._doubleClickTimer=null,this._lastTouchPos=null,this._pos=null,this._wheelStepXTimer=null,this._wheelStepYTimer=null,this._accumulatedWheelDeltaX=0,this._accumulatedWheelDeltaY=0,this._eventHandlers={mousedown:this._handleMouseDown.bind(this),mouseup:this._handleMouseUp.bind(this),mousemove:this._handleMouseMove.bind(this),mousewheel:this._handleMouseWheel.bind(this),mousedisable:this._handleMouseDisable.bind(this)}}s.prototype={touchButton:1,onmousebutton:function(){},onmousemove:function(){},_resetDoubleClickTimer:function(){this._doubleClickTimer=null},_handleMouseButton:function(e,t){this._updateMousePosition(e);var n,r=this._pos;if(e.touches||e.changedTouches){if(1==t){if(null===this._doubleClickTimer)this._lastTouchPos=r;else{clearTimeout(this._doubleClickTimer);var s=this._lastTouchPos.x-r.x,a=this._lastTouchPos.y-r.y;Math.sqrt(s*s+a*a)<20*(window.devicePixelRatio||1)&&(r=this._lastTouchPos)}this._doubleClickTimer=setTimeout(this._resetDoubleClickTimer.bind(this),500)}n=this.touchButton}else n=e.which?1<<e.button:(1&e.button)+2*(2&e.button)+(4&e.button)/2;i.a("onmousebutton "+(t?"down":"up")+", x: "+r.x+", y: "+r.y+", bmask: "+n),this.onmousebutton(r.x,r.y,t,n),Object(o.c)(e)},_handleMouseDown:function(e){"mousedown"===e.type&&Object(o.b)(this._target),this._handleMouseButton(e,1)},_handleMouseUp:function(e){this._handleMouseButton(e,0)},_generateWheelStepX:function(){this._accumulatedWheelDeltaX<0?(this.onmousebutton(this._pos.x,this._pos.y,1,32),this.onmousebutton(this._pos.x,this._pos.y,0,32)):this._accumulatedWheelDeltaX>0&&(this.onmousebutton(this._pos.x,this._pos.y,1,64),this.onmousebutton(this._pos.x,this._pos.y,0,64)),this._accumulatedWheelDeltaX=0},_generateWheelStepY:function(){this._accumulatedWheelDeltaY<0?(this.onmousebutton(this._pos.x,this._pos.y,1,8),this.onmousebutton(this._pos.x,this._pos.y,0,8)):this._accumulatedWheelDeltaY>0&&(this.onmousebutton(this._pos.x,this._pos.y,1,16),this.onmousebutton(this._pos.x,this._pos.y,0,16)),this._accumulatedWheelDeltaY=0},_resetWheelStepTimers:function(){window.clearTimeout(this._wheelStepXTimer),window.clearTimeout(this._wheelStepYTimer),this._wheelStepXTimer=null,this._wheelStepYTimer=null},_handleMouseWheel:function(e){this._resetWheelStepTimers(),this._updateMousePosition(e);var t=e.deltaX,n=e.deltaY;0!==e.deltaMode&&(t*=19,n*=19),this._accumulatedWheelDeltaX+=t,this._accumulatedWheelDeltaY+=n,Math.abs(this._accumulatedWheelDeltaX)>10?this._generateWheelStepX():this._wheelStepXTimer=window.setTimeout(this._generateWheelStepX.bind(this),50),Math.abs(this._accumulatedWheelDeltaY)>10?this._generateWheelStepY():this._wheelStepYTimer=window.setTimeout(this._generateWheelStepY.bind(this),50),Object(o.c)(e)},_handleMouseMove:function(e){this._updateMousePosition(e),this.onmousemove(this._pos.x,this._pos.y),Object(o.c)(e)},_handleMouseDisable:function(e){e.target==this._target&&Object(o.c)(e)},_updateMousePosition:function(e){e=Object(o.a)(e);var t,n,i=this._target.getBoundingClientRect();t=e.clientX<i.left?0:e.clientX>=i.right?i.width-1:e.clientX-i.left,n=e.clientY<i.top?0:e.clientY>=i.bottom?i.height-1:e.clientY-i.top,this._pos={x:t,y:n}},grab:function(){var e=this._target;r.e&&(e.addEventListener("touchstart",this._eventHandlers.mousedown),e.addEventListener("touchend",this._eventHandlers.mouseup),e.addEventListener("touchmove",this._eventHandlers.mousemove)),e.addEventListener("mousedown",this._eventHandlers.mousedown),e.addEventListener("mouseup",this._eventHandlers.mouseup),e.addEventListener("mousemove",this._eventHandlers.mousemove),e.addEventListener("wheel",this._eventHandlers.mousewheel),document.addEventListener("click",this._eventHandlers.mousedisable),e.addEventListener("contextmenu",this._eventHandlers.mousedisable)},ungrab:function(){var e=this._target;this._resetWheelStepTimers(),r.e&&(e.removeEventListener("touchstart",this._eventHandlers.mousedown),e.removeEventListener("touchend",this._eventHandlers.mouseup),e.removeEventListener("touchmove",this._eventHandlers.mousemove)),e.removeEventListener("mousedown",this._eventHandlers.mousedown),e.removeEventListener("mouseup",this._eventHandlers.mouseup),e.removeEventListener("mousemove",this._eventHandlers.mousemove),e.removeEventListener("wheel",this._eventHandlers.mousewheel),document.removeEventListener("click",this._eventHandlers.mousedisable),e.removeEventListener("contextmenu",this._eventHandlers.mousedisable)}}},function(e,t,n){"use strict";t.a=r;var i=n(2);function r(){this._websocket=null,this._rQi=0,this._rQlen=0,this._rQbufferSize=4194304,this._rQmax=this._rQbufferSize/8,this._rQ=null,this._sQbufferSize=10240,this._sQlen=0,this._sQ=null,this._eventHandlers={message:function(){},open:function(){},close:function(){},error:function(){}}}var o=function(){try{var e=new Uint8Array([1,2,3]);return String.fromCharCode.apply(null,e),function(e){return String.fromCharCode.apply(null,e)}}catch(e){return function(e){return String.fromCharCode.apply(null,Array.prototype.slice.call(e))}}}();r.prototype={get_sQ:function(){return this._sQ},get_rQ:function(){return this._rQ},get_rQi:function(){return this._rQi},set_rQi:function(e){this._rQi=e},rQlen:function(){return this._rQlen-this._rQi},rQpeek8:function(){return this._rQ[this._rQi]},rQshift8:function(){return this._rQ[this._rQi++]},rQskip8:function(){this._rQi++},rQskipBytes:function(e){this._rQi+=e},rQshift16:function(){return(this._rQ[this._rQi++]<<8)+this._rQ[this._rQi++]},rQshift32:function(){return(this._rQ[this._rQi++]<<24)+(this._rQ[this._rQi++]<<16)+(this._rQ[this._rQi++]<<8)+this._rQ[this._rQi++]},rQshiftStr:function(e){void 0===e&&(e=this.rQlen());var t=new Uint8Array(this._rQ.buffer,this._rQi,e);return this._rQi+=e,o(t)},rQshiftBytes:function(e){return void 0===e&&(e=this.rQlen()),this._rQi+=e,new Uint8Array(this._rQ.buffer,this._rQi-e,e)},rQshiftTo:function(e,t){void 0===t&&(t=this.rQlen()),e.set(new Uint8Array(this._rQ.buffer,this._rQi,t)),this._rQi+=t},rQwhole:function(){return new Uint8Array(this._rQ.buffer,0,this._rQlen)},rQslice:function(e,t){return t?new Uint8Array(this._rQ.buffer,this._rQi+e,t-e):new Uint8Array(this._rQ.buffer,this._rQi+e,this._rQlen-this._rQi-e)},rQwait:function(e,t,n){if(this._rQlen-this._rQi<t){if(n){if(this._rQi<n)throw new Error("rQwait cannot backup "+n+" bytes");this._rQi-=n}return!0}return!1},flush:function(){this._sQlen>0&&this._websocket.readyState===WebSocket.OPEN&&(this._websocket.send(this._encode_message()),this._sQlen=0)},send:function(e){this._sQ.set(e,this._sQlen),this._sQlen+=e.length,this.flush()},send_string:function(e){this.send(e.split("").map(function(e){return e.charCodeAt(0)}))},off:function(e){this._eventHandlers[e]=function(){}},on:function(e,t){this._eventHandlers[e]=t},_allocate_buffers:function(){this._rQ=new Uint8Array(this._rQbufferSize),this._sQ=new Uint8Array(this._sQbufferSize)},init:function(){this._allocate_buffers(),this._rQi=0,this._websocket=null},open:function(e,t){e.match(/^([a-z]+):\/\//)[1],this.init(),this._websocket=new WebSocket(e,t),this._websocket.binaryType="arraybuffer",this._websocket.onmessage=this._recv_message.bind(this),this._websocket.onopen=function(){i.a(">> WebSock.onopen"),this._websocket.protocol&&i.c("Server choose sub-protocol: "+this._websocket.protocol),this._eventHandlers.open(),i.a("<< WebSock.onopen")}.bind(this),this._websocket.onclose=function(e){i.a(">> WebSock.onclose"),this._eventHandlers.close(e),i.a("<< WebSock.onclose")}.bind(this),this._websocket.onerror=function(e){i.a(">> WebSock.onerror: "+e),this._eventHandlers.error(e),i.a("<< WebSock.onerror: "+e)}.bind(this)},close:function(){this._websocket&&(this._websocket.readyState!==WebSocket.OPEN&&this._websocket.readyState!==WebSocket.CONNECTING||(i.c("Closing WebSocket connection"),this._websocket.close()),this._websocket.onmessage=function(e){})},_encode_message:function(){return new Uint8Array(this._sQ.buffer,0,this._sQlen)},_expand_compact_rQ:function(e){var t=e||this._rQlen-this._rQi>this._rQbufferSize/2;if(t&&(e?this._rQbufferSize=8*(this._rQlen-this._rQi+e):this._rQbufferSize*=2),this._rQbufferSize>41943040&&(this._rQbufferSize=41943040,this._rQbufferSize-this._rQlen-this._rQi<e))throw new Exception("Receive Queue buffer exceeded 41943040 bytes, and the new message could not fit");if(t){var n=this._rQ.buffer;this._rQmax=this._rQbufferSize/8,this._rQ=new Uint8Array(this._rQbufferSize),this._rQ.set(new Uint8Array(n,this._rQi))}else this._rQ.set(new Uint8Array(this._rQ.buffer,this._rQi));this._rQlen=this._rQlen-this._rQi,this._rQi=0},_decode_message:function(e){var t=new Uint8Array(e);t.length>this._rQbufferSize-this._rQlen&&this._expand_compact_rQ(t.length),this._rQ.set(t,this._rQlen),this._rQlen+=t.length},_recv_message:function(e){this._decode_message(e.data),this.rQlen()>0?(this._eventHandlers.message(),this._rQlen==this._rQi?(this._rQlen=0,this._rQi=0):this._rQlen>this._rQmax&&this._expand_compact_rQ()):i.a("Ignoring empty message")}}},function(e,t,n){"use strict";t.a=function(e){var t,n,i,r,o,s,a,l,c,u,h,d,f,p,m=[13,16,10,23,0,4,2,27,14,5,20,9,22,18,11,3,25,7,15,6,26,19,12,1,40,51,30,36,46,54,29,39,50,44,32,47,43,48,38,55,33,52,45,41,49,35,28,31],g=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],v=[];function y(e){var t,n,i,r,o=0,s=e.slice(),m=0;for(n=s[o++]<<24|s[o++]<<16|s[o++]<<8|s[o++],i=s[o++]<<24|s[o++]<<16|s[o++]<<8|s[o++],i^=r=252645135&(n>>>4^i),i^=r=65535&((n^=r<<4)>>>16^i),i^=(r=858993459&(i>>>2^(n^=r<<16)))<<2,i=(i^=(r=16711935&(i>>>8^(n^=r)))<<8)<<1|i>>>31&1,i^=r=2863311530&((n^=r)^i),n=(n^=r)<<1|n>>>31&1,o=0;o<8;++o)r=i<<28|i>>>4,r^=v[m++],t=f[63&r],t|=h[r>>>8&63],t|=c[r>>>16&63],t|=a[r>>>24&63],r=i^v[m++],t|=p[63&r],t|=d[r>>>8&63],t|=u[r>>>16&63],r=(n^=t|=l[r>>>24&63])<<28|n>>>4,r^=v[m++],t=f[63&r],t|=h[r>>>8&63],t|=c[r>>>16&63],t|=a[r>>>24&63],r=n^v[m++],t|=p[63&r],t|=d[r>>>8&63],t|=u[r>>>16&63],i^=t|=l[r>>>24&63];for(i=i<<31|i>>>1,i^=r=2863311530&(n^i),i^=r=16711935&((n=(n^=r)<<31|n>>>1)>>>8^i),i^=r=858993459&((n^=r<<8)>>>2^i),i^=(r=65535&(i>>>16^(n^=r<<2)))<<16,r=[i^=(r=252645135&(i>>>4^(n^=r)))<<4,n^=r],o=0;o<8;o++)s[o]=(r[o>>>2]>>>8*(3-o%4))%256,s[o]<0&&(s[o]+=256);return s}return a=[(i=(t=65536)|(n=1<<24))|(o=1024),0,0|t,i|(s=(r=4)|o),i|r,t|s,0|r,0|t,0|o,i|o,i|s,0|o,n|s,i|r,0|n,0|r,0|s,n|o,n|o,t|o,t|o,0|i,0|i,n|s,t|r,n|r,n|r,t|r,0,0|s,t|s,0|n,0|t,i|s,0|r,0|i,i|o,0|n,0|n,0|o,i|r,0|t,t|o,n|r,0|o,0|r,n|s,t|s,i|s,t|r,0|i,n|s,n|r,0|s,t|s,i|o,0|s,n|o,n|o,0,t|r,t|o,0,i|r],l=[(i=(t=1<<20)|(n=1<<31))|(s=(r=32)|(o=32768)),n|o,0|o,t|s,0|t,0|r,i|r,n|s,n|r,i|s,i|o,0|n,n|o,0|t,0|r,i|r,t|o,t|r,n|s,0,0|n,0|o,t|s,0|i,t|r,n|r,0,t|o,0|s,i|o,0|i,0|s,0,t|s,i|r,0|t,n|s,0|i,i|o,0|o,0|i,n|o,0|r,i|s,t|s,0|r,0|o,0|n,0|s,i|o,0|t,n|r,t|r,n|s,n|r,t|r,t|o,0,n|o,0|s,0|n,i|r,i|s,t|o],c=[0|(s=(r=8)|(o=512)),(i=(t=1<<17)|(n=1<<27))|o,0,i|r,n|o,0,t|s,n|o,t|r,n|r,n|r,0|t,i|s,t|r,0|i,0|s,0|n,0|r,i|o,0|o,t|o,0|i,i|r,t|s,n|s,t|o,0|t,n|s,0|r,i|s,0|o,0|n,i|o,0|n,t|r,0|s,0|t,i|o,n|o,0,0|o,t|r,i|s,n|o,n|r,0|o,0,i|r,n|s,0|t,0|n,i|s,0|r,t|s,t|o,n|r,0|i,n|s,0|s,0|i,t|s,0|r,i|r,t|o],u=[(i=(t=8192)|(n=1<<23))|(r=1),t|(s=r|(o=128)),t|s,0|o,i|o,n|s,n|r,t|r,0,0|i,0|i,i|s,0|s,0,n|o,n|r,0|r,0|t,0|n,i|r,0|o,0|n,t|r,t|o,n|s,0|r,t|o,n|o,0|t,i|o,i|s,0|s,n|o,n|r,0|i,i|s,0|s,0,0,0|i,t|o,n|o,n|s,0|r,i|r,t|s,t|s,0|o,i|s,0|s,0|r,0|t,n|r,t|r,i|o,n|s,t|r,t|o,0|n,i|r,0|o,0|n,0|t,i|o],h=[0|(r=256),(t=1<<25)|(s=r|(o=1<<19)),t|o,(i=t|(n=1<<30))|r,0|o,0|r,0|n,t|o,n|s,0|o,t|r,n|s,i|r,i|o,0|s,0|n,0|t,n|o,n|o,0,n|r,i|s,i|s,t|r,i|o,n|r,0,0|i,t|s,0|t,0|i,0|s,0|o,i|r,0|r,0|t,0|n,t|o,i|r,n|s,t|r,0|n,i|o,t|s,n|s,0|r,0|t,i|o,i|s,0|s,0|i,i|s,t|o,0,n|o,0|i,0|s,t|r,n|r,0|o,0,n|o,t|s,n|r],d=[(n=1<<29)|(r=16),0|(i=(t=1<<22)|n),0|(o=16384),i|(s=r|o),0|i,0|r,i|s,0|t,n|o,t|s,0|t,n|r,t|r,n|o,0|n,0|s,0,t|r,n|s,0|o,t|o,n|s,0|r,i|r,i|r,0,t|s,i|o,0|s,t|o,i|o,0|n,n|o,0|r,i|r,t|o,i|s,0|t,0|s,n|r,0|t,n|o,0|n,0|s,n|r,i|s,t|o,0|i,t|s,i|o,0,i|r,0|r,0|o,0|i,t|s,0|o,t|r,n|s,0,i|o,0|n,t|r,n|s],f=[0|(t=1<<21),(i=t|(n=1<<26))|(r=2),n|(s=r|(o=2048)),0,0|o,n|s,t|s,i|o,i|s,0|t,0,n|r,0|r,0|n,i|r,0|s,n|o,t|s,t|r,n|o,n|r,0|i,i|o,t|r,0|i,0|o,0|s,i|s,t|o,0|r,0|n,t|o,0|n,t|o,0|t,n|s,n|s,i|r,i|r,0|r,t|r,0|n,n|o,0|t,i|o,0|s,t|s,i|o,0|s,n|r,i|s,0|i,t|o,0,0|r,i|s,0,t|s,0|i,0|o,n|r,n|o,0|o,t|r],p=[(n=1<<28)|(s=(r=64)|(o=4096)),0|o,0|(t=1<<18),(i=t|n)|s,0|n,n|s,0|r,0|n,t|r,0|i,i|s,t|o,i|o,t|s,0|o,0|r,0|i,n|r,n|o,0|s,t|o,t|r,i|r,i|o,0|s,0,0,i|r,n|r,n|o,t|s,0|t,t|s,0|t,i|o,0|o,0|r,i|r,0|o,t|s,n|o,0|r,n|r,0|i,i|r,0|n,0|t,n|s,0,i|s,t|r,n|r,0|i,n|o,n|s,0,i|s,t|o,t|o,0|s,0|s,t|r,0|n,i|o],function(e){var t,n,i,r,o,s,a,l,c,u,h=[],d=[],f=[];for(n=0,i=56;n<56;++n,i-=8)r=7&(i+=i<-5?65:i<-3?31:i<-1?63:27===i?35:0),h[n]=0!=(e[i>>>3]&1<<r)?1:0;for(t=0;t<16;++t){for(o=1+(r=t<<1),f[r]=f[o]=0,s=28;s<59;s+=28)for(n=s-28;n<s;++n)i=n+g[t],d[n]=i<s?h[i]:h[i-28];for(n=0;n<24;++n)0!==d[m[n]]&&(f[r]|=1<<23-n),0!==d[m[n+24]]&&(f[o]|=1<<23-n)}for(t=0,c=0,u=0;t<16;++t)a=f[c++],l=f[c++],v[u]=(16515072&a)<<6,v[u]|=(4032&a)<<10,v[u]|=(16515072&l)>>>10,v[u]|=(4032&l)>>>6,v[++u]=(258048&a)<<12,v[u]|=(63&a)<<16,v[u]|=(258048&l)>>>4,v[u]|=63&l,++u}(e),{encrypt:function(e){return y(e.slice(0,8)).concat(y(e.slice(8,16)))}}}},function(e,t,n){"use strict";t.a={Again:57349,AltLeft:56,AltRight:57400,ArrowDown:57424,ArrowLeft:57419,ArrowRight:57421,ArrowUp:57416,AudioVolumeDown:57390,AudioVolumeMute:57376,AudioVolumeUp:57392,Backquote:41,Backslash:43,Backspace:14,BracketLeft:26,BracketRight:27,BrowserBack:57450,BrowserFavorites:57446,BrowserForward:57449,BrowserHome:57394,BrowserRefresh:57447,BrowserSearch:57445,BrowserStop:57448,CapsLock:58,Comma:51,ContextMenu:57437,ControlLeft:29,ControlRight:57373,Convert:121,Copy:57464,Cut:57404,Delete:57427,Digit0:11,Digit1:2,Digit2:3,Digit3:4,Digit4:5,Digit5:6,Digit6:7,Digit7:8,Digit8:9,Digit9:10,Eject:57469,End:57423,Enter:28,Equal:13,Escape:1,F1:59,F10:68,F11:87,F12:88,F13:93,F14:94,F15:95,F16:85,F17:57347,F18:57463,F19:57348,F2:60,F20:90,F21:116,F22:57465,F23:109,F24:111,F3:61,F4:62,F5:63,F6:64,F7:65,F8:66,F9:67,Find:57409,Help:57461,Hiragana:119,Home:57415,Insert:57426,IntlBackslash:86,IntlRo:115,IntlYen:125,KanaMode:112,Katakana:120,KeyA:30,KeyB:48,KeyC:46,KeyD:32,KeyE:18,KeyF:33,KeyG:34,KeyH:35,KeyI:23,KeyJ:36,KeyK:37,KeyL:38,KeyM:50,KeyN:49,KeyO:24,KeyP:25,KeyQ:16,KeyR:19,KeyS:31,KeyT:20,KeyU:22,KeyV:47,KeyW:17,KeyX:45,KeyY:21,KeyZ:44,Lang3:120,Lang4:119,Lang5:118,LaunchApp1:57451,LaunchApp2:57377,LaunchMail:57452,MediaPlayPause:57378,MediaSelect:57453,MediaStop:57380,MediaTrackNext:57369,MediaTrackPrevious:57360,MetaLeft:57435,MetaRight:57436,Minus:12,NonConvert:123,NumLock:69,Numpad0:82,Numpad1:79,Numpad2:80,Numpad3:81,Numpad4:75,Numpad5:76,Numpad6:77,Numpad7:71,Numpad8:72,Numpad9:73,NumpadAdd:78,NumpadComma:126,NumpadDecimal:83,NumpadDivide:57397,NumpadEnter:57372,NumpadEqual:89,NumpadMultiply:55,NumpadParenLeft:57462,NumpadParenRight:57467,NumpadSubtract:74,Open:100,PageDown:57425,PageUp:57417,Paste:101,Pause:57414,Period:52,Power:57438,PrintScreen:84,Props:57350,Quote:40,ScrollLock:70,Semicolon:39,ShiftLeft:42,ShiftRight:54,Slash:53,Sleep:57439,Space:57,Suspend:57381,Tab:15,Undo:57351,WakeUp:57443}},function(e,t,n){"use strict";t.a=o;var i=n(82),r=n(87);function o(){this.strm=new r.a,this.chunkSize=102400,this.strm.output=new Uint8Array(this.chunkSize),this.windowBits=5,Object(i.b)(this.strm,this.windowBits)}o.prototype={inflate:function(e,t,n){return this.strm.input=e,this.strm.avail_in=this.strm.input.length,this.strm.next_in=0,this.strm.next_out=0,n>this.chunkSize&&(this.chunkSize=n,this.strm.output=new Uint8Array(this.chunkSize)),this.strm.avail_out=this.chunkSize,Object(i.a)(this.strm,t),new Uint8Array(this.strm.output.buffer,0,this.strm.next_out)},reset:function(){Object(i.c)(this.strm)}}},function(e,t,n){"use strict";n.d(t,"c",function(){return re}),n.d(t,"b",function(){return oe}),n.d(t,"a",function(){return ue});var i=n(23),r=n(83),o=n(84),s=n(85),a=n(86),l=0,c=1,u=2,h=4,d=5,f=6,p=0,m=1,g=2,v=-2,y=-3,b=-4,_=-5,x=8,w=1,S=2,C=3,k=4,E=5,M=6,A=7,T=8,L=9,D=10,I=11,P=12,R=13,N=14,O=15,F=16,j=17,B=18,X=19,z=20,H=21,U=22,K=23,W=24,G=25,Y=26,q=27,V=28,Q=29,Z=30,$=31,J=32,ee=852,te=592,ne=15;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function re(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,function(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=w,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.b(ee),t.distcode=t.distdyn=new i.b(te),t.sane=1,t.back=-1,p):v}(e)):v}function oe(e){return function(e,t){var n,r;return e?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.a(320),this.work=new i.a(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=r,r.window=null,(n=function(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?v:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,re(e))):v}(e,t))!==p&&(e.state=null),n):v}(e,ne)}var se,ae,le=!0;function ce(e){if(le){var t;for(se=new i.b(512),ae=new i.b(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Object(a.a)(c,e.lens,0,288,se,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Object(a.a)(u,e.lens,0,32,ae,0,e.work,{bits:5}),le=!1}e.lencode=se,e.lenbits=9,e.distcode=ae,e.distbits=5}function ue(e,t){var n,ee,te,ne,re,oe,se,ae,le,ue,he,de,fe,pe,me,ge,ve,ye,be,_e,xe,we,Se,Ce,ke=0,Ee=new i.c(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return v;(n=e.state).mode===P&&(n.mode=R),re=e.next_out,te=e.output,se=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,ae=n.hold,le=n.bits,ue=oe,he=se,we=p;e:for(;;)switch(n.mode){case w:if(0===n.wrap){n.mode=R;break}for(;le<16;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===ae){n.check=0,Ee[0]=255&ae,Ee[1]=ae>>>8&255,n.check=Object(o.a)(n.check,Ee,2,0),ae=0,le=0,n.mode=S;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&ae)<<8)+(ae>>8))%31){e.msg="incorrect header check",n.mode=Z;break}if((15&ae)!==x){e.msg="unknown compression method",n.mode=Z;break}if(le-=4,xe=8+(15&(ae>>>=4)),0===n.wbits)n.wbits=xe;else if(xe>n.wbits){e.msg="invalid window size",n.mode=Z;break}n.dmax=1<<xe,e.adler=n.check=1,n.mode=512&ae?D:P,ae=0,le=0;break;case S:for(;le<16;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}if(n.flags=ae,(255&n.flags)!==x){e.msg="unknown compression method",n.mode=Z;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Z;break}n.head&&(n.head.text=ae>>8&1),512&n.flags&&(Ee[0]=255&ae,Ee[1]=ae>>>8&255,n.check=Object(o.a)(n.check,Ee,2,0)),ae=0,le=0,n.mode=C;case C:for(;le<32;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=ae),512&n.flags&&(Ee[0]=255&ae,Ee[1]=ae>>>8&255,Ee[2]=ae>>>16&255,Ee[3]=ae>>>24&255,n.check=Object(o.a)(n.check,Ee,4,0)),ae=0,le=0,n.mode=k;case k:for(;le<16;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&ae,n.head.os=ae>>8),512&n.flags&&(Ee[0]=255&ae,Ee[1]=ae>>>8&255,n.check=Object(o.a)(n.check,Ee,2,0)),ae=0,le=0,n.mode=E;case E:if(1024&n.flags){for(;le<16;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}n.length=ae,n.head&&(n.head.extra_len=ae),512&n.flags&&(Ee[0]=255&ae,Ee[1]=ae>>>8&255,n.check=Object(o.a)(n.check,Ee,2,0)),ae=0,le=0}else n.head&&(n.head.extra=null);n.mode=M;case M:if(1024&n.flags&&((de=n.length)>oe&&(de=oe),de&&(n.head&&(xe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.d(n.head.extra,ee,ne,de,xe)),512&n.flags&&(n.check=Object(o.a)(n.check,ee,de,ne)),oe-=de,ne+=de,n.length-=de),n.length))break e;n.length=0,n.mode=A;case A:if(2048&n.flags){if(0===oe)break e;de=0;do{xe=ee[ne+de++],n.head&&xe&&n.length<65536&&(n.head.name+=String.fromCharCode(xe))}while(xe&&de<oe);if(512&n.flags&&(n.check=Object(o.a)(n.check,ee,de,ne)),oe-=de,ne+=de,xe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=T;case T:if(4096&n.flags){if(0===oe)break e;de=0;do{xe=ee[ne+de++],n.head&&xe&&n.length<65536&&(n.head.comment+=String.fromCharCode(xe))}while(xe&&de<oe);if(512&n.flags&&(n.check=Object(o.a)(n.check,ee,de,ne)),oe-=de,ne+=de,xe)break e}else n.head&&(n.head.comment=null);n.mode=L;case L:if(512&n.flags){for(;le<16;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}if(ae!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Z;break}ae=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=P;break;case D:for(;le<32;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}e.adler=n.check=ie(ae),ae=0,le=0,n.mode=I;case I:if(0===n.havedict)return e.next_out=re,e.avail_out=se,e.next_in=ne,e.avail_in=oe,n.hold=ae,n.bits=le,g;e.adler=n.check=1,n.mode=P;case P:if(t===d||t===f)break e;case R:if(n.last){ae>>>=7&le,le-=7&le,n.mode=q;break}for(;le<3;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}switch(n.last=1&ae,le-=1,3&(ae>>>=1)){case 0:n.mode=N;break;case 1:if(ce(n),n.mode=z,t===f){ae>>>=2,le-=2;break e}break;case 2:n.mode=j;break;case 3:e.msg="invalid block type",n.mode=Z}ae>>>=2,le-=2;break;case N:for(ae>>>=7&le,le-=7&le;le<32;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}if((65535&ae)!=(ae>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Z;break}if(n.length=65535&ae,ae=0,le=0,n.mode=O,t===f)break e;case O:n.mode=F;case F:if(de=n.length){if(de>oe&&(de=oe),de>se&&(de=se),0===de)break e;i.d(te,ee,ne,de,re),oe-=de,ne+=de,se-=de,re+=de,n.length-=de;break}n.mode=P;break;case j:for(;le<14;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&ae),ae>>>=5,le-=5,n.ndist=1+(31&ae),ae>>>=5,le-=5,n.ncode=4+(15&ae),ae>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Z;break}n.have=0,n.mode=B;case B:for(;n.have<n.ncode;){for(;le<3;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}n.lens[Me[n.have++]]=7&ae,ae>>>=3,le-=3}for(;n.have<19;)n.lens[Me[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Se={bits:n.lenbits},we=Object(a.a)(l,n.lens,0,19,n.lencode,0,n.work,Se),n.lenbits=Se.bits,we){e.msg="invalid code lengths set",n.mode=Z;break}n.have=0,n.mode=X;case X:for(;n.have<n.nlen+n.ndist;){for(;ge=(ke=n.lencode[ae&(1<<n.lenbits)-1])>>>16&255,ve=65535&ke,!((me=ke>>>24)<=le);){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}if(ve<16)ae>>>=me,le-=me,n.lens[n.have++]=ve;else{if(16===ve){for(Ce=me+2;le<Ce;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}if(ae>>>=me,le-=me,0===n.have){e.msg="invalid bit length repeat",n.mode=Z;break}xe=n.lens[n.have-1],de=3+(3&ae),ae>>>=2,le-=2}else if(17===ve){for(Ce=me+3;le<Ce;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}le-=me,xe=0,de=3+(7&(ae>>>=me)),ae>>>=3,le-=3}else{for(Ce=me+7;le<Ce;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}le-=me,xe=0,de=11+(127&(ae>>>=me)),ae>>>=7,le-=7}if(n.have+de>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Z;break}for(;de--;)n.lens[n.have++]=xe}}if(n.mode===Z)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Z;break}if(n.lenbits=9,Se={bits:n.lenbits},we=Object(a.a)(c,n.lens,0,n.nlen,n.lencode,0,n.work,Se),n.lenbits=Se.bits,we){e.msg="invalid literal/lengths set",n.mode=Z;break}if(n.distbits=6,n.distcode=n.distdyn,Se={bits:n.distbits},we=Object(a.a)(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Se),n.distbits=Se.bits,we){e.msg="invalid distances set",n.mode=Z;break}if(n.mode=z,t===f)break e;case z:n.mode=H;case H:if(oe>=6&&se>=258){e.next_out=re,e.avail_out=se,e.next_in=ne,e.avail_in=oe,n.hold=ae,n.bits=le,Object(s.a)(e,he),re=e.next_out,te=e.output,se=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,ae=n.hold,le=n.bits,n.mode===P&&(n.back=-1);break}for(n.back=0;ge=(ke=n.lencode[ae&(1<<n.lenbits)-1])>>>16&255,ve=65535&ke,!((me=ke>>>24)<=le);){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}if(ge&&0==(240&ge)){for(ye=me,be=ge,_e=ve;ge=(ke=n.lencode[_e+((ae&(1<<ye+be)-1)>>ye)])>>>16&255,ve=65535&ke,!(ye+(me=ke>>>24)<=le);){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}ae>>>=ye,le-=ye,n.back+=ye}if(ae>>>=me,le-=me,n.back+=me,n.length=ve,0===ge){n.mode=Y;break}if(32&ge){n.back=-1,n.mode=P;break}if(64&ge){e.msg="invalid literal/length code",n.mode=Z;break}n.extra=15&ge,n.mode=U;case U:if(n.extra){for(Ce=n.extra;le<Ce;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}n.length+=ae&(1<<n.extra)-1,ae>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=K;case K:for(;ge=(ke=n.distcode[ae&(1<<n.distbits)-1])>>>16&255,ve=65535&ke,!((me=ke>>>24)<=le);){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}if(0==(240&ge)){for(ye=me,be=ge,_e=ve;ge=(ke=n.distcode[_e+((ae&(1<<ye+be)-1)>>ye)])>>>16&255,ve=65535&ke,!(ye+(me=ke>>>24)<=le);){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}ae>>>=ye,le-=ye,n.back+=ye}if(ae>>>=me,le-=me,n.back+=me,64&ge){e.msg="invalid distance code",n.mode=Z;break}n.offset=ve,n.extra=15&ge,n.mode=W;case W:if(n.extra){for(Ce=n.extra;le<Ce;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}n.offset+=ae&(1<<n.extra)-1,ae>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Z;break}n.mode=G;case G:if(0===se)break e;if(de=he-se,n.offset>de){if((de=n.offset-de)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Z;break}de>n.wnext?(de-=n.wnext,fe=n.wsize-de):fe=n.wnext-de,de>n.length&&(de=n.length),pe=n.window}else pe=te,fe=re-n.offset,de=n.length;de>se&&(de=se),se-=de,n.length-=de;do{te[re++]=pe[fe++]}while(--de);0===n.length&&(n.mode=H);break;case Y:if(0===se)break e;te[re++]=n.length,se--,n.mode=H;break;case q:if(n.wrap){for(;le<32;){if(0===oe)break e;oe--,ae|=ee[ne++]<<le,le+=8}if(he-=se,e.total_out+=he,n.total+=he,he&&(e.adler=n.check=n.flags?Object(o.a)(n.check,te,he,re-he):Object(r.a)(n.check,te,he,re-he)),he=se,(n.flags?ae:ie(ae))!==n.check){e.msg="incorrect data check",n.mode=Z;break}ae=0,le=0}n.mode=V;case V:if(n.wrap&&n.flags){for(;le<32;){if(0===oe)break e;oe--,ae+=ee[ne++]<<le,le+=8}if(ae!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Z;break}ae=0,le=0}n.mode=Q;case Q:we=m;break e;case Z:we=y;break e;case $:return b;case J:default:return v}return e.next_out=re,e.avail_out=se,e.next_in=ne,e.avail_in=oe,n.hold=ae,n.bits=le,(n.wsize||he!==e.avail_out&&n.mode<Z&&(n.mode<q||t!==h))&&function(e,t,n,r){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.c(s.wsize)),r>=s.wsize?(i.d(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>r&&(o=r),i.d(s.window,t,n-r,o,s.wnext),(r-=o)?(i.d(s.window,t,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}(e,e.output,e.next_out,he-e.avail_out)?(n.mode=$,b):(ue-=e.avail_in,he-=e.avail_out,e.total_in+=ue,e.total_out+=he,n.total+=he,n.wrap&&he&&(e.adler=n.check=n.flags?Object(o.a)(n.check,te,he,e.next_out-he):Object(r.a)(n.check,te,he,e.next_out-he)),e.data_type=n.bits+(n.last?64:0)+(n.mode===P?128:0)+(n.mode===z||n.mode===O?256:0),(0===ue&&0===he||t===h)&&we===p&&(we=_),we)}},function(e,t,n){"use strict";t.a=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},function(e,t,n){"use strict";function i(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}t.a=i,i()},function(e,t,n){"use strict";t.a=function(e,t){var n,o,s,a,l,c,u,h,d,f,p,m,g,v,y,b,_,x,w,S,C,k,E,M,A;n=e.state,o=e.next_in,M=e.input,s=o+(e.avail_in-5),a=e.next_out,A=e.output,l=a-(t-e.avail_out),c=a+(e.avail_out-257),u=n.dmax,h=n.wsize,d=n.whave,f=n.wnext,p=n.window,m=n.hold,g=n.bits,v=n.lencode,y=n.distcode,b=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;e:do{g<15&&(m+=M[o++]<<g,g+=8,m+=M[o++]<<g,g+=8),x=v[m&b];t:for(;;){if(m>>>=w=x>>>24,g-=w,0==(w=x>>>16&255))A[a++]=65535&x;else{if(!(16&w)){if(0==(64&w)){x=v[(65535&x)+(m&(1<<w)-1)];continue t}if(32&w){n.mode=r;break e}e.msg="invalid literal/length code",n.mode=i;break e}S=65535&x,(w&=15)&&(g<w&&(m+=M[o++]<<g,g+=8),S+=m&(1<<w)-1,m>>>=w,g-=w),g<15&&(m+=M[o++]<<g,g+=8,m+=M[o++]<<g,g+=8),x=y[m&_];n:for(;;){if(m>>>=w=x>>>24,g-=w,!(16&(w=x>>>16&255))){if(0==(64&w)){x=y[(65535&x)+(m&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=i;break e}if(C=65535&x,g<(w&=15)&&(m+=M[o++]<<g,(g+=8)<w&&(m+=M[o++]<<g,g+=8)),(C+=m&(1<<w)-1)>u){e.msg="invalid distance too far back",n.mode=i;break e}if(m>>>=w,g-=w,C>(w=a-l)){if((w=C-w)>d&&n.sane){e.msg="invalid distance too far back",n.mode=i;break e}if(k=0,E=p,0===f){if(k+=h-w,w<S){S-=w;do{A[a++]=p[k++]}while(--w);k=a-C,E=A}}else if(f<w){if(k+=h+f-w,(w-=f)<S){S-=w;do{A[a++]=p[k++]}while(--w);if(k=0,f<S){S-=w=f;do{A[a++]=p[k++]}while(--w);k=a-C,E=A}}}else if(k+=f-w,w<S){S-=w;do{A[a++]=p[k++]}while(--w);k=a-C,E=A}for(;S>2;)A[a++]=E[k++],A[a++]=E[k++],A[a++]=E[k++],S-=3;S&&(A[a++]=E[k++],S>1&&(A[a++]=E[k++]))}else{k=a-C;do{A[a++]=A[k++],A[a++]=A[k++],A[a++]=A[k++],S-=3}while(S>2);S&&(A[a++]=A[k++],S>1&&(A[a++]=A[k++]))}break}}break}}while(o<s&&a<c);return o-=S=g>>3,m&=(1<<(g-=S<<3))-1,e.next_in=o,e.next_out=a,e.avail_in=o<s?s-o+5:5-(o-s),e.avail_out=a<c?c-a+257:257-(a-c),n.hold=m,void(n.bits=g)};var i=30,r=12},function(e,t,n){"use strict";t.a=function(e,t,n,p,m,g,v,y){var b,_,x,w,S,C,k,E,M,A=y.bits,T=0,L=0,D=0,I=0,P=0,R=0,N=0,O=0,F=0,j=0,B=null,X=0,z=new i.a(r+1),H=new i.a(r+1),U=null,K=0;for(T=0;T<=r;T++)z[T]=0;for(L=0;L<p;L++)z[t[n+L]]++;for(P=A,I=r;I>=1&&0===z[I];I--);if(P>I&&(P=I),0===I)return m[g++]=20971520,m[g++]=20971520,y.bits=1,0;for(D=1;D<I&&0===z[D];D++);for(P<D&&(P=D),O=1,T=1;T<=r;T++)if(O<<=1,(O-=z[T])<0)return-1;if(O>0&&(e===a||1!==I))return-1;for(H[1]=0,T=1;T<r;T++)H[T+1]=H[T]+z[T];for(L=0;L<p;L++)0!==t[n+L]&&(v[H[t[n+L]]++]=L);if(e===a?(B=U=v,C=19):e===l?(B=u,X-=257,U=h,K-=257,C=256):(B=d,U=f,C=-1),j=0,L=0,T=D,S=g,R=P,N=0,x=-1,w=(F=1<<P)-1,e===l&&F>o||e===c&&F>s)return 1;for(;;){k=T-N,v[L]<C?(E=0,M=v[L]):v[L]>C?(E=U[K+v[L]],M=B[X+v[L]]):(E=96,M=0),b=1<<T-N,D=_=1<<R;do{m[S+(j>>N)+(_-=b)]=k<<24|E<<16|M|0}while(0!==_);for(b=1<<T-1;j&b;)b>>=1;if(0!==b?(j&=b-1,j+=b):j=0,L++,0==--z[T]){if(T===I)break;T=t[n+v[L]]}if(T>P&&(j&w)!==x){for(0===N&&(N=P),S+=D,O=1<<(R=T-N);R+N<I&&!((O-=z[R+N])<=0);)R++,O<<=1;if(F+=1<<R,e===l&&F>o||e===c&&F>s)return 1;m[x=j&w]=P<<24|R<<16|S-g|0}}return 0!==j&&(m[S+j]=T-N<<24|64<<16|0),y.bits=P,0};var i=n(23),r=15,o=852,s=592,a=0,l=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]},function(e,t,n){"use strict";t.a=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),t.a=function(e){switch(e){case i.encodingRaw:return"Raw";case i.encodingCopyRect:return"CopyRect";case i.encodingRRE:return"RRE";case i.encodingHextile:return"Hextile";case i.encodingTight:return"Tight";default:return"[unknown encoding "+e+"]"}};var i={encodingRaw:0,encodingCopyRect:1,encodingRRE:2,encodingHextile:5,encodingTight:7,pseudoEncodingQualityLevel9:-23,pseudoEncodingQualityLevel0:-32,pseudoEncodingDesktopSize:-223,pseudoEncodingLastRect:-224,pseudoEncodingCursor:-239,pseudoEncodingQEMUExtendedKeyEvent:-258,pseudoEncodingTightPNG:-260,pseudoEncodingExtendedDesktopSize:-308,pseudoEncodingXvp:-309,pseudoEncodingFence:-312,pseudoEncodingContinuousUpdates:-313,pseudoEncodingCompressLevel9:-247,pseudoEncodingCompressLevel0:-256}},function(e,t){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0}),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,"function"!=typeof window.CustomEvent&&(window.CustomEvent=e)}()},function(e,t,n){"use strict";var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vnc-components",attrs:{id:this.name}},[t("textarea",{staticClass:"clip-area",domProps:{value:this.clipValue}})])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vm-panel"},[e._l(e.resources,function(t,i){return["container"===t.type&&"started"===e.resourceStatus[i].status?n("console",{directives:[{name:"show",rawName:"v-show",value:e.currentResource===t.id,expression:"currentResource === resourceItem.id"}],ref:t.id,refInFor:!0,attrs:{name:t.id,"current-show":e.currentResource===t.id,connection:e.resourcesConnections[i].connection},on:{"on-console-connected":e.onConsoleConnected,"on-console-disconnected":e.onConsoleDisconnected,"on-console-resize":e.onConsoleResize}}):e._e(),e._v(" "),"vm"===t.type&&"started"===e.resourceStatus[i].status?n("vnc",{directives:[{name:"show",rawName:"v-show",value:e.currentResource===t.id,expression:"currentResource === resourceItem.id"}],ref:t.id,refInFor:!0,attrs:{name:t.id,"current-show":e.currentResource===t.id,connection:e.resourcesConnections[i].connection},on:{"on-vnc-clipboard":e.onVncClipboard,"on-vnc-connected":e.onVncConnected,"on-vnc-disconnected":e.onVncDisconnected}}):e._e()]})],2)};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r}])},e.exports=i()},543:function(module,exports,__webpack_require__){var e;"undefined"!=typeof self&&self,e=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t,n){var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r=n(8),o={},s=i&&(document.head||document.getElementsByTagName("head")[0]),a=null,l=0,c=!1,u=function(){},h=null,d="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e){for(var t=0;t<e.length;t++){var n=e[t],i=o[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(g(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var s=[];for(r=0;r<n.parts.length;r++)s.push(g(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:s}}}}function m(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function g(e){var t,n,i=document.querySelector("style["+d+'~="'+e.id+'"]');if(i){if(c)return u;i.parentNode.removeChild(i)}if(f){var r=l++;i=a||(a=m()),t=b.bind(null,i,r,!1),n=b.bind(null,i,r,!0)}else i=m(),t=function(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),h.ssrId&&e.setAttribute(d,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}e.exports=function(e,t,n,i){c=n,h=i||{};var s=r(e,t);return p(s),function(t){for(var n=[],i=0;i<s.length;i++){var a=s[i];(l=o[a.id]).refs--,n.push(l)}for(t?p(s=r(e,t)):s=[],i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete o[l.id]}}}};var v,y=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function b(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}},function(e,t,n){"use strict";var i=n(12),r=(n.n(i),n(13)),o=n(14),s=n.n(o);t.a={props:{data:{type:Object,default:()=>({})},connectedRules:{type:Object,default:()=>({})},addNodeRules:{type:Object,default:()=>({})},mode:{type:String,default:"readonly"}},watch:{data(){this.resetData(),this.jsPlumb.empty(this.$el.querySelector(".topology-inner-wrapper")),this.$nextTick(()=>{this.initFlow()})}},mounted(){this.$nextTick(()=>{this.initFlow(),this.bindWindowEvents(),this.bindJsPlumbListener()})},data:()=>({delIcon:n(18),jsPlumb:i.jsPlumb.getInstance(),baseSize:1343,currentSelected:{type:"",data:{}},currentDrag:{type:"",data:{}},connLineStyle:{stroke:"#979797",strokeWidth:4},anthorList:["Top","Left","Bottom","Right","Center"],nodePicMap:{base:n(19),pc:n(20),router:n(21),switch:n(22),server:n(23)},nodeRenderList:[],nodeDataList:[],connectedNodes:[]}),methods:{getNodes({nodeId:e}){return e?this.nodeDataList.filter(t=>t.id===e):this.nodeDataList},resetData(){this.nodeDataList=[],this.nodeRenderList=[],this.connectedNodes=[],this.currentSelected={type:"",data:{}},this.currentDrag={type:"",data:{}}},initFlow(){this.jsPlumb.bind("ready",()=>{this.jsPlumb.setContainer(this.$el.querySelector(".topology-inner-wrapper")),this.initNodesAndLines(),this.resize()})},getAllConnections(){return this.jsPlumb.getAllConnections()},resize(){const e=this.$el.offsetWidth>=this.$el.offsetHeight?this.$el.offsetHeight:this.$el.offsetWidth;this.setZoom(e/this.baseSize,this.jsPlumb)},setZoom(e,t,n,i){n=n||[.5,.5],i=i||t.getContainer();const r=["webkit","moz","ms","o"],o="scale("+e+")",s=100*n[0]+"% "+100*n[1]+"%";for(let e=0;e<r.length;e++)i.style[r[e]+"Transform"]=o,i.style[r[e]+"TransformOrigin"]=s;i.style.transform=o,i.style.transformOrigin=s,t.setZoom(e)},initNodesAndLines(){this.data.elementsData&&(this.data.elementsData.forEach(e=>{this.appendNode({node:e})}),this.$nextTick(()=>{this.data.linesData.forEach(e=>{let t=[];t=e[2]?[e[2],e[3]]:["Center","Center"],this.appendLines({sourceId:e[0],targetId:e[1],anchors:t}),this.connectedNodes.push({[e[0]]:e[1]})})}))},appendNode({node:e}){const t=e;t.pic=this.nodePicMap[e.type],this.nodeRenderList.push(t),this.nodeDataList.push(t),"edit"===this.mode&&this.$nextTick(()=>{this.jsPlumb.draggable(e.id,{containment:!0}),t.endpoints=this.appendEndpoints({nodeId:e.id})})},appendLines({sourceId:e,targetId:t,anchors:n}){this.jsPlumb.connect({source:this.$el.querySelector("#"+e),target:this.$el.querySelector("#"+t),anchors:n,endpointStyle:{radius:.1},connector:["Flowchart"],paintStyle:this.connLineStyle})},appendEndpoints({nodeId:e}){const t=[];return this.anthorList.forEach(n=>{const i=this.jsPlumb.addEndpoint(e,{anchor:n},{endpoint:["Dot",{radius:8}],isSource:!0,isTarget:!0,maxConnections:-1,cssClass:"endpoint-hide",paintStyle:{fill:"#ffffff",stroke:"#979797",radius:8},deleteEndpointsOnDetach:!1,connector:["Flowchart"],connectorStyle:this.connLineStyle});i.bind("mouseover",e=>{e.removeClass("endpoint-hide"),e.addClass("endpoint-show"),e.setPaintStyle({fill:"#ffffff",stroke:"#979797",radius:16})}),i.bind("mouseout",e=>{e.removeClass("endpoint-show"),e.addClass("endpoint-hide"),e.setPaintStyle({fill:"#ffffff",stroke:"#979797",radius:6})}),t.push(i)}),t},deleteNode({node:e}){for(let t=0;t<this.nodeDataList.length;t++)if(this.nodeDataList[t].id===e.id){this.jsPlumb.remove(e.id),this.nodeDataList.splice(t,1),this.deleteConnectedNodes({sourceId:e.id});break}this.$emit("on-node-delete",{node:e})},bindWindowEvents(){window.addEventListener("keydown",e=>{"Backspace"===e.key&&this.currentSelected.type&&"BODY"===e.target.tagName&&("line"===this.currentSelected.type&&(this.jsPlumb.deleteConnection(this.currentSelected.data.conn),this.deleteConnectedNodes({sourceId:this.currentSelected.data.conn.sourceId,targetId:this.currentSelected.data.conn.targetId})),"node"===this.currentSelected.type&&this.deleteNode({node:this.currentSelected.data.node}),this.currentSelected={type:"",data:{}})}),window.addEventListener("resize",()=>{this.resize()})},deleteConnectedNodes({sourceId:e,targetId:t}){for(let n=0;n<this.connectedNodes.length;n++)t?this.connectedNodes[n][e]!==t&&this.connectedNodes[n][t]!==e||(this.connectedNodes[n]=""):e!=Object.keys(this.connectedNodes[n])[0]&&e!=this.connectedNodes[n][Object.keys(this.connectedNodes[n])[0]]||(this.connectedNodes[n]="");this.connectedNodes=this.connectedNodes.filter(e=>!!e)},bindJsPlumbListener(){"edit"===this.mode&&(this.jsPlumb.bind("click",(e,t)=>{t.stopPropagation(),this.jsPlumb.getAllConnections().forEach(e=>{e.setPaintStyle(this.connLineStyle)}),e.setPaintStyle({stroke:"#2e9fff",strokeWidth:4}),this.currentSelected={type:"line",data:{conn:e,sourceId:e.sourceId,targetId:e.targetId}}}),this.jsPlumb.bind("beforeDrop",e=>{if(e.sourceId===e.targetId&&this.connectedRules.selfConnect&&!1===this.connectedRules.selfConnect.value)return this.$emit("on-valid-error-message",{message:this.connectedRules.selfConnect.message}),!1;for(let t=0;t<this.connectedNodes.length;t++)if((this.connectedNodes[t][e.sourceId]===e.targetId||this.connectedNodes[t][e.targetId]===e.sourceId)&&this.connectedRules.mutiConnect&&!1===this.connectedRules.mutiConnect.value)return this.$emit("on-valid-error-message",{message:this.connectedRules.mutiConnect.message}),!1;if(this.connectedRules.customRules){let t,n;if(this.nodeDataList.forEach(i=>{i.id===e.sourceId&&(t=i),i.id===e.targetId&&(n=i)}),!this.connectedRules.customRules({sourceNode:t,targetNode:n,message:({message:e})=>this.$emit("on-valid-error-message",{message:e})}))return!1}return this.connectedNodes.push({[e.sourceId]:e.targetId}),!0}))},onPanelClick(){"edit"===this.mode&&this.currentSelected.type&&("line"===this.currentSelected.type&&this.currentSelected.data.conn.setPaintStyle(this.connLineStyle),this.currentSelected={type:"",data:{}})},onPanelDrop(e){if("edit"!==this.mode)return;if(!e.dataTransfer.getData("currentType"))return e.preventDefault();if(this.addNodeRules.oneBase&&this.addNodeRules.oneBase.value&&this.nodeDataList.find(t=>"base"===t.type&&"base"===e.dataTransfer.getData("currentType")))return void this.$emit("on-valid-error-message",{message:this.addNodeRules.oneBase.message});if(this.addNodeRules.customRules&&!this.connectedRules.customRules({nodeList:this.nodeDataList,message:({message:e})=>this.$emit("on-valid-error-message",{message:e})}))return;const t=e.dataTransfer.getData("currentType"),n=e.dataTransfer.getData("name"),i=`${t}_${s.a.create().update((new Date).getTime()+"").hex().substring(0,8)}`,r=JSON.parse(e.dataTransfer.getData("data"));"switch"===t?r.network.name=i:r.resource.name=i;const o={id:i,points:{x:e.offsetX-55,y:e.offsetY-55},name:n,data:r,type:t};this.appendNode({node:o}),this.$emit("on-node-add",{node:o})},setAllNodeError({isError:e}){this.nodeDataList.forEach(t=>{e?Object(r.a)(this.$el.querySelector("#"+t.id),"node-error"):Object(r.b)(this.$el.querySelector("#"+t.id),"node-error")})},clearNodeBg(){for(let e=0;e<this.nodeDataList.length;e++){const t=this.$el.querySelector("#"+this.nodeDataList[e].id);t.querySelector(".node-bg-color")&&t.removeChild(t.querySelector(".node-bg-color"))}},setNodeBg({nodeId:e,color:t}){for(let n=0;n<this.nodeDataList.length;n++)if(this.nodeDataList[n].id===e){const e=this.$el.querySelector("#"+this.nodeDataList[n].id),i=document.createElement("div");i.setAttribute("class","node-bg-color"),i.setAttribute("style",`background: ${t};`),e.appendChild(i);break}},setNodeError({nodeId:e,isError:t}){for(let t=0;t<this.nodeDataList.length;t++)if(this.nodeDataList[t].id===e){Object(r.a)(this.$el.querySelector("#"+this.nodeDataList[t].id),"node-error");break}},setPointsOnList({nodeId:e}){const t=this.$el.querySelector("#"+e);if(!t)return;const n=t.style.left.substring(0,t.style.left.length-2),i=t.style.top.substring(0,t.style.top.length-2);this.nodeDataList.forEach(t=>{t.id===e&&(t.points.x=parseFloat(n),t.points.y=parseFloat(i))}),this.nodeRenderList.forEach(t=>{t.id==e&&(t.points.x=parseFloat(n),t.points.y=parseFloat(i))})},onPanelDragover(e){"edit"===this.mode&&e.preventDefault()},onNodeMousedown({node:e}){this.$emit("on-node-mousedown",{node:e}),"edit"===this.mode&&(this.currentDrag={type:"node",data:{node:e}})},onNodeMouseup({node:e}){if(this.$emit("on-node-mouseup",{node:e}),"edit"===this.mode&&"node"===this.currentDrag.type){const t=this.$el.querySelector(".topology-inner-wrapper"),n=this.$el.querySelector("#"+this.currentDrag.data.node.id),i=n.style.left.substring(0,n.style.left.length-2);n.style.top.substring(0,n.style.top.length-2)>=t.offsetHeight-300&&i>=t.offsetWidth-300&&this.deleteNode({node:this.currentDrag.data.node}),this.currentDrag={type:"",data:{}},this.setPointsOnList({nodeId:e.id})}},onNodeMouseenter({node:e}){this.$emit("on-node-mouseenter",{node:e}),"edit"===this.mode&&e.endpoints.forEach(e=>{e.removeClass("endpoint-hide"),e.addClass("endpoint-show")})},onNodeMouseout({node:e}){this.$emit("on-node-mouseout",{node:e}),"edit"===this.mode&&e.endpoints.forEach(e=>{e.removeClass("endpoint-show"),e.addClass("endpoint-hide")})},onNodeClick({node:e}){this.$emit("on-node-click",{node:e}),"line"===this.currentSelected.type&&this.currentSelected.data.conn.setPaintStyle(this.connLineStyle),this.currentSelected={type:"node",data:{node:e}}},onNodeDbClick({node:e}){this.$emit("on-node-db-click",{node:e})}}}},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5);t.default=i.a},function(e,t,n){"use strict";var i=n(2),r=n(24),o=n(11)(i.a,r.a,!1,function(e){n(6),n(9)},"data-v-6f94bf2c",null);o.options.__file="src/TopologyPanel.vue",t.a=o.exports},function(e,t,n){var i=n(7);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("4d56c2d2",i,!1,{})},function(e,t,n){(e.exports=n(0)()).push([e.i,"\n.endpoint-hide {\n  opacity: 0;\n}\n.endpoint-show {\n  opacity: 1;\n  z-index: 11;\n}\n",""])},function(e,t){e.exports=function(e,t){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],s=o[0],a={id:e+":"+r,css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}},function(e,t,n){var i=n(10);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("4e59caf4",i,!1,{})},function(e,t,n){(e.exports=n(0)()).push([e.i,"\n.topology-panel[data-v-6f94bf2c] {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.topology-inner-wrapper[data-v-6f94bf2c] {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -671.5px;\n  margin-top: -671.5px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.inner-wrapper-border[data-v-6f94bf2c] {\n  border: 1px dashed #333333;\n}\n.node-hover-border[data-v-6f94bf2c]:hover {\n  border: 1px dashed #979797;\n}\n.node-click-active[data-v-6f94bf2c] {\n  background-color: #d8d8d8 !important;\n}\n.node-bg-color[data-v-6f94bf2c] {\n  -webkit-border-radius: 50%;\n          border-radius: 50%;\n  opacity: 0.5;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n}\n.node[data-v-6f94bf2c] {\n  position: absolute;\n  width: 110px;\n  height: 110px;\n  background-color: #ffffff;\n  background-position: center;\n  -webkit-background-size: contain;\n          background-size: contain;\n  background-repeat: no-repeat;\n  -webkit-border-radius: 50%;\n          border-radius: 50%;\n  z-index: 10;\n  border: 1px solid transparent;\n  cursor: pointer;\n}\n.node-error[data-v-6f94bf2c] {\n  border: 4px solid #ed3f14;\n  -webkit-box-shadow: 0px 0px 20px #ed3f14;\n          box-shadow: 0px 0px 20px #ed3f14;\n}\n.delete-block-border[data-v-6f94bf2c] {\n  border-color: #979797 !important;\n}\n.delete-block[data-v-6f94bf2c] {\n  position: absolute;\n  width: 164px;\n  height: 164px;\n  right: 0;\n  bottom: 0;\n  font-size: 12px;\n  color: #666666;\n  border: 1px dashed transparent;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.delete-block img[data-v-6f94bf2c] {\n  width: 50px;\n  height: 53px;\n}\n",""])},function(e,t){e.exports=function(e,t,n,i,r,o){var s,a=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,a=e.default);var c,u="function"==typeof a?a.options:a;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId=r),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=c):i&&(c=i),c){var h=u.functional,d=h?u.render:u.beforeCreate;h?(u._injectStyles=c,u.render=function(e,t){return c.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:s,exports:a,options:u}}},function(e,t,n){(function(){void 0===Math.sgn&&(Math.sgn=function(e){return 0==e?0:e>0?1:-1});var e=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},n=function(e,t){return e.x*t.x+e.y*t.y},i=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},r=function(e,t){return{x:e.x*t,y:e.y*t}},o=Math.pow(2,-65),s=function(t,n){for(var r=[],o=a(t,n),s=n.length-1,c=l(o,2*s-1,r,0),u=e(t,n[0]),h=i(u),f=0,p=0;p<c;p++){u=e(t,d(n,s,r[p],null,null));var m=i(u);m<h&&(h=m,f=r[p])}return u=e(t,n[s]),(m=i(u))<h&&(h=m,f=1),{location:f,distance:h}},a=function(t,i){for(var o=i.length-1,s=2*o-1,a=[],l=[],c=[],u=[],h=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],d=0;d<=o;d++)a[d]=e(i[d],t);for(d=0;d<=o-1;d++)l[d]=e(i[d+1],i[d]),l[d]=r(l[d],3);for(var f=0;f<=o-1;f++)for(var p=0;p<=o;p++)c[f]||(c[f]=[]),c[f][p]=n(l[f],a[p]);for(d=0;d<=s;d++)u[d]||(u[d]=[]),u[d].y=0,u[d].x=parseFloat(d)/s;for(var m=o,g=o-1,v=0;v<=m+g;v++){var y=Math.max(0,v-g),b=Math.min(v,m);for(d=y;d<=b;d++)j=v-d,u[d+j].y+=c[j][d]*h[j][d]}return u},l=function(e,t,n,i){var r,o,s=[],a=[],f=[],p=[];switch(c(e,t)){case 0:return 0;case 1:if(i>=64)return n[0]=(e[0].x+e[t].x)/2,1;if(u(e,t))return n[0]=h(e,t),1}d(e,t,.5,s,a),r=l(s,t,f,i+1),o=l(a,t,p,i+1);for(var m=0;m<r;m++)n[m]=f[m];for(m=0;m<o;m++)n[m+r]=p[m];return r+o},c=function(e,t){var n,i,r=0;n=i=Math.sgn(e[0].y);for(var o=1;o<=t;o++)(n=Math.sgn(e[o].y))!=i&&r++,i=n;return r},u=function(e,t){var n,i,r,s,a,l,c,u;s=e[0].y-e[t].y,a=e[t].x-e[0].x,l=e[0].x*e[t].y-e[t].x*e[0].y;for(var h=max_distance_below=0,d=1;d<t;d++){var f=s*e[d].x+a*e[d].y+l;f>h?h=f:f<max_distance_below&&(max_distance_below=f)}return n=(1*(l-h)-0*(u=a))*(1/(0*u-1*s)),c=s,u=a,i=(1*(l-max_distance_below)-0*u)*(1/(0*u-1*c)),r=Math.min(n,i),Math.max(n,i)-r<o?1:0},h=function(e,t){var n=e[t].x-e[0].x,i=e[t].y-e[0].y,r=e[0].x-0;return 0+(n*(e[0].y-0)-i*r)*(1/(0*n-1*i))*1},d=function(e,t,n,i,r){for(var o=[[]],s=0;s<=t;s++)o[0][s]=e[s];for(var a=1;a<=t;a++)for(s=0;s<=t-a;s++)o[a]||(o[a]=[]),o[a][s]||(o[a][s]={}),o[a][s].x=(1-n)*o[a-1][s].x+n*o[a-1][s+1].x,o[a][s].y=(1-n)*o[a-1][s].y+n*o[a-1][s+1].y;if(null!=i)for(s=0;s<=t;s++)i[s]=o[s][0];if(null!=r)for(s=0;s<=t;s++)r[s]=o[t-s][s];return o[t][0]},f={},p=function(e,t){for(var n=function(e){var t=f[e];if(!t){var n=function(e){return function(t){return e}},i=function(){return function(e){return e}},r=function(){return function(e){return 1-e}},o=function(e){return function(t){for(var n=1,i=0;i<e.length;i++)n*=e[i](t);return n}};(t=[]).push(new function(){return function(t){return Math.pow(t,e)}});for(var s=1;s<e;s++){for(var a=[new n(e)],l=0;l<e-s;l++)a.push(new i);for(l=0;l<s;l++)a.push(new r);t.push(new o(a))}t.push(new function(){return function(t){return Math.pow(1-t,e)}}),f[e]=t}return t}(e.length-1),i=0,r=0,o=0;o<e.length;o++)i+=e[o].x*n[o](t),r+=e[o].y*n[o](t);return{x:i,y:r}},m=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},g=function(e){return e[0].x==e[1].x&&e[0].y==e[1].y},v=function(e,t,n){if(g(e))return{point:e[0],location:t};for(var i=p(e,t),r=0,o=t,s=n>0?1:-1,a=null;r<Math.abs(n);)a=p(e,o+=.005*s),r+=m(a,i),i=a;return{point:a,location:o}},y=function(e,t){var n=p(e,t),i=p(e.slice(0,e.length-1),t),r=i.y-n.y,o=i.x-n.x;return 0==r?1/0:Math.atan(r/o)},b=this.jsBezier={distanceFromCurve:s,gradientAtPoint:y,gradientAtPointAlongCurveFrom:function(e,t,n){var i=v(e,t,n);return i.location>1&&(i.location=1),i.location<0&&(i.location=0),y(e,i.location)},nearestPointOnCurve:function(e,t){var n=s(e,t);return{point:d(t,t.length-1,n.location,null,null),location:n.location}},pointOnCurve:p,pointAlongCurveFrom:function(e,t,n){return v(e,t,n).point},perpendicularToCurveAt:function(e,t,n,i){var r=v(e,t,i=null==i?0:i),o=y(e,r.location),s=Math.atan(-1/o),a=n/2*Math.sin(s),l=n/2*Math.cos(s);return[{x:r.point.x+l,y:r.point.y+a},{x:r.point.x-l,y:r.point.y-a}]},locationAlongCurveFrom:function(e,t,n){return v(e,t,n).location},getLength:function(e){if(g(e))return 0;for(var t=p(e,0),n=0,i=0,r=null;i<1;)r=p(e,i+=.005),n+=m(r,t),t=r;return n},version:"0.9.0"};t.jsBezier=b}).call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.Biltong={version:"0.4.0"};t.Biltong=e;var n=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=function(e,t,i){return i(e=n(e)?e:[e.x,e.y],t=n(t)?t:[t.x,t.y])},r=e.gradient=function(e,t){return i(e,t,function(e,t){return t[0]==e[0]?t[1]>e[1]?1/0:-1/0:t[1]==e[1]?t[0]>e[0]?0:-0:(t[1]-e[1])/(t[0]-e[0])})},o=(e.normal=function(e,t){return-1/r(e,t)},e.lineLength=function(e,t){return i(e,t,function(e,t){return Math.sqrt(Math.pow(t[1]-e[1],2)+Math.pow(t[0]-e[0],2))})},e.quadrant=function(e,t){return i(e,t,function(e,t){return t[0]>e[0]?t[1]>e[1]?2:1:t[0]==e[0]?t[1]>e[1]?2:1:t[1]>e[1]?3:4})}),s=(e.theta=function(e,t){return i(e,t,function(e,t){var n=r(e,t),i=Math.atan(n),s=o(e,t);return 4!=s&&3!=s||(i+=Math.PI),i<0&&(i+=2*Math.PI),i})},e.intersects=function(e,t){var n=e.x,i=e.x+e.w,r=e.y,o=e.y+e.h,s=t.x,a=t.x+t.w,l=t.y,c=t.y+t.h;return n<=s&&s<=i&&r<=l&&l<=o||n<=a&&a<=i&&r<=l&&l<=o||n<=s&&s<=i&&r<=c&&c<=o||n<=a&&s<=i&&r<=c&&c<=o||s<=n&&n<=a&&l<=r&&r<=c||s<=i&&i<=a&&l<=r&&r<=c||s<=n&&n<=a&&l<=o&&o<=c||s<=i&&n<=a&&l<=o&&o<=c},e.encloses=function(e,t,n){var i=e.x,r=e.x+e.w,o=e.y,s=e.y+e.h,a=t.x,l=t.x+t.w,c=t.y,u=t.y+t.h,h=function(e,t,i,r){return n?e<=t&&i>=r:e<t&&i>r};return h(i,a,r,l)&&h(o,c,s,u)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),a=[null,[-1,-1],[-1,1],[1,1],[1,-1]];e.pointOnLine=function(e,t,n){var i=r(e,t),l=o(e,t),c=n>0?s[l]:a[l],u=Math.atan(i),h=Math.abs(n*Math.sin(u))*c[1],d=Math.abs(n*Math.cos(u))*c[0];return{x:e.x+d,y:e.y+h}},e.perpendicularLineTo=function(e,t,n){var i=r(e,t),o=Math.atan(-1/i),s=n/2*Math.sin(o),a=n/2*Math.cos(o);return[{x:t.x+a,y:t.y+s},{x:t.x-a,y:t.y-s}]}}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=navigator.userAgent.toLowerCase().indexOf("android")>-1,n=function(e,t,n){for(var i=(n=n||e.parentNode).querySelectorAll(t),r=0;r<i.length;r++)if(i[r]===e)return!0;return!1},i=function(e){return"string"==typeof e||e.constructor===String?document.getElementById(e):e},r=function(e){return e.srcElement||e.target},o=function(e,t,n,i){if(i){if(void 0!==e.path&&e.path.indexOf)return{path:e.path,end:e.path.indexOf(n)};var r={path:[],end:-1},o=function(e){r.path.push(e),e===n?r.end=r.path.length-1:null!=e.parentNode&&o(e.parentNode)};return o(t),r}return{path:[t],end:1}},s=function(e,t){for(var n=0,i=e.length;n<i&&e[n]!=t;n++);n<e.length&&e.splice(n,1)},a=1,l=function(e,t,n){var i=a++;return e.__ta=e.__ta||{},e.__ta[t]=e.__ta[t]||{},e.__ta[t][i]=n,n.__tauid=i,i},c=function(e,t,i,s){if(null==e)return i;var a=e.split(","),l=function(s){l.__tauid=i.__tauid;var c=r(s),u=c,h=o(s,c,t,null!=e);if(-1!=h.end)for(var d=0;d<h.end;d++){u=h.path[d];for(var f=0;f<a.length;f++)n(u,a[f],t)&&i.apply(u,arguments)}};return u(i,s,l),l},u=function(e,t,n){e.__taExtra=e.__taExtra||[],e.__taExtra.push([t,n])},h=function(e,t,n,i){if(p&&g[t]){var r=c(i,e,n,g[t]);C(e,g[t],r,n)}"focus"===t&&null==e.getAttribute("tabindex")&&e.setAttribute("tabindex","1"),C(e,t,c(i,e,n,t),n)},d={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},f=function(e,t,n,i){for(var r in n.__tamee[e])n.__tamee[e].hasOwnProperty(r)&&n.__tamee[e][r].apply(i,[t])},p="ontouchstart"in document.documentElement,m="onmousedown"in document.documentElement,g={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},v=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),y=v>-1&&v<9,b=function(e,t){if(null==e)return[0,0];var n=w(e),i=x(n,0);return[i[t+"X"],i[t+"Y"]]},_=function(e){return null==e?[0,0]:y?[e.clientX+document.documentElement.scrollLeft,e.clientY+document.documentElement.scrollTop]:b(e,"page")},x=function(e,t){return e.item?e.item(t):e[t]},w=function(e){return e.touches&&e.touches.length>0?e.touches:e.changedTouches&&e.changedTouches.length>0?e.changedTouches:e.targetTouches&&e.targetTouches.length>0?e.targetTouches:[e]},S=function(e){return w(e).length},C=function(e,t,n,i){if(l(e,t,n),i.__tauid=n.__tauid,e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent){var r=t+n.__tauid;e["e"+r]=n,e[r]=function(){e["e"+r]&&e["e"+r](window.event)},e.attachEvent("on"+t,e[r])}},k=function(e,t,n){null!=n&&E(e,function(){var r=i(this);if(function(e,t,n){if(e.__ta&&e.__ta[t]&&delete e.__ta[t][n.__tauid],n.__taExtra){for(var i=0;i<n.__taExtra.length;i++)k(e,n.__taExtra[i][0],n.__taExtra[i][1]);n.__taExtra.length=0}n.__taUnstore&&n.__taUnstore()}(r,t,n),null!=n.__tauid)if(r.removeEventListener)r.removeEventListener(t,n,!1),p&&g[t]&&r.removeEventListener(g[t],n,!1);else if(this.detachEvent){var o=t+n.__tauid;r[o]&&r.detachEvent("on"+t,r[o]),r[o]=null,r["e"+o]=null}n.__taTouchProxy&&k(e,n.__taTouchProxy[1],n.__taTouchProxy[0])})},E=function(e,t){if(null!=e){e="undefined"!=typeof Window&&"unknown"!=typeof e.top&&e==e.top?[e]:"string"!=typeof e&&null==e.tagName&&null!=e.length?e:"string"==typeof e?document.querySelectorAll(e):[e];for(var n=0;n<e.length;n++)t.apply(e[n])}};this.Mottle=function(t){var a=(t=t||{}).clickThreshold||250,u=t.dblClickThreshold||450,v=new function(){var e=[];return function(t,i,o,s){if(!t.__tamee){t.__tamee={over:!1,mouseenter:[],mouseexit:[]};var a=function(i){var o=r(i);(null==s&&o==t&&!t.__tamee.over||n(o,s,t)&&(null==o.__tamee||!o.__tamee.over))&&(f("mouseenter",i,t,o),o.__tamee=o.__tamee||{},o.__tamee.over=!0,e.push(o))},u=function(i){for(var o=r(i),s=0;s<e.length;s++)o!=e[s]||n(i.relatedTarget||i.toElement,"*",o)||(o.__tamee.over=!1,e.splice(s,1),f("mouseexit",i,t,o))};C(t,"mouseover",c(s,t,a,"mouseover"),a),C(t,"mouseout",c(s,t,u,"mouseout"),u)}o.__taUnstore=function(){delete t.__tamee[i][o.__tauid]},l(t,i,o),t.__tamee[i][o.__tauid]=o}},y=new function(e,t){return function(i,a,l,c){if("contextmenu"==a&&m)h(i,a,l,c);else{if(null==i.__taTapHandler){var u=i.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},f=function(){u.down=!1},p=function(){u.taps=0};h(i,"mousedown",function(s){for(var a=r(s),l=o(s,a,i,null!=c),h=!1,d=0;d<l.end;d++){if(h)return;a=l.path[d];for(var m=0;m<u.downSelectors.length;m++)if(null==u.downSelectors[m]||n(a,u.downSelectors[m],i)){u.down=!0,setTimeout(f,e),setTimeout(p,t),h=!0;break}}}),h(i,"mouseup",function(e){if(u.down){var t,s,a=r(e);u.taps++;var l=S(e);for(var c in d)if(d.hasOwnProperty(c)){var h=d[c];if(h.touches===l&&(1===h.taps||h.taps===u.taps))for(var f=0;f<u[c].length;f++){s=o(e,a,i,null!=u[c][f][1]);for(var p=0;p<s.end;p++)if(t=s.path[p],null==u[c][f][1]||n(t,u[c][f][1],i)){u[c][f][0].apply(t,[e]);break}}}}})}i.__taTapHandler.downSelectors.push(c),i.__taTapHandler[a].push([l,c]),l.__taUnstore=function(){s(i.__taTapHandler[a],l)}}}}(a,u),x=t.smartClicks,w=function(e,t,n,o){null!=n&&E(e,function(){var e=i(this);x&&"click"===t?function(e,t,n,i){null==e.__taSmartClicks&&(h(e,"mousedown",function(t){e.__tad=_(t)},i),h(e,"mouseup",function(t){e.__tau=_(t)},i),h(e,"click",function(t){if(e.__tad&&e.__tau&&e.__tad[0]===e.__tau[0]&&e.__tad[1]===e.__tau[1])for(var n=0;n<e.__taSmartClicks.length;n++)e.__taSmartClicks[n].apply(r(t),[t])},i),e.__taSmartClicks=[]),e.__taSmartClicks.push(n),n.__taUnstore=function(){s(e.__taSmartClicks,n)}}(e,0,n,o):"tap"===t||"dbltap"===t||"contextmenu"===t?y(e,t,n,o):"mouseenter"===t||"mouseexit"==t?v(e,t,n,o):h(e,t,n,o)})};this.remove=function(e){return E(e,function(){var e=i(this);if(e.__ta)for(var t in e.__ta)if(e.__ta.hasOwnProperty(t))for(var n in e.__ta[t])e.__ta[t].hasOwnProperty(n)&&k(e,t,e.__ta[t][n]);e.parentNode&&e.parentNode.removeChild(e)}),this},this.on=function(e,t,n,i){var r=arguments[0],o=4==arguments.length?arguments[2]:null,s=arguments[1],a=arguments[arguments.length-1];return w(r,s,a,o),this},this.off=function(e,t,n){return k(e,t,n),this},this.trigger=function(t,n,r,o){var s=m&&("undefined"==typeof MouseEvent||null==r||r.constructor===MouseEvent),a=p&&!m&&g[n]?g[n]:n,l=!(p&&!m&&g[n]),c=_(r),u=b(r,"screen"),h=b(r,"client");return E(t,function(){var t,d=i(this);r=r||{screenX:u[0],screenY:u[1],clientX:h[0],clientY:h[1]};var f=function(e){o&&(e.payload=o)},m={TouchEvent:function(e){var t=document.createTouch(window,d,0,c[0],c[1],u[0],u[1],h[0],h[1],0,0,0,0),n=document.createTouchList(t),i=document.createTouchList(t),r=document.createTouchList(t);e.initTouchEvent(a,!0,!0,window,null,u[0],u[1],h[0],h[1],!1,!1,!1,!1,n,i,r,1,0)},MouseEvents:function(t){if(t.initMouseEvent(a,!0,!0,window,0,u[0],u[1],h[0],h[1],!1,!1,!1,!1,1,d),e){var n=document.createTouch(window,d,0,c[0],c[1],u[0],u[1],h[0],h[1],0,0,0,0);t.touches=t.targetTouches=t.changedTouches=document.createTouchList(n)}}};if(document.createEvent){var v=l||s||!p||!g[n]||e?"MouseEvents":"TouchEvent";t=document.createEvent(v),m[v](t),f(t),d.dispatchEvent(t)}else document.createEventObject&&((t=document.createEventObject()).eventType=t.eventName=a,t.screenX=u[0],t.screenY=u[1],t.clientX=h[0],t.clientY=h[1],f(t),d.fireEvent("on"+a,t))}),this}},this.Mottle.consume=function(e,t){e.stopPropagation?e.stopPropagation():e.returnValue=!1,!t&&e.preventDefault&&e.preventDefault()},this.Mottle.pageLocation=_,this.Mottle.setForceTouchEvents=function(e){p=e},this.Mottle.setForceMouseEvents=function(e){m=e},this.Mottle.version="0.8.0",t.Mottle=this.Mottle}.call("undefined"==typeof window?this:window),function(){"use strict";var e=function(e,t,n){return-1===e.indexOf(t)&&(n?e.unshift(t):e.push(t),!0)},n=function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},i=function(e){return null!=e&&("string"==typeof e||e.constructor==String)},r=function(e,t,n){for(var i=(n=n||e.parentNode).querySelectorAll(t),r=0;r<i.length;r++)if(i[r]===e)return!0;return!1},o=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),s=o>-1&&o<9,a=9==o,l=function(e){if(s)return[e.clientX+document.documentElement.scrollLeft,e.clientY+document.documentElement.scrollTop];var t=u(e),n=c(t,0);return a?[n.pageX||n.clientX,n.pageY||n.clientY]:[n.pageX,n.pageY]},c=function(e,t){return e.item?e.item(t):e[t]},u=function(e){return e.touches&&e.touches.length>0?e.touches:e.changedTouches&&e.changedTouches.length>0?e.changedTouches:e.targetTouches&&e.targetTouches.length>0?e.targetTouches:[e]},h={draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy"},d=["stop","start","drag","drop","over","out","beforeStart"],f=function(){},p=function(){return!0},m=function(e,t,n){for(var i=0;i<e.length;i++)e[i]!=n&&t(e[i])},g=function(e,t,n,i){m(e,function(e){e.setActive(t),t&&e.updatePosition(),n&&e.setHover(i,t)})},v=function(e,t){if(null!=e){e=i(e)||null!=e.tagName||null==e.length?[e]:e;for(var n=0;n<e.length;n++)t.apply(e[n],[e[n]])}},y=function(e){e.stopPropagation?(e.stopPropagation(),e.preventDefault()):e.returnValue=!1},b=function(e,t,n,i){this.params=t||{},this.el=e,this.params.addClass(this.el,this._class),this.uuid=C();var r=!0;return this.setEnabled=function(e){r=e},this.isEnabled=function(){return r},this.toggleEnabled=function(){r=!r},this.setScope=function(e){this.scopes=e?e.split(/\s+/):[i]},this.addScope=function(e){var t={};for(var n in v(this.scopes,function(e){t[e]=!0}),v(e?e.split(/\s+/):[],function(e){t[e]=!0}),this.scopes=[],t)this.scopes.push(n)},this.removeScope=function(e){var t={};for(var n in v(this.scopes,function(e){t[e]=!0}),v(e?e.split(/\s+/):[],function(e){delete t[e]}),this.scopes=[],t)this.scopes.push(n)},this.toggleScope=function(e){var t={};for(var n in v(this.scopes,function(e){t[e]=!0}),v(e?e.split(/\s+/):[],function(e){t[e]?delete t[e]:t[e]=!0}),this.scopes=[],t)this.scopes.push(n)},this.setScope(t.scope),this.k=t.katavorio,t.katavorio},_=function(){return!0},x=function(){return!1},w=function(e,t,n,o){this._class=n.draggable;var s=b.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var a,c=[0,0],u=null,d=null,f=[0,0],m=!1,v=!1!==this.params.consumeStartEvent,w=this.el,S=this.params.clone,E=(this.params.scroll,!1!==t.multipleDrop),M=!1,A=!0===t.ghostProxy?_:t.ghostProxy&&"function"==typeof t.ghostProxy?t.ghostProxy:x,T=t.snapThreshold,L=function(e,t,n,i,r){var o=t*Math.floor(e[0]/t),s=o+t,a=Math.abs(e[0]-o)<=i?o:Math.abs(s-e[0])<=i?s:e[0],l=n*Math.floor(e[1]/n),c=l+n;return[a,Math.abs(e[1]-l)<=r?l:Math.abs(c-e[1])<=r?c:e[1]]};this.posses=[],this.posseRoles={},this.toGrid=function(e){if(null==this.params.grid)return e;var t=this.params.grid?this.params.grid[0]/2:T||5,n=this.params.grid?this.params.grid[1]/2:T||5;return L(e,this.params.grid[0],this.params.grid[1],t,n)},this.snap=function(e,t){if(null!=w){e=e||(this.params.grid?this.params.grid[0]:10),t=t||(this.params.grid?this.params.grid[1]:10);var n=this.params.getPosition(w),i=this.params.grid?this.params.grid[0]/2:T,r=this.params.grid?this.params.grid[1]/2:T;this.params.setPosition(w,L(n,e,t,i,r))}},this.setUseGhostProxy=function(e){A=e?_:x};var D,I=function(e){return!1===t.allowNegative?[Math.max(0,e[0]),Math.max(0,e[1])]:e},P=function(e){a="function"==typeof e?e:e?function(e){return I([Math.max(0,Math.min(O.w-this.size[0],e[0])),Math.max(0,Math.min(O.h-this.size[1],e[1]))])}.bind(this):function(e){return I(e)}}.bind(this);P("function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(e){P(e)},this.setRevert=function(e){D=e};var R={},N=this.setFilter=function(t,n){if(t){var o="function"==typeof(s=t)?(s._katavorioId=C(),s._katavorioId):s;R[o]=[function(n){var o,s=n.srcElement||n.target;return i(t)?o=r(s,t,e):"function"==typeof t&&(o=t(n,e)),o},!1!==n]}var s};this.addFilter=N,this.removeFilter=function(e){var t="function"==typeof e?e._katavorioId:e;delete R[t]},this.clearAllFilters=function(){R={}},this.canDrag=this.params.canDrag||p;var O,F=[],j=[];this.downListener=function(e){var t,i,o,a,h,d,f,p,m;if((this.rightButtonCanDrag||3!==e.which&&2!==e.button)&&this.isEnabled()&&this.canDrag())if(function(e){for(var t in R){var n=R[t],i=n[0](e);if(n[1]&&(i=!i),!i)return!1}return!0}(e)&&function(e,t,n){var i=e.srcElement||e.target;return!r(i,n.getInputFilterSelector(),t)}(e,this.el,this.k)){if(S){(w=this.el.cloneNode(!0)).setAttribute("id",null),w.style.position="absolute";var g=(t=this.el.getBoundingClientRect(),i=document.body,o=document.documentElement,a=window.pageYOffset||o.scrollTop||i.scrollTop,h=window.pageXOffset||o.scrollLeft||i.scrollLeft,d=o.clientTop||i.clientTop||0,f=o.clientLeft||i.clientLeft||0,p=t.top+a-d,m=t.left+h-f,{top:Math.round(p),left:Math.round(m)});w.style.left=g.left+"px",w.style.top=g.top+"px",document.body.appendChild(w)}else w=this.el;v&&y(e),c=l(e),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),s.markSelection(this),s.markPosses(this),this.params.addClass(document.body,n.noSelect),z("beforeStart",{el:this.el,pos:u,e:e,drag:this})}else this.params.consumeFilteredEvents&&y(e)}.bind(this),this.moveListener=function(e){if(c){if(!m)if(!1!==z("start",{el:this.el,pos:u,e:e,drag:this})){if(!c)return;this.mark(!0),m=!0}else this.abort();if(c){j.length=0;var t=l(e),n=t[0]-c[0],i=t[1]-c[1],r=this.params.ignoreZoom?1:s.getZoom();n/=r,i/=r,this.moveBy(n,i,e),s.updateSelection(n,i,this),s.updatePosses(n,i,this)}}}.bind(this),this.upListener=function(e){c&&(c=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,n.noSelect),this.unmark(e),s.unmarkSelection(this,e),s.unmarkPosses(this,e),this.stop(e),s.notifySelectionDragStop(this,e),s.notifyPosseDragStop(this,e),m=!1,S&&(w&&w.parentNode&&w.parentNode.removeChild(w),w=null),j.length=0,D&&!0===D(this.el,this.params.getPosition(this.el))&&(this.params.setPosition(this.el,u),z("revert",this.el)))}.bind(this),this.getFilters=function(){return R},this.abort=function(){null!=c&&this.upListener()},this.getDragElement=function(){return w||this.el};var B={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};t.events.start&&B.start.push(t.events.start),t.events.beforeStart&&B.beforeStart.push(t.events.beforeStart),t.events.stop&&B.stop.push(t.events.stop),t.events.drag&&B.drag.push(t.events.drag),t.events.revert&&B.revert.push(t.events.revert),this.on=function(e,t){B[e]&&B[e].push(t)},this.off=function(e,t){if(B[e]){for(var n=[],i=0;i<B[e].length;i++)B[e][i]!==t&&n.push(B[e][i]);B[e]=n}};var X,z=function(e,t){var n=null;if(B[e])for(var i=0;i<B[e].length;i++)try{var r=B[e][i](t);null!=r&&(n=r)}catch(e){}return n};this.notifyStart=function(e){z("start",{el:this.el,pos:this.params.getPosition(w),e:e,drag:this})},this.stop=function(e,t){if(t||m){var n=[],i=s.getSelection(),r=this.params.getPosition(w);if(i.length>1)for(var o=0;o<i.length;o++){var a=this.params.getPosition(i[o].el);n.push([i[o].el,{left:a[0],top:a[1]},i[o]])}else n.push([w,{left:r[0],top:r[1]},this]);z("stop",{el:w,pos:X||r,finalPos:r,e:e,drag:this,selection:n})}},this.mark=function(e){var t;u=this.params.getPosition(w),d=this.params.getPosition(w,!0),f=[d[0]-u[0],d[1]-u[1]],this.size=this.params.getSize(w),F=s.getMatchingDroppables(this),g(F,!0,!1,this),this.params.addClass(w,this.params.dragClass||n.drag),t=this.params.getConstrainingRectangle?this.params.getConstrainingRectangle(w):this.params.getSize(w.parentNode),O={w:t[0],h:t[1]},e&&s.notifySelectionDragStart(this)},this.unmark=function(e,i){if(g(F,!1,!0,this),M&&A(this.el)?(X=[w.offsetLeft,w.offsetTop],this.el.parentNode.removeChild(w),w=this.el):X=null,this.params.removeClass(w,this.params.dragClass||n.drag),F.length=0,M=!1,!i){j.length>0&&X&&t.setPosition(this.el,X),j.sort(k);for(var r=0;r<j.length&&!0!==j[r].drop(this,e);r++);}},this.moveBy=function(e,n,i){j.length=0;var r=this.toGrid([u[0]+e,u[1]+n]),o=a(r,w);if(A(this.el))if(r[0]!=o[0]||r[1]!=o[1]){if(!M){var s=this.el.cloneNode(!0);t.addClass(s,h.ghostProxy),this.el.parentNode.appendChild(s),w=s,M=!0}o=r}else M&&(this.el.parentNode.removeChild(w),w=this.el,M=!1);var l={x:o[0],y:o[1],w:this.size[0],h:this.size[1]},c={x:l.x+f[0],y:l.y+f[1],w:l.w,h:l.h},d=null;this.params.setPosition(w,o);for(var p=0;p<F.length;p++){var m={x:F[p].pagePosition[0],y:F[p].pagePosition[1],w:F[p].size[0],h:F[p].size[1]};this.params.intersects(c,m)&&(E||null==d||d==F[p].el)&&F[p].canDrop(this)?(d||(d=F[p].el),j.push(F[p]),F[p].setHover(this,!0,i)):F[p].isHover()&&F[p].setHover(this,!1,i)}z("drag",{el:this.el,pos:o,e:i,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?N(this.params.handle,!1):N(this.params.filter,this.params.filterExclude)},S=function(e,t,n,i){this._class=n.droppable,this.params=t||{},this.rank=t.rank||0,this._activeClass=this.params.activeClass||n.active,this._hoverClass=this.params.hoverClass||n.hover,b.apply(this,arguments);var r=!1;this.allowLoopback=!1!==this.params.allowLoopback,this.setActive=function(e){this.params[e?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(e){return!0},this.isHover=function(){return r},this.setHover=function(e,t,n){(t||null==this.el._katavorioDragHover||this.el._katavorioDragHover==e.el._katavorio)&&(this.params[t?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=t?e.el._katavorio:null,r!==t&&this.params.events[t?"over":"out"]({el:this.el,e:n,drag:e,drop:this}),r=t)},this.drop=function(e,t){return this.params.events.drop({drag:e,e:t,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,r=null}},C=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},k=function(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:0},E=function(e){return null==e?null:null==(e="string"==typeof e||e.constructor==String?document.getElementById(e):e)?null:(e._katavorio=e._katavorio||C(),e)};this.Katavorio=function(t){var r=[],o={};this._dragsByScope={},this._dropsByScope={};var s=1,a=function(e,t){v(e,function(e){for(var n=0;n<e.scopes.length;n++)t[e.scopes[n]]=t[e.scopes[n]]||[],t[e.scopes[n]].push(e)})},l=function(e,n){var i=0;return v(e,function(e){for(var r=0;r<e.scopes.length;r++)if(n[e.scopes[r]]){var o=t.indexOf(n[e.scopes[r]],e);-1!=o&&(n[e.scopes[r]].splice(o,1),i++)}}),i>0},c=(this.getMatchingDroppables=function(e){for(var t=[],n={},i=0;i<e.scopes.length;i++){var r=this._dropsByScope[e.scopes[i]];if(r)for(var o=0;o<r.length;o++)!r[o].canDrop(e)||n[r[o].uuid]||!r[o].allowLoopback&&r[o].el===e.el||(n[r[o].uuid]=!0,t.push(r[o]))}return t.sort(k),t},function(e){e=e||{};var n,i={events:{}};for(n in t)i[n]=t[n];for(n in e)i[n]=e[n];for(n=0;n<d.length;n++)i.events[d[n]]=e[d[n]]||f;return i.katavorio=this,i}.bind(this)),u=function(e,t){for(var n=0;n<d.length;n++)t[d[n]]&&e.on(d[n],t[d[n]])}.bind(this),p={},g=t.css||{},y=t.scope||"katavorio-drag-scope";for(var b in h)p[b]=h[b];for(var b in g)p[b]=g[b];var _=t.inputFilterSelector||"input,textarea,select,button,option";this.getInputFilterSelector=function(){return _},this.setInputFilterSelector=function(e){return _=e,this},this.draggable=function(e,n){var i=[];return v(e,function(e){if(null!=(e=E(e)))if(null==e._katavorioDrag){var r=c(n);e._katavorioDrag=new w(e,r,p,y),a(e._katavorioDrag,this._dragsByScope),i.push(e._katavorioDrag),t.addClass(e,p.draggable)}else u(e._katavorioDrag,n)}.bind(this)),i},this.droppable=function(e,n){var i=[];return v(e,function(e){if(null!=(e=E(e))){var r=new S(e,c(n),p,y);e._katavorioDrop=e._katavorioDrop||[],e._katavorioDrop.push(r),a(r,this._dropsByScope),i.push(r),t.addClass(e,p.droppable)}}.bind(this)),i},this.select=function(e){return v(e,function(){var e=E(this);e&&e._katavorioDrag&&(o[e._katavorio]||(r.push(e._katavorioDrag),o[e._katavorio]=[e,r.length-1],t.addClass(e,p.selected)))}),this},this.deselect=function(e){return v(e,function(){var e=E(this);if(e&&e._katavorio&&o[e._katavorio]){for(var n=[],i=0;i<r.length;i++)r[i].el!==e&&n.push(r[i]);r=n,delete o[e._katavorio],t.removeClass(e,p.selected)}}),this},this.deselectAll=function(){for(var e in o){var n=o[e];t.removeClass(n[0],p.selected)}r.length=0,o={}},this.markSelection=function(e){m(r,function(e){e.mark()},e)},this.markPosses=function(e){e.posses&&v(e.posses,function(t){e.posseRoles[t]&&A[t]&&m(A[t].members,function(e){e.mark()},e)})},this.unmarkSelection=function(e,t){m(r,function(e){e.unmark(t)},e)},this.unmarkPosses=function(e,t){e.posses&&v(e.posses,function(n){e.posseRoles[n]&&A[n]&&m(A[n].members,function(e){e.unmark(t,!0)},e)})},this.getSelection=function(){return r.slice(0)},this.updateSelection=function(e,t,n){m(r,function(n){n.moveBy(e,t)},n)};var x=function(e,t){t.posses&&v(t.posses,function(n){t.posseRoles[n]&&A[n]&&m(A[n].members,function(t){e(t)},t)})};this.updatePosses=function(e,t,n){x(function(n){n.moveBy(e,t)},n)},this.notifyPosseDragStop=function(e,t){x(function(e){e.stop(t,!0)},e)},this.notifySelectionDragStop=function(e,t){m(r,function(e){e.stop(t,!0)},e)},this.notifySelectionDragStart=function(e,t){m(r,function(e){e.notifyStart(t)},e)},this.setZoom=function(e){s=e},this.getZoom=function(){return s};var C=function(e,t,n,i){v(e,function(e){l(e,n),e[i](t),a(e,n)})};v(["set","add","remove","toggle"],function(e){this[e+"Scope"]=function(t,n){C(t._katavorioDrag,n,this._dragsByScope,e+"Scope"),C(t._katavorioDrop,n,this._dropsByScope,e+"Scope")}.bind(this),this[e+"DragScope"]=function(t,n){C(t.constructor===w?t:t._katavorioDrag,n,this._dragsByScope,e+"Scope")}.bind(this),this[e+"DropScope"]=function(t,n){C(t.constructor===S?t:t._katavorioDrop,n,this._dropsByScope,e+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(e,t){for(var n in this._dragsByScope)m(this._dragsByScope[n],function(n){n.snap(e,t)})},this.getDragsForScope=function(e){return this._dragsByScope[e]},this.getDropsForScope=function(e){return this._dropsByScope[e]};var M=function(e,t,n){if((e=E(e))[t]){var i=r.indexOf(e[t]);i>=0&&r.splice(i,1),l(e[t],n)&&v(e[t],function(e){e.destroy()}),delete e[t]}};this.elementRemoved=function(e){this.destroyDraggable(e),this.destroyDroppable(e)},this.destroyDraggable=function(e){M(e,"_katavorioDrag",this._dragsByScope)},this.destroyDroppable=function(e){M(e,"_katavorioDrop",this._dropsByScope)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},r=[],o={},A={}};var A={},T=function(t,n,r){var o,s=i(n)?n:n.id,a=!!i(n)||!1!==n.active,l=A[s]||(o={name:s,members:[]},A[s]=o,o);return v(t,function(t){if(t._katavorioDrag){if(r&&null!=t._katavorioDrag.posseRoles[l.name])return;e(l.members,t._katavorioDrag),e(t._katavorioDrag.posses,l.name),t._katavorioDrag.posseRoles[l.name]=a}}),l};this.addToPosse=function(e,t){for(var n=[],i=1;i<arguments.length;i++)n.push(T(e,arguments[i]));return 1==n.length?n[0]:n},this.setPosse=function(e,t){for(var n=[],i=1;i<arguments.length;i++)n.push(T(e,arguments[i],!0).name);return v(e,function(e){if(e._katavorioDrag){var t=function(e,t){for(var n=[],i=0;i<e.length;i++)-1==t.indexOf(e[i])&&n.push(e[i]);return n}(e._katavorioDrag.posses,n);Array.prototype.push.apply([],e._katavorioDrag.posses);for(var i=0;i<t.length;i++)this.removeFromPosse(e,t[i])}}.bind(this)),1==n.length?n[0]:n},this.removeFromPosse=function(e,t){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var i=1;i<arguments.length;i++)t=arguments[i],v(e,function(e){if(e._katavorioDrag&&e._katavorioDrag.posses){var i=e._katavorioDrag;v(t,function(e){n(A[e].members,i),n(i.posses,e),delete i.posseRoles[e]})}})},this.removeFromAllPosses=function(e){v(e,function(e){if(e._katavorioDrag&&e._katavorioDrag.posses){var t=e._katavorioDrag;v(t.posses,function(e){n(A[e].members,t)}),t.posses.length=0,t.posseRoles={}}})},this.setPosseState=function(e,t,n){var i=A[t];i&&v(e,function(e){e._katavorioDrag&&e._katavorioDrag.posses&&(e._katavorioDrag.posseRoles[i.name]=n)})}},this.Katavorio.version="0.19.3",t.Katavorio=this.Katavorio}.call("undefined"!=typeof window?window:this),function(){var e=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(e){return"string"==typeof e},i=function(e){return"boolean"==typeof e},r=function(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)},o=function(e){return"[object Date]"===Object.prototype.toString.call(e)},s=function(e){return"[object Function]"===Object.prototype.toString.call(e)},a=this;a.jsPlumbUtil={isArray:e,isString:n,isBoolean:i,isNull:function(e){return null==e},isObject:r,isDate:o,isFunction:s,isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)},clone:function(t){if(n(t))return""+t;if(i(t))return!!t;if(o(t))return new Date(t.getTime());if(s(t))return t;if(e(t)){for(var a=[],l=0;l<t.length;l++)a.push(this.clone(t[l]));return a}if(r(t)){var c={};for(var u in t)c[u]=this.clone(t[u]);return c}return t},merge:function(t,o,s){var a,l,c={};for(s=s||[],l=0;l<s.length;l++)c[s[l]]=!0;var u=this.clone(t);for(l in o)if(null==u[l])u[l]=o[l];else if(n(o[l])||i(o[l]))c[l]?((a=[]).push.apply(a,e(u[l])?u[l]:[u[l]]),a.push.apply(a,e(o[l])?o[l]:[o[l]]),u[l]=a):u[l]=o[l];else if(e(o[l]))a=[],e(u[l])&&a.push.apply(a,u[l]),a.push.apply(a,o[l]),u[l]=a;else if(r(o[l]))for(var h in r(u[l])||(u[l]={}),o[l])u[l][h]=o[l][h];return u},replace:function(e,t,n){if(null!=e){var i=e;return t.replace(/([^\.])+/g,function(e,t,r,o){var s=e.match(/([^\[0-9]+){1}(\[)([0-9+])/),a=function(){return i[s[1]]||(i[s[1]]=[],i[s[1]])};if(r+e.length>=o.length)s?a()[s[3]]=n:i[e]=n;else if(s){var l=a();i=l[s[3]]||(l[s[3]]={},l[s[3]])}else i=i[e]||(i[e]={},i[e])}),e}},functionChain:function(e,t,n){for(var i=0;i<n.length;i++){var r=n[i][0][n[i][1]].apply(n[i][0],n[i][2]);if(r===t)return r}return e},populate:function(t,i,o){var a=function(t){if(null!=t){if(n(t))return function(e){var t=e.match(/(\${.*?})/g);if(null!=t)for(var n=0;n<t.length;n++){var r=i[t[n].substring(2,t[n].length-1)]||"";null!=r&&(e=e.replace(t[n],r))}return e}(t);if(!s(t)||null!=o&&0!==(t.name||"").indexOf(o)){if(e(t)){for(var l=[],c=0;c<t.length;c++)l.push(a(t[c]));return l}if(r(t)){var u={};for(var h in t)u[h]=a(t[h]);return u}return t}return t(i)}};return a(t)},findWithFunction:function(e,t){if(e)for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},removeWithFunction:function(e,t){var n=a.jsPlumbUtil.findWithFunction(e,t);return n>-1&&e.splice(n,1),-1!==n},remove:function(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),-1!==n},addWithFunction:function(e,t,n){-1===a.jsPlumbUtil.findWithFunction(e,n)&&e.push(t)},addToList:function(e,t,n,i){var r=e[t];return null==r&&(r=[],e[t]=r),r[i?"unshift":"push"](n),r},suggest:function(e,t,n){return-1===e.indexOf(t)&&(n?e.unshift(t):e.push(t),!0)},extend:function(t,n,i){var r;for(n=e(n)?n:[n],r=0;r<n.length;r++)for(var o in n[r].prototype)n[r].prototype.hasOwnProperty(o)&&(t.prototype[o]=n[r].prototype[o]);var s=function(e,t){return function(){for(r=0;r<n.length;r++)n[r].prototype[e]&&n[r].prototype[e].apply(this,arguments);return t.apply(this,arguments)}},a=function(e){for(var n in e)t.prototype[n]=s(n,e[n])};if(arguments.length>2)for(r=2;r<arguments.length;r++)a(arguments[r]);return t},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},logEnabled:!0,log:function(){if(a.jsPlumbUtil.logEnabled&&"undefined"!=typeof console)try{arguments[arguments.length-1]}catch(e){}},wrap:function(e,t,n){return function(){var i=null;try{null!=t&&(i=t.apply(this,arguments))}catch(e){a.jsPlumbUtil.log("jsPlumb function failed : "+e)}if(null!=e&&(null==n||i!==n))try{i=e.apply(this,arguments)}catch(e){a.jsPlumbUtil.log("wrapped function failed : "+e)}return i}}},a.jsPlumbUtil.EventGenerator=function(){var e={},t=!1,n=!1,i={ready:!0},r=[];this.bind=function(t,n,i){var r=function(t){a.jsPlumbUtil.addToList(e,t,n,i),n.__jsPlumb=n.__jsPlumb||{},n.__jsPlumb[a.jsPlumbUtil.uuid()]=t};if("string"==typeof t)r(t);else if(null!=t.length)for(var o=0;o<t.length;o++)r(t[o]);return this},this.fire=function(s,l,c){if(n)r.unshift(arguments);else{if(n=!0,!t&&e[s]){var u=e[s].length,h=0,d=!1,f=null;if(!this.shouldFireEvent||this.shouldFireEvent(s,l,c))for(;!d&&h<u&&!1!==f;){if(i[s])e[s][h].apply(this,[l,c]);else try{f=e[s][h].apply(this,[l,c])}catch(e){a.jsPlumbUtil.log("jsPlumb: fire failed for event "+s+" : "+e)}h++,null!=e&&null!=e[s]||(d=!0)}}n=!1,o()}return this};var o=function(){var e=r.pop();e&&this.fire.apply(this,e)}.bind(this);this.unbind=function(t,n){if(0===arguments.length)e={};else if(1===arguments.length){if("string"==typeof t)delete e[t];else if(t.__jsPlumb){var i;for(var r in t.__jsPlumb)i=t.__jsPlumb[r],a.jsPlumbUtil.remove(e[i]||[],t)}}else 2===arguments.length&&a.jsPlumbUtil.remove(e[t]||[],n);return this},this.getListener=function(t){return e[t]},this.setSuspendEvents=function(e){t=e},this.isSuspendEvents=function(){return t},this.silently=function(e){this.setSuspendEvents(!0);try{e()}catch(e){a.jsPlumbUtil.log("Cannot execute silent function "+e)}this.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var t in e)e[t]=null}},a.jsPlumbUtil.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}},t.jsPlumbUtil=a.jsPlumbUtil}.call("undefined"!=typeof window?window:this),function(){"use strict";this.jsPlumbUtil.matchesSelector=function(e,t,n){for(var i=(n=n||e.parentNode).querySelectorAll(t),r=0;r<i.length;r++)if(i[r]===e)return!0;return!1},this.jsPlumbUtil.consume=function(e,t){e.stopPropagation?e.stopPropagation():e.returnValue=!1,!t&&e.preventDefault&&e.preventDefault()},this.jsPlumbUtil.sizeElement=function(e,t,n,i,r){e&&(e.style.height=r+"px",e.height=r,e.style.width=i+"px",e.width=i,e.style.left=t+"px",e.style.top=n+"px")}}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this,n=e.jsPlumbUtil,i=function(){return""+(new Date).getTime()},r=function(e){if(e._jsPlumb.paintStyle&&e._jsPlumb.hoverPaintStyle){var t={};p.extend(t,e._jsPlumb.paintStyle),p.extend(t,e._jsPlumb.hoverPaintStyle),delete e._jsPlumb.hoverPaintStyle,t.gradient&&e._jsPlumb.paintStyle.fill&&delete t.gradient,e._jsPlumb.hoverPaintStyle=t}},o=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],s=function(e){return null==e?null:e.split(" ")},a=function(e,t,n){for(var i in t)e[i]=n},l=function(e,t){t=n.isArray(t)||null!=t.length&&!n.isString(t)?t:[t];for(var i=0;i<t.length;i++)try{e.apply(t[i],[t[i]])}catch(e){n.log(".each iteration failed : "+e)}},c=function(e,t,i){if(e.getDefaultType){var r=e.getTypeDescriptor(),o={},s=e.getDefaultType(),l=n.merge({},s);a(o,s,"__default");for(var c=0,u=e._jsPlumb.types.length;c<u;c++){var h=e._jsPlumb.types[c];if("__default"!==h){var d=e._jsPlumb.instance.getType(h,r);null!=d&&(l=n.merge(l,d,["cssClass"]),a(o,d,h))}}t&&(l=n.populate(l,t,"_")),e.applyType(l,i,o),i||e.repaint()}},u=e.jsPlumbUIComponent=function(e){n.EventGenerator.apply(this,arguments);var t=arguments,i=this.idPrefix+(new Date).getTime();this._jsPlumb={instance:e._jsPlumb,parameters:e.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:e.beforeDetach,beforeDrop:e.beforeDrop,overlayPlacements:[],hoverClass:e.hoverClass||e._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(e,t,n){this._jsPlumb.typeCache[n]=this._jsPlumb.typeCache[n]||{},this._jsPlumb.typeCache[n][e]=t},this.getCachedTypeItem=function(e,t){return this._jsPlumb.typeCache[t]?this._jsPlumb.typeCache[t][e]:null},this.getId=function(){return i};var r=e.overlays||[],o={};if(this.defaultOverlayKeys){for(var s=0;s<this.defaultOverlayKeys.length;s++)Array.prototype.push.apply(r,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[s]]||[]);for(s=0;s<r.length;s++){var a=p.convertToFullOverlaySpec(r[s]);o[a[1].id]=a}}var l={overlays:o,parameters:e.parameters||{},scope:e.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return l},this.appendToDefaultType=function(e){for(var t in e)l[t]=e[t]},e.events)for(var c in e.events)this.bind(c,e.events[c]);this.clone=function(){var e=Object.create(this.constructor.prototype);return this.constructor.apply(e,t),e}.bind(this),this.isDetachAllowed=function(e){var t=!0;if(this._jsPlumb.beforeDetach)try{t=this._jsPlumb.beforeDetach(e)}catch(e){n.log("jsPlumb: beforeDetach callback failed",e)}return t},this.isDropAllowed=function(e,t,i,r,o,s,a){var l=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:e,targetId:t,scope:i,connection:r,dropEndpoint:o,source:s,target:a});if(this._jsPlumb.beforeDrop)try{l=this._jsPlumb.beforeDrop({sourceId:e,targetId:t,scope:i,connection:r,dropEndpoint:o,source:s,target:a})}catch(e){n.log("jsPlumb: beforeDrop callback failed",e)}return l};var u=[];this.setListenerComponent=function(e){for(var t=0;t<u.length;t++)u[t][3]=e}},h=function(e,t){var n=e._jsPlumb.types[t],i=e._jsPlumb.instance.getType(n,e.getTypeDescriptor());null!=i&&i.cssClass&&e.canvas&&e._jsPlumb.instance.removeClass(e.canvas,i.cssClass)};n.extend(e.jsPlumbUIComponent,n.EventGenerator,{getParameter:function(e){return this._jsPlumb.parameters[e]},setParameter:function(e,t){this._jsPlumb.parameters[e]=t},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(e){this._jsPlumb.parameters=e},getClass:function(){return p.getClass(this.canvas)},hasClass:function(e){return p.hasClass(this.canvas,e)},addClass:function(e){p.addClass(this.canvas,e)},removeClass:function(e){p.removeClass(this.canvas,e)},updateClasses:function(e,t){p.updateClasses(this.canvas,e,t)},setType:function(e,t,n){this.clearTypes(),this._jsPlumb.types=s(e)||[],c(this,t,n)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(e,t){c(this,e,t)},hasType:function(e){return-1!==this._jsPlumb.types.indexOf(e)},addType:function(e,t,n){var i=s(e),r=!1;if(null!=i){for(var o=0,a=i.length;o<a;o++)this.hasType(i[o])||(this._jsPlumb.types.push(i[o]),r=!0);r&&c(this,t,n)}},removeType:function(e,t,n){var i=s(e),r=!1,o=function(e){var t=this._jsPlumb.types.indexOf(e);return-1!==t&&(h(this,t),this._jsPlumb.types.splice(t,1),!0)}.bind(this);if(null!=i){for(var a=0,l=i.length;a<l;a++)r=o(i[a])||r;r&&c(this,t,n)}},clearTypes:function(e,t){for(var n=this._jsPlumb.types.length,i=0;i<n;i++)h(this,0),this._jsPlumb.types.splice(0,1);c(this,e,t)},toggleType:function(e,t,n){var i=s(e);if(null!=i){for(var r=0,o=i.length;r<o;r++){var a=this._jsPlumb.types.indexOf(i[r]);-1!==a?(h(this,a),this._jsPlumb.types.splice(a,1)):this._jsPlumb.types.push(i[r])}c(this,t,n)}},applyType:function(e,t){if(this.setPaintStyle(e.paintStyle,t),this.setHoverPaintStyle(e.hoverPaintStyle,t),e.parameters)for(var n in e.parameters)this.setParameter(n,e.parameters[n]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(e,t){this._jsPlumb.paintStyle=e,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,r(this),t||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(e,t){this._jsPlumb.hoverPaintStyle=e,r(this),t||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(e){(e||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(e,t,n){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){this._jsPlumb.hover=e;var r=e?"addClass":"removeClass";null!=this.canvas&&(null!=this._jsPlumb.instance.hoverClass&&this._jsPlumb.instance[r](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[r](this.canvas,this._jsPlumb.hoverClass)),null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=e?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(n=n||i(),this.repaint({timestamp:n,recalc:!1}))),this.getAttachedElements&&!t&&function(e,t,n,i){var r=e.getAttachedElements();if(r)for(var o=0,s=r.length;o<s;o++)i&&i===r[o]||r[o].setHover(t,!0,n)}(this,e,i(),this)}}});var d=0,f=e.jsPlumbInstance=function(t){this.version="2.6.2",t&&p.extend(this.Defaults,t),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},n.EventGenerator.apply(this);var r=this,s=function(){var e=d+1;return d++,e}(),a=r.bind,c={},h=1,f=function(e){if(null==e)return null;if(3===e.nodeType||8===e.nodeType)return{el:e,text:!0};var t=r.getElement(e);return{el:t,id:n.isString(e)&&null==t?e:U(t)}};for(var m in this.getInstanceIndex=function(){return s},this.setZoom=function(e,t){return h=e,r.fire("zoom",h),t&&r.repaintEverything(),!0},this.getZoom=function(){return h},this.Defaults)c[m]=this.Defaults[m];var g,v=[];this.unbindContainer=function(){if(null!=g&&v.length>0)for(var e=0;e<v.length;e++)r.off(g,v[e][0],v[e][1])},this.setContainer=function(e){this.unbindContainer(),e=this.getElement(e),this.select().each(function(t){t.moveParent(e)}),this.selectEndpoints().each(function(t){t.moveParent(e)});var t=g;g=e,v.length=0;for(var n={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},i=function(e,t,i){var o=t.srcElement||t.target,s=(o&&o.parentNode?o.parentNode._jsPlumb:null)||(o?o._jsPlumb:null)||(o&&o.parentNode&&o.parentNode.parentNode?o.parentNode.parentNode._jsPlumb:null);if(s){s.fire(e,s,t);var a=i&&n[i+e]||e;r.fire(a,s.component||s,t)}},s=function(e,t,n){v.push([e,n]),r.on(g,e,t,n)},a=function(e){s(e,".jtk-connector",function(t){i(e,t)}),s(e,".jtk-endpoint",function(t){i(e,t,"endpoint")}),s(e,".jtk-overlay",function(t){i(e,t)})},l=0;l<o.length;l++)a(o[l]);for(var c in S){var u=S[c].el;u.parentNode===t&&(t.removeChild(u),g.appendChild(u))}},this.getContainer=function(){return g},this.bind=function(e,t){"ready"===e&&b?t():a.apply(r,[e,t])},r.importDefaults=function(e){for(var t in e)r.Defaults[t]=e[t];return e.Container&&r.setContainer(e.Container),r},r.restoreDefaults=function(){return r.Defaults=p.extend({},c),r};var y=null,b=!1,_=[],x={},w={},S={},C={},k={},E={},M=!1,A=[],T=!1,L=null,D=this.Defaults.Scope,I=1,P=function(){return""+I++},R=function(e,t){g?g.appendChild(e):t?this.getElement(t).appendChild(e):this.appendToRoot(e)}.bind(this),N=function(e,t,n,o){if(!T){var s,a=U(e),l=r.getDragManager();l&&(s=l.getElementsForDraggable(a)),null==n&&(n=i());var c=re({elId:a,offset:t,recalc:!1,timestamp:n});if(s&&c&&c.o)for(var u in s)re({elId:s[u].id,offset:{left:c.o.left+s[u].offset.left,top:c.o.top+s[u].offset.top},recalc:!1,timestamp:n});if(r.anchorManager.redraw(a,t,n,null,o),s)for(var h in s)r.anchorManager.redraw(s[h].id,t,n,s[h].offset,o,!0)}},O=function(e){return w[e]},F=function(e,t){var i=p.extend({},e);if(t&&p.extend(i,t),i.source&&(i.source.endpoint?i.sourceEndpoint=i.source:i.source=r.getElement(i.source)),i.target&&(i.target.endpoint?i.targetEndpoint=i.target:i.target=r.getElement(i.target)),e.uuids&&(i.sourceEndpoint=O(e.uuids[0]),i.targetEndpoint=O(e.uuids[1])),i.sourceEndpoint&&i.sourceEndpoint.isFull())n.log(r,"could not add connection; source endpoint is full");else if(i.targetEndpoint&&i.targetEndpoint.isFull())n.log(r,"could not add connection; target endpoint is full");else{if(!i.type&&i.sourceEndpoint&&(i.type=i.sourceEndpoint.connectionType),i.sourceEndpoint&&i.sourceEndpoint.connectorOverlays){i.overlays=i.overlays||[];for(var o=0,s=i.sourceEndpoint.connectorOverlays.length;o<s;o++)i.overlays.push(i.sourceEndpoint.connectorOverlays[o])}i.sourceEndpoint&&i.sourceEndpoint.scope&&(i.scope=i.sourceEndpoint.scope),!i["pointer-events"]&&i.sourceEndpoint&&i.sourceEndpoint.connectorPointerEvents&&(i["pointer-events"]=i.sourceEndpoint.connectorPointerEvents);var a=function(e,t,n){return r.addEndpoint(e,function(e,t){var n=p.extend({},e);for(var i in t)t[i]&&(n[i]=t[i]);return n}(t,{anchor:i.anchors?i.anchors[n]:i.anchor,endpoint:i.endpoints?i.endpoints[n]:i.endpoint,paintStyle:i.endpointStyles?i.endpointStyles[n]:i.endpointStyle,hoverPaintStyle:i.endpointHoverStyles?i.endpointHoverStyles[n]:i.endpointHoverStyle}))},l=function(e,t,n,r){if(i[e]&&!i[e].endpoint&&!i[e+"Endpoint"]&&!i.newConnection){var o=n[U(i[e])];if(o=o?o[r]:null){if(!o.enabled)return!1;var s=null!=o.endpoint&&o.endpoint._jsPlumb?o.endpoint:a(i[e],o.def,t);if(s.isFull())return!1;i[e+"Endpoint"]=s,!i.scope&&o.def.scope&&(i.scope=o.def.scope),o.uniqueEndpoint?o.endpoint?s.finalEndpoint=o.endpoint:(o.endpoint=s,s.setDeleteOnEmpty(!1)):s.setDeleteOnEmpty(!0)}}};if(!1!==l("source",0,this.sourceEndpointDefinitions,i.type||"default")&&!1!==l("target",1,this.targetEndpointDefinitions,i.type||"default"))return i.sourceEndpoint&&i.targetEndpoint&&(function(e,t){for(var n=e.scope.split(/\s/),i=t.scope.split(/\s/),r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(i[o]===n[r])return!0;return!1}(i.sourceEndpoint,i.targetEndpoint)||(i=null)),i}}.bind(r),j=function(e){var t=r.Defaults.ConnectionType||r.getDefaultConnectionType();e._jsPlumb=r,e.newConnection=j,e.newEndpoint=X,e.endpointsByUUID=w,e.endpointsByElement=x,e.finaliseConnection=B,e.id="con_"+P();var n=new t(e);return n.isDetachable()&&(n.endpoints[0].initDraggable("_jsPlumbSource"),n.endpoints[1].initDraggable("_jsPlumbTarget")),n},B=r.finaliseConnection=function(e,t,n,i){if(t=t||{},e.suspendedEndpoint||_.push(e),e.pending=null,e.endpoints[0].isTemporarySource=!1,!1!==i&&r.anchorManager.newConnection(e),N(e.source),!t.doNotFireConnectionEvent&&!1!==t.fireEvent){var o={connection:e,source:e.source,target:e.target,sourceId:e.sourceId,targetId:e.targetId,sourceEndpoint:e.endpoints[0],targetEndpoint:e.endpoints[1]};r.fire("connection",o,n)}},X=function(e,t){var n=r.Defaults.EndpointType||p.Endpoint,i=p.extend({},e);i._jsPlumb=r,i.newConnection=j,i.newEndpoint=X,i.endpointsByUUID=w,i.endpointsByElement=x,i.fireDetachEvent=G,i.elementId=t||U(i.source);var o=new n(i);return o.id="ep_"+P(),ie(i.elementId,i.source),p.headless||r.getDragManager().endpointAdded(i.source,t),o},z=function(e,t,n){var i=x[e];if(i&&i.length)for(var r=0,o=i.length;r<o;r++){for(var s=0,a=i[r].connections.length;s<a;s++)if(t(i[r].connections[s]))return;n&&n(i[r])}},H=function(e,t,n){t="block"===t;var i=null;n&&(i=function(e){e.setVisible(t,!0,!0)});var r=f(e);z(r.id,function(e){if(t&&n){var i=e.sourceId===r.id?1:0;e.endpoints[i].isVisible()&&e.setVisible(!0)}else e.setVisible(t)},i)},U=function(e,t,i){if(n.isString(e))return e;if(null==e)return null;var o=r.getAttribute(e,"id");return o&&"undefined"!==o||(2===arguments.length&&void 0!==arguments[1]?o=t:(1===arguments.length||3===arguments.length&&!arguments[2])&&(o="jsPlumb_"+s+"_"+P()),i||r.setAttribute(e,"id",o)),o};this.setConnectionBeingDragged=function(e){M=e},this.isConnectionBeingDragged=function(){return M},this.getManagedElements=function(){return S},this.connectorClass="jtk-connector",this.connectorOutlineClass="jtk-connector-outline",this.editableConnectorClass="jtk-connector-editable",this.connectedClass="jtk-connected",this.hoverClass="jtk-hover",this.endpointClass="jtk-endpoint",this.endpointConnectedClass="jtk-endpoint-connected",this.endpointFullClass="jtk-endpoint-full",this.endpointDropAllowedClass="jtk-endpoint-drop-allowed",this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden",this.overlayClass="jtk-overlay",this.draggingClass="jtk-dragging",this.elementDraggingClass="jtk-element-dragging",this.sourceElementDraggingClass="jtk-source-element-dragging",this.targetElementDraggingClass="jtk-target-element-dragging",this.endpointAnchorClassPrefix="jtk-endpoint-anchor",this.hoverSourceClass="jtk-source-hover",this.hoverTargetClass="jtk-target-hover",this.dragSelectClass="jtk-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(e,t,i){i=i||{};var o=p.extend({},i);p.extend(o,t),o.endpoint=o.endpoint||r.Defaults.Endpoint,o.paintStyle=o.paintStyle||r.Defaults.EndpointStyle;for(var s=[],a=n.isArray(e)||null!=e.length&&!n.isString(e)?e:[e],l=0,c=a.length;l<c;l++){o.source=r.getElement(a[l]),ne(o.source);var u=U(o.source),h=X(o,u),d=ie(u,o.source).info.o;n.addToList(x,u,h),T||h.paint({anchorLoc:h.anchor.compute({xy:[d.left,d.top],wh:A[u],element:h,timestamp:L}),timestamp:L}),s.push(h)}return 1===s.length?s[0]:s},this.addEndpoints=function(e,t,i){for(var o=[],s=0,a=t.length;s<a;s++){var l=r.addEndpoint(e,t[s],i);n.isArray(l)?Array.prototype.push.apply(o,l):o.push(l)}return o},this.animate=function(e,t,i){if(!this.animationSupported)return!1;i=i||{};var o=r.getElement(e),s=U(o),a=p.animEvents.step,l=p.animEvents.complete;i[a]=n.wrap(i[a],function(){r.revalidate(s)}),i[l]=n.wrap(i[l],function(){r.revalidate(s)}),r.doAnimate(o,t,i)},this.checkCondition=function(e,t){var i=r.getListener(e),o=!0;if(i&&i.length>0){var s=Array.prototype.slice.call(arguments,1);try{for(var a=0,l=i.length;a<l;a++)o=o&&i[a].apply(i[a],s)}catch(t){n.log(r,"cannot check condition ["+e+"]"+t)}}return o},this.connect=function(e,t){var i,r=F(e,t);if(r){if(null==r.source&&null==r.sourceEndpoint)return void n.log("Cannot establish connection - source does not exist");if(null==r.target&&null==r.targetEndpoint)return void n.log("Cannot establish connection - target does not exist");ne(r.source),i=j(r),B(i,r)}return i};var K=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],W=function(e,t,n,i){var r,o,s,a=K[n],l=e[a.elId],c=(e[a.el],e.endpoints[n]),u={index:n,originalSourceId:0===n?l:e.sourceId,newSourceId:e.sourceId,originalTargetId:1===n?l:e.targetId,newTargetId:e.targetId,connection:e};if(t.constructor===p.Endpoint)(r=t).addConnection(e),t=r.element;else if(o=U(t),s=this[a.epDefs][o],o===e[a.elId])r=null;else if(s)for(var h in s){if(!s[h].enabled)return;r=null!=s[h].endpoint&&s[h].endpoint._jsPlumb?s[h].endpoint:this.addEndpoint(t,s[h].def),s[h].uniqueEndpoint&&(s[h].endpoint=r),r.addConnection(e)}else r=e.makeEndpoint(0===n,t,o);return null!=r&&(c.detachFromConnection(e),e.endpoints[n]=r,e[a.el]=r.element,e[a.elId]=r.elementId,u[0===n?"newSourceId":"newTargetId"]=r.elementId,Y(u),i||e.repaint()),u.element=t,u}.bind(this);this.setSource=function(e,t,n){var i=W(e,t,0,n);this.anchorManager.sourceChanged(i.originalSourceId,i.newSourceId,e,i.el)},this.setTarget=function(e,t,n){var i=W(e,t,1,n);this.anchorManager.updateOtherEndpoint(i.originalSourceId,i.originalTargetId,i.newTargetId,e)},this.deleteEndpoint=function(e,t,n){var i="string"==typeof e?w[e]:e;return i&&r.deleteObject({endpoint:i,dontUpdateHover:t,deleteAttachedObjects:n}),r},this.deleteEveryEndpoint=function(){var e=r.setSuspendDrawing(!0);for(var t in x){var n=x[t];if(n&&n.length)for(var i=0,o=n.length;i<o;i++)r.deleteEndpoint(n[i],!0)}x={},S={},w={},C={},k={},r.anchorManager.reset();var s=r.getDragManager();return s&&s.reset(),e||r.setSuspendDrawing(!1),r};var G=function(e,t,n){var i=r.Defaults.ConnectionType||r.getDefaultConnectionType(),o=e.constructor===i?{connection:e,source:e.source,target:e.target,sourceId:e.sourceId,targetId:e.targetId,sourceEndpoint:e.endpoints[0],targetEndpoint:e.endpoints[1]}:e;t&&r.fire("connectionDetached",o,n),r.fire("internal.connectionDetached",o,n),r.anchorManager.connectionDetached(o)},Y=r.fireMoveEvent=function(e,t){r.fire("connectionMoved",e,t)};this.unregisterEndpoint=function(e){for(var t in e._jsPlumb.uuid&&(w[e._jsPlumb.uuid]=null),r.anchorManager.deleteEndpoint(e),x){var n=x[t];if(n){for(var i=[],o=0,s=n.length;o<s;o++)n[o]!==e&&i.push(n[o]);x[t]=i}x[t].length<1&&delete x[t]}},this.deleteConnection=function(e,t){return!(null==e||!(t=t||{}).force&&!n.functionChain(!0,!1,[[e.endpoints[0],"isDetachAllowed",[e]],[e.endpoints[1],"isDetachAllowed",[e]],[e,"isDetachAllowed",[e]],[r,"checkCondition",["beforeDetach",e]]])||(e.setHover(!1),G(e,!e.pending&&!1!==t.fireEvent,t.originalEvent),e.endpoints[0].detachFromConnection(e),e.endpoints[1].detachFromConnection(e),n.removeWithFunction(_,function(t){return e.id===t.id}),e.cleanup(),e.destroy(),0))},this.deleteEveryConnection=function(e){e=e||{};var t=_.length,n=0;return r.batch(function(){for(var i=0;i<t;i++)n+=r.deleteConnection(_[0],e)?1:0}),n},this.deleteConnectionsForElement=function(e,t){t=t||{},e=r.getElement(e);var n=U(e),i=x[n];if(i&&i.length)for(var o=0,s=i.length;o<s;o++)i[o].deleteEveryConnection(t);return r},this.deleteObject=function(e){var t={endpoints:{},connections:{},endpointCount:0,connectionCount:0},i=!1!==e.deleteAttachedObjects,o=function(n){null!=n&&null==t.connections[n.id]&&(e.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),t.connections[n.id]=n,t.connectionCount++)};for(var s in e.connection?o(e.connection):function(n){if(null!=n&&null==t.endpoints[n.id]&&(e.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),t.endpoints[n.id]=n,t.endpointCount++,i))for(var r=0;r<n.connections.length;r++){var s=n.connections[r];o(s)}}(e.endpoint),t.connections){var a=t.connections[s];if(a._jsPlumb){n.removeWithFunction(_,function(e){return a.id===e.id}),G(a,!1!==e.fireEvent&&!a.pending,e.originalEvent);var l=null==e.deleteAttachedObjects?null:!e.deleteAttachedObjects;a.endpoints[0].detachFromConnection(a,null,l),a.endpoints[1].detachFromConnection(a,null,l),a.cleanup(!0),a.destroy(!0)}}for(var c in t.endpoints){var u=t.endpoints[c];u._jsPlumb&&(r.unregisterEndpoint(u),u.cleanup(!0),u.destroy(!0))}return t},this.draggable=function(e,t){var i;return l(function(e){(i=f(e)).el&&function(e,t,i,o,s){if(!p.headless&&p.isDragSupported(e,r)){var a=i||r.Defaults.DragOptions;if(a=p.extend({},a),p.isAlreadyDraggable(e,r))i.force&&r.initDraggable(e,a);else{var l=p.dragEvents.drag,c=p.dragEvents.stop,u=p.dragEvents.start,h=!1;ie(o,e),a[u]=n.wrap(a[u],function(){if(r.setHoverSuspended(!0),r.select({source:e}).addClass(r.elementDraggingClass+" "+r.sourceElementDraggingClass,!0),r.select({target:e}).addClass(r.elementDraggingClass+" "+r.targetElementDraggingClass,!0),r.setConnectionBeingDragged(!0),a.canDrag)return i.canDrag()},!1),a[l]=n.wrap(a[l],function(){var t=r.getUIPosition(arguments,r.getZoom());null!=t&&(N(e,t,null,!0),h&&r.addClass(e,"jtk-dragged"),h=!0)}),a[c]=n.wrap(a[c],function(){for(var e,t,n=arguments[0].selection,i=0;i<n.length;i++)null!=(t=n[i])[1]&&(e=r.getUIPosition([{el:t[2].el,pos:[t[1].left,t[1].top]}]),N(t[2].el,e)),r.removeClass(t[0],"jtk-dragged"),r.select({source:t[2].el}).removeClass(r.elementDraggingClass+" "+r.sourceElementDraggingClass,!0),r.select({target:t[2].el}).removeClass(r.elementDraggingClass+" "+r.targetElementDraggingClass,!0),r.getDragManager().dragEnded(t[2].el);h=!1,r.setHoverSuspended(!1),r.setConnectionBeingDragged(!1)});var d=U(e);E[d]=!0;var f=E[d];a.disabled=null!=f&&!f,r.initDraggable(e,a),r.getDragManager().register(e),r.fire("elementDraggable",{el:e,options:a})}}}(i.el,0,t,i.id)},e),r},this.droppable=function(e,t){var n;return(t=t||{}).allowLoopback=!1,l(function(e){(n=f(e)).el&&r.initDroppable(n.el,t)},e),r};var q=function(e,t,n){return function(){return function(e,t,n,i){for(var r=0,o=e.length;r<o;r++)e[r][t].apply(e[r],n);return i(e)}(e,t,arguments,n)}},V=function(e,t){return function(){return function(e,t,n){for(var i=[],r=0,o=e.length;r<o;r++)i.push([e[r][t].apply(e[r],n),e[r]]);return i}(e,t,arguments)}},Q=function(e,t){var n=[];if(e)if("string"==typeof e){if("*"===e)return e;n.push(e)}else if(t)n=e;else if(e.length)for(var i=0,r=e.length;i<r;i++)n.push(f(e[i]).id);else n.push(f(e).id);return n},Z=function(e,t,n){return"*"===e||(e.length>0?-1!==e.indexOf(t):!n)};this.getConnections=function(e,t){e?e.constructor===String&&(e={scope:e}):e={};for(var n=e.scope||r.getDefaultScope(),i=Q(n,!0),o=Q(e.source),s=Q(e.target),a=!t&&i.length>1?{}:[],l=function(e,n){if(!t&&i.length>1){var r=a[e];null==r&&(r=a[e]=[]),r.push(n)}else a.push(n)},c=0,u=_.length;c<u;c++){var h=_[c],d=h.proxies&&h.proxies[0]?h.proxies[0].originalEp.elementId:h.sourceId,f=h.proxies&&h.proxies[1]?h.proxies[1].originalEp.elementId:h.targetId;Z(i,h.scope)&&Z(o,d)&&Z(s,f)&&l(h.scope,h)}return a};var $=function(e,t){var n,i,r={length:e.length,each:function(e,t){return function(n){for(var i=0,r=e.length;i<r;i++)n(e[i]);return t(e)}}(e,t),get:function(e){return function(t){return e[t]}}(e)},o=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],s=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(n=0,i=o.length;n<i;n++)r[o[n]]=q(e,o[n],t);for(n=0,i=s.length;n<i;n++)r[s[n]]=V(e,s[n]);return r},J=function(e){var t=$(e,J);return p.extend(t,{setDetachable:q(e,"setDetachable",J),setReattach:q(e,"setReattach",J),setConnector:q(e,"setConnector",J),delete:function(){for(var t=0,n=e.length;t<n;t++)r.deleteConnection(e[t])},isDetachable:V(e,"isDetachable"),isReattach:V(e,"isReattach")})},ee=function(e){var t=$(e,ee);return p.extend(t,{setEnabled:q(e,"setEnabled",ee),setAnchor:q(e,"setAnchor",ee),isEnabled:V(e,"isEnabled"),deleteEveryConnection:function(){for(var t=0,n=e.length;t<n;t++)e[t].deleteEveryConnection()},delete:function(){for(var t=0,n=e.length;t<n;t++)r.deleteEndpoint(e[t])}})};this.select=function(e){return(e=e||{}).scope=e.scope||"*",J(e.connections||r.getConnections(e,!0))},this.selectEndpoints=function(e){(e=e||{}).scope=e.scope||"*";var t=!e.element&&!e.source&&!e.target,n=t?"*":Q(e.element),i=t?"*":Q(e.source),r=t?"*":Q(e.target),o=Q(e.scope,!0),s=[];for(var a in x){var l=Z(n,a,!0),c=Z(i,a,!0),u="*"!==i,h=Z(r,a,!0),d="*"!==r;if(l||c||h)e:for(var f=0,p=x[a].length;f<p;f++){var m=x[a][f];if(Z(o,m.scope,!0)){var g=u&&i.length>0&&!m.isSource,v=d&&r.length>0&&!m.isTarget;if(g||v)continue e;s.push(m)}}}return ee(s)},this.getAllConnections=function(){return _},this.getDefaultScope=function(){return D},this.getEndpoint=O,this.getEndpoints=function(e){return x[f(e).id]||[]},this.getDefaultEndpointType=function(){return p.Endpoint},this.getDefaultConnectionType=function(){return p.Connection},this.getId=U,this.appendElement=R;var te=!1;this.isHoverSuspended=function(){return te},this.setHoverSuspended=function(e){te=e},this.hide=function(e,t){return H(e,"none",t),r},this.idstamp=P;var ne=function(e){if(!g&&e){var t=r.getElement(e);t.offsetParent&&r.setContainer(t.offsetParent)}},ie=r.manage=function(e,t,n){return S[e]||(S[e]={el:t,endpoints:[],connections:[]},S[e].info=re({elId:e,timestamp:L}),n||r.fire("manageElement",{id:e,info:S[e].info,el:t})),S[e]},re=this.updateOffset=function(e){var t,n=e.timestamp,i=e.recalc,o=e.offset,s=e.elId;return T&&!n&&(n=L),!i&&n&&n===k[s]?{o:e.offset||C[s],s:A[s]}:(i||!o&&null==C[s]?null!=(t=S[s]?S[s].el:null)&&(A[s]=r.getSize(t),C[s]=r.getOffset(t),k[s]=n):(C[s]=o||C[s],null==A[s]&&null!=(t=S[s].el)&&(A[s]=r.getSize(t)),k[s]=n),C[s]&&!C[s].right&&(C[s].right=C[s].left+A[s][0],C[s].bottom=C[s].top+A[s][1],C[s].width=A[s][0],C[s].height=A[s][1],C[s].centerx=C[s].left+C[s].width/2,C[s].centery=C[s].top+C[s].height/2),{o:C[s],s:A[s]})};this.init=function(){b||(r.Defaults.Container&&r.setContainer(r.Defaults.Container),r.anchorManager=new e.jsPlumb.AnchorManager({jsPlumbInstance:r}),b=!0,r.fire("ready",r))}.bind(this),this.log=y,this.jsPlumbUIComponent=u,this.makeAnchor=function(){var t,i=function(t,n){if(e.jsPlumb.Anchors[t])return new e.jsPlumb.Anchors[t](n);if(!r.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+t+"'"}};if(0===arguments.length)return null;var o=arguments[0],s=arguments[1],a=(arguments[2],null);if(o.compute&&o.getOrientation)return o;if("string"==typeof o)a=i(arguments[0],{elementId:s,jsPlumbInstance:r});else if(n.isArray(o))if(n.isArray(o[0])||n.isString(o[0]))2===o.length&&n.isObject(o[1])?n.isString(o[0])?(t=e.jsPlumb.extend({elementId:s,jsPlumbInstance:r},o[1]),a=i(o[0],t)):(t=e.jsPlumb.extend({elementId:s,jsPlumbInstance:r,anchors:o[0]},o[1]),a=new e.jsPlumb.DynamicAnchor(t)):a=new p.DynamicAnchor({anchors:o,selector:null,elementId:s,jsPlumbInstance:r});else{var l={x:o[0],y:o[1],orientation:o.length>=4?[o[2],o[3]]:[0,0],offsets:o.length>=6?[o[4],o[5]]:[0,0],elementId:s,jsPlumbInstance:r,cssClass:7===o.length?o[6]:null};(a=new e.jsPlumb.Anchor(l)).clone=function(){return new e.jsPlumb.Anchor(l)}}return a.id||(a.id="anchor_"+P()),a},this.makeAnchors=function(t,i,o){for(var s=[],a=0,l=t.length;a<l;a++)"string"==typeof t[a]?s.push(e.jsPlumb.Anchors[t[a]]({elementId:i,jsPlumbInstance:o})):n.isArray(t[a])&&s.push(r.makeAnchor(t[a],i,o));return s},this.makeDynamicAnchor=function(t,n){return new e.jsPlumb.DynamicAnchor({anchors:t,selector:n,elementId:null,jsPlumbInstance:r})},this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={};var oe=function(t,i,o,s,a){var l=new u(i),c=i._jsPlumb.EndpointDropHandler({jsPlumb:r,enabled:function(){return t.def.enabled},isFull:function(){var e=r.select({target:t.id}).length;return t.def.maxConnections>0&&e>=t.def.maxConnections},element:t.el,elementId:t.id,isSource:s,isTarget:a,addClass:function(e){r.addClass(t.el,e)},removeClass:function(e){r.removeClass(t.el,e)},onDrop:function(e){e.endpoints[0].anchor.locked=!1},isDropAllowed:function(){return l.isDropAllowed.apply(l,arguments)},isRedrop:function(e){return null!=e.suspendedElement&&null!=e.suspendedEndpoint&&e.suspendedEndpoint.element===t.el},getEndpoint:function(n){var o=t.def.endpoint;if(null==o||null==o._jsPlumb){var s=r.deriveEndpointAndAnchorSpec(n.getType().join(" "),!0),a=s.endpoints?e.jsPlumb.extend(i,{endpoint:t.def.def.endpoint||s.endpoints[1]}):i;s.anchors&&(a=e.jsPlumb.extend(a,{anchor:t.def.def.anchor||s.anchors[1]})),(o=r.addEndpoint(t.el,a))._mtNew=!0}if(i.uniqueEndpoint&&(t.def.endpoint=o),o.setDeleteOnEmpty(!0),n.isDetachable()&&o.initDraggable(),null!=o.anchor.positionFinder){var l=r.getUIPosition(arguments,r.getZoom()),c=r.getOffset(t.el),u=r.getSize(t.el),h=null==l?[0,0]:o.anchor.positionFinder(l,c,u,o.anchor.constructorParams);o.anchor.x=h[0],o.anchor.y=h[1]}return o},maybeCleanup:function(e){e._mtNew&&0===e.connections.length?r.deleteObject({endpoint:e}):delete e._mtNew}}),h=e.jsPlumb.dragEvents.drop;return o.scope=o.scope||i.scope||r.Defaults.Scope,o[h]=n.wrap(o[h],c,!0),a&&(o[e.jsPlumb.dragEvents.over]=function(){return!0}),!1===i.allowLoopback&&(o.canDrop=function(e){return e.getDragElement()._jsPlumbRelatedElement!==t.el}),r.initDroppable(t.el,o,"internal"),c};this.makeTarget=function(t,n,i){var o=e.jsPlumb.extend({_jsPlumb:this},i);e.jsPlumb.extend(o,n);for(var s=o.maxConnections||-1,a=function(t){var n=f(t),i=n.id,a=e.jsPlumb.extend({},o.dropOptions||{}),l=o.connectionType||"default";this.targetEndpointDefinitions[i]=this.targetEndpointDefinitions[i]||{},ne(i),n.el._isJsPlumbGroup&&null==a.rank&&(a.rank=-1);var c={def:e.jsPlumb.extend({},o),uniqueEndpoint:o.uniqueEndpoint,maxConnections:s,enabled:!0};o.createEndpoint&&(c.uniqueEndpoint=!0,c.endpoint=r.addEndpoint(t,c.def),c.endpoint.setDeleteOnEmpty(!1)),n.def=c,this.targetEndpointDefinitions[i][l]=c,oe(n,o,a,!0===o.isSource,!0),n.el._katavorioDrop[n.el._katavorioDrop.length-1].targetDef=c}.bind(this),l=t.length&&t.constructor!==String?t:[t],c=0,u=l.length;c<u;c++)a(l[c]);return this},this.unmakeTarget=function(e,t){var n=f(e);return r.destroyDroppable(n.el,"internal"),t||delete this.targetEndpointDefinitions[n.id],this},this.makeSource=function(t,i,o){var s=e.jsPlumb.extend({_jsPlumb:this},o);e.jsPlumb.extend(s,i);var a=s.connectionType||"default",l=r.deriveEndpointAndAnchorSpec(a);s.endpoint=s.endpoint||l.endpoints[0],s.anchor=s.anchor||l.anchors[0];for(var c=s.maxConnections||-1,u=s.onMaxConnections,d=function(i){var o=i.id,l=this.getElement(i.el);this.sourceEndpointDefinitions[o]=this.sourceEndpointDefinitions[o]||{},ne(o);var d={def:e.jsPlumb.extend({},s),uniqueEndpoint:s.uniqueEndpoint,maxConnections:c,enabled:!0};s.createEndpoint&&(d.uniqueEndpoint=!0,d.endpoint=r.addEndpoint(t,d.def),d.endpoint.setDeleteOnEmpty(!1)),this.sourceEndpointDefinitions[o][a]=d,i.def=d;var f=e.jsPlumb.dragEvents.stop,p=e.jsPlumb.dragEvents.drag,m=e.jsPlumb.extend({},s.dragOptions||{}),g=m.drag,v=m.stop,y=null,b=!1;m.scope=m.scope||s.scope,m[p]=n.wrap(m[p],function(){g&&g.apply(this,arguments),b=!1}),m[f]=n.wrap(m[f],function(){if(v&&v.apply(this,arguments),this.currentlyDragging=!1,null!=y._jsPlumb){var e=s.anchor||this.Defaults.Anchor,t=y.anchor,n=y.connections[0],i=this.makeAnchor(e,o,this),a=y.element;if(null!=i.positionFinder){var l=r.getOffset(a),c=this.getSize(a),u={left:l.left+t.x*c[0],top:l.top+t.y*c[1]},h=i.positionFinder(u,l,c,i.constructorParams);i.x=h[0],i.y=h[1]}y.setAnchor(i,!0),y.repaint(),this.repaint(y.elementId),null!=n&&this.repaint(n.targetId)}}.bind(this));var _=function(t){if(3!==t.which&&2!==t.button){var d=this.sourceEndpointDefinitions[o][a];if(d.enabled){if(o=this.getId(this.getElement(i.el)),s.filter&&!1===(n.isString(s.filter)?function(e,t,n,i,r){for(var o=e.target||e.srcElement,s=!1,a=i.getSelector(t,n),l=0;l<a.length;l++)if(a[l]===o){s=!0;break}return r?!s:s}(t,i.el,s.filter,this,s.filterExclude):s.filter(t,i.el)))return;var f=this.select({source:o}).length;if(d.maxConnections>=0&&f>=d.maxConnections)return u&&u({element:i.el,maxConnections:c},t),!1;var p=e.jsPlumb.getPositionOnElement(t,l,h),g={};e.jsPlumb.extend(g,s),g.isTemporarySource=!0,g.anchor=[p[0],p[1],0,0],g.dragOptions=m,d.def.scope&&(g.scope=d.def.scope),y=this.addEndpoint(o,g),b=!0,y.setDeleteOnEmpty(!0),d.uniqueEndpoint&&(d.endpoint?y.finalEndpoint=d.endpoint:(d.endpoint=y,y.setDeleteOnEmpty(!1)));var v=function(){r.off(y.canvas,"mouseup",v),r.off(i.el,"mouseup",v),b&&(b=!1,r.deleteEndpoint(y))};r.on(y.canvas,"mouseup",v),r.on(i.el,"mouseup",v);var _={};if(d.def.extract)for(var x in d.def.extract){var w=(t.srcElement||t.target).getAttribute(x);w&&(_[d.def.extract[x]]=w)}r.trigger(y.canvas,"mousedown",t,_),n.consume(t)}}}.bind(this);this.on(i.el,"mousedown",_),d.trigger=_,s.filter&&(n.isString(s.filter)||n.isFunction(s.filter))&&r.setDragFilter(i.el,s.filter);var x=e.jsPlumb.extend({},s.dropOptions||{});oe(i,s,x,!0,!0===s.isTarget)}.bind(this),p=t.length&&t.constructor!==String?t:[t],m=0,g=p.length;m<g;m++)d(f(p[m]));return this},this.unmakeSource=function(e,t,n){var i=f(e);r.destroyDroppable(i.el,"internal");var o=this.sourceEndpointDefinitions[i.id];if(o)for(var s in o)if(null==t||t===s){var a=o[s].trigger;a&&r.off(i.el,"mousedown",a),n||delete this.sourceEndpointDefinitions[i.id][s]}return this},this.unmakeEverySource=function(){for(var e in this.sourceEndpointDefinitions)r.unmakeSource(e,null,!0);return this.sourceEndpointDefinitions={},this};var se=function(e,t,i){t=n.isArray(t)?t:[t];var r=U(e);i=i||"default";for(var o=0;o<t.length;o++){var s=this[t[o]][r];if(s&&s[i])return s[i].def.scope||this.Defaults.Scope}}.bind(this),ae=function(e,t,i,r){i=n.isArray(i)?i:[i];var o=U(e);r=r||"default";for(var s=0;s<i.length;s++){var a=this[i[s]][o];a&&a[r]&&(a[r].def.scope=t)}}.bind(this);this.getScope=function(e,t){return se(e,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(e){return se(e,"sourceEndpointDefinitions")},this.getTargetScope=function(e){return se(e,"targetEndpointDefinitions")},this.setScope=function(e,t,n){this.setSourceScope(e,t,n),this.setTargetScope(e,t,n)},this.setSourceScope=function(e,t,n){ae(e,t,"sourceEndpointDefinitions",n),this.setDragScope(e,t)},this.setTargetScope=function(e,t,n){ae(e,t,"targetEndpointDefinitions",n),this.setDropScope(e,t)},this.unmakeEveryTarget=function(){for(var e in this.targetEndpointDefinitions)r.unmakeTarget(e,!0);return this.targetEndpointDefinitions={},this};var le=function(e,t,i,o,s){var a,l,c,u="source"===e?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(s=s||"default",t.length&&!n.isString(t)){a=[];for(var h=0,d=t.length;h<d;h++)u[(l=f(t[h])).id]&&u[l.id][s]&&(a[h]=u[l.id][s].enabled,c=o?!a[h]:i,u[l.id][s].enabled=c,r[c?"removeClass":"addClass"](l.el,"jtk-"+e+"-disabled"))}else{var p=(l=f(t)).id;u[p]&&u[p][s]&&(a=u[p][s].enabled,c=o?!a:i,u[p][s].enabled=c,r[c?"removeClass":"addClass"](l.el,"jtk-"+e+"-disabled"))}return a}.bind(this),ce=function(e,t){return n.isString(e)||!e.length?t.apply(this,[e]):e.length?t.apply(this,[e[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(e,t){return le("source",e,null,!0,t),this.isSourceEnabled(e,t)},this.setSourceEnabled=function(e,t,n){return le("source",e,t,null,n)},this.isSource=function(e,t){return t=t||"default",ce(e,function(e){var n=this.sourceEndpointDefinitions[f(e).id];return null!=n&&null!=n[t]}.bind(this))},this.isSourceEnabled=function(e,t){return t=t||"default",ce(e,function(e){var n=this.sourceEndpointDefinitions[f(e).id];return n&&n[t]&&!0===n[t].enabled}.bind(this))},this.toggleTargetEnabled=function(e,t){return le("target",e,null,!0,t),this.isTargetEnabled(e,t)},this.isTarget=function(e,t){return t=t||"default",ce(e,function(e){var n=this.targetEndpointDefinitions[f(e).id];return null!=n&&null!=n[t]}.bind(this))},this.isTargetEnabled=function(e,t){return t=t||"default",ce(e,function(e){var n=this.targetEndpointDefinitions[f(e).id];return n&&n[t]&&!0===n[t].enabled}.bind(this))},this.setTargetEnabled=function(e,t,n){return le("target",e,t,null,n)},this.ready=function(e){r.bind("ready",e)};var ue=function(e,t){if("object"==typeof e&&e.length)for(var n=0,i=e.length;n<i;n++)t(e[n]);else t(e);return r};this.repaint=function(e,t,n){return ue(e,function(e){N(e,t,n)})},this.revalidate=function(e,t,n){return ue(e,function(e){var i=n?e:r.getId(e);r.updateOffset({elId:i,recalc:!0,timestamp:t});var o=r.getDragManager();o&&o.updateOffsets(i),r.repaint(e)})},this.repaintEverything=function(){var e,t=i();for(e in x)r.updateOffset({elId:e,recalc:!0,timestamp:t});for(e in x)N(e,null,t);return this},this.removeAllEndpoints=function(e,t,n){n=n||[];var i=function(e){var o,s,a=f(e),l=x[a.id];if(l)for(n.push(a),o=0,s=l.length;o<s;o++)r.deleteEndpoint(l[o],!1);if(delete x[a.id],t&&a.el&&3!==a.el.nodeType&&8!==a.el.nodeType)for(o=0,s=a.el.childNodes.length;o<s;o++)i(a.el.childNodes[o])};return i(e),this};var he=function(e,t){r.removeAllEndpoints(e.id,!0,t);for(var n=r.getDragManager(),i=function(e){n&&n.elementRemoved(e.id),r.anchorManager.clearFor(e.id),r.anchorManager.removeFloatingConnection(e.id),r.isSource(e.el)&&r.unmakeSource(e.el),r.isTarget(e.el)&&r.unmakeTarget(e.el),r.destroyDraggable(e.el),r.destroyDroppable(e.el),delete r.floatingConnections[e.id],delete S[e.id],delete C[e.id],e.el&&(r.removeElement(e.el),e.el._jsPlumb=null)},o=1;o<t.length;o++)i(t[o]);i(e)};this.remove=function(e,t){var n=f(e),i=[];return n.text?n.el.parentNode.removeChild(n.el):n.id&&r.batch(function(){he(n,i)},!1===t),r},this.empty=function(e,t){var n=[],i=function(e,t){var r=f(e);if(r.text)r.el.parentNode.removeChild(r.el);else if(r.el){for(;r.el.childNodes.length>0;)i(r.el.childNodes[0]);t||he(r,n)}};return r.batch(function(){i(e,!0)},!1===t),r},this.reset=function(){r.silently(function(){te=!1,r.removeAllGroups(),r.removeGroupManager(),r.deleteEveryEndpoint(),r.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},_.length=0,this.doReset&&this.doReset()}.bind(this))};var de=function(e){e.canvas&&e.canvas.parentNode&&e.canvas.parentNode.removeChild(e.canvas),e.cleanup(),e.destroy()};this.clear=function(){r.select().each(de),r.selectEndpoints().each(de),x={},w={}},this.setDefaultScope=function(e){return D=e,r},this.setDraggable=function(e,t){return p.each(e,function(e){r.isDragSupported(e)&&(E[r.getAttribute(e,"id")]=t,r.setElementDraggable(e,t))})},this.deriveEndpointAndAnchorSpec=function(e,t){for(var n=((t?"":"default ")+e).split(/[\s]/),i=null,o=null,s=null,a=null,l=0;l<n.length;l++){var c=r.getType(n[l],"connection");c&&(c.endpoints&&(i=c.endpoints),c.endpoint&&(o=c.endpoint),c.anchors&&(a=c.anchors),c.anchor&&(s=c.anchor))}return{endpoints:i||[o,o],anchors:a||[s,s]}},this.setId=function(e,t,i){var r;n.isString(e)?r=e:(e=this.getElement(e),r=this.getId(e));var o=this.getConnections({source:r,scope:"*"},!0),s=this.getConnections({target:r,scope:"*"},!0);t=""+t,i?e=this.getElement(t):(e=this.getElement(r),this.setAttribute(e,"id",t)),x[t]=x[r]||[];for(var a=0,l=x[t].length;a<l;a++)x[t][a].setElementId(t),x[t][a].setReferenceElement(e);delete x[r],this.sourceEndpointDefinitions[t]=this.sourceEndpointDefinitions[r],delete this.sourceEndpointDefinitions[r],this.targetEndpointDefinitions[t]=this.targetEndpointDefinitions[r],delete this.targetEndpointDefinitions[r],this.anchorManager.changeId(r,t);var c=this.getDragManager();c&&c.changeId(r,t),S[t]=S[r],delete S[r];var u=function(n,i,r){for(var o=0,s=n.length;o<s;o++)n[o].endpoints[i].setElementId(t),n[o].endpoints[i].setReferenceElement(e),n[o][r+"Id"]=t,n[o][r]=e};u(o,0,"source"),u(s,1,"target"),this.repaint(t)},this.setDebugLog=function(e){y=e},this.setSuspendDrawing=function(e,t){var n=T;return T=e,L=e?(new Date).getTime():null,t&&this.repaintEverything(),n},this.isSuspendDrawing=function(){return T},this.getSuspendedAt=function(){return L},this.batch=function(e,t){var i=this.isSuspendDrawing();i||this.setSuspendDrawing(!0);try{e()}catch(e){n.log("Function run while suspended failed",e)}i||this.setSuspendDrawing(!1,!t)},this.doWhileSuspended=this.batch,this.getCachedData=function(e){var t=C[e];return t?{o:t,s:A[e]}:re({elId:e})},this.timestamp=i,this.show=function(e,t){return H(e,"block",t),r},this.toggleVisible=function(e,t){var n=null;t&&(n=function(e){var t=e.isVisible();e.setVisible(!t)}),z(e,function(e){var t=e.isVisible();e.setVisible(!t)},n)},this.toggleDraggable=function(e){var t;return p.each(e,function(e){var n=r.getAttribute(e,"id");return t=!(t=null!=E[n]&&E[n]),E[n]=t,r.setDraggable(e,t),t}.bind(this)),t},this.addListener=this.bind;var fe=[];this.registerFloatingConnection=function(e,t,i){fe[e.id]=t,n.addToList(x,e.id,i)},this.getFloatingConnectionFor=function(e){return fe[e]}};n.extend(e.jsPlumbInstance,n.EventGenerator,{setAttribute:function(e,t,n){this.setAttribute(e,t,n)},getAttribute:function(t,n){return this.getAttribute(e.jsPlumb.getElement(t),n)},convertToFullOverlaySpec:function(e){return n.isString(e)&&(e=[e,{}]),e[1].id=e[1].id||n.uuid(),e},registerConnectionType:function(t,n){if(this._connectionTypes[t]=e.jsPlumb.extend({},n),n.overlays){for(var i={},r=0;r<n.overlays.length;r++){var o=this.convertToFullOverlaySpec(n.overlays[r]);i[o[1].id]=o}this._connectionTypes[t].overlays=i}},registerConnectionTypes:function(e){for(var t in e)this.registerConnectionType(t,e[t])},registerEndpointType:function(t,n){if(this._endpointTypes[t]=e.jsPlumb.extend({},n),n.overlays){for(var i={},r=0;r<n.overlays.length;r++){var o=this.convertToFullOverlaySpec(n.overlays[r]);i[o[1].id]=o}this._endpointTypes[t].overlays=i}},registerEndpointTypes:function(e){for(var t in e)this.registerEndpointType(t,e[t])},getType:function(e,t){return"connection"===t?this._connectionTypes[e]:this._endpointTypes[e]},setIdChanged:function(e,t){this.setId(e,t,!0)},setParent:function(e,t){var n=this.getElement(e),i=this.getId(n),r=this.getElement(t),o=this.getId(r),s=this.getDragManager();n.parentNode.removeChild(n),r.appendChild(n),s&&s.setParent(n,i,r,o)},extend:function(e,t,n){var i;if(n)for(i=0;i<n.length;i++)e[n[i]]=t[n[i]];else for(i in t)e[i]=t[i];return e},floatingConnections:{},getFloatingAnchorIndex:function(e){return e.endpoints[0].isFloating()?0:e.endpoints[1].isFloating()?1:-1}}),f.prototype.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"};var p=new f;e.jsPlumb=p,p.getInstance=function(e,t){var n=new f(e);if(t)for(var i in t)n[i]=t[i];return n.init(),n},p.each=function(e,t){if(null!=e)if("string"==typeof e)t(p.getElement(e));else if(null!=e.length)for(var n=0;n<e.length;n++)t(p.getElement(e[n]));else t(e)},t.jsPlumb=p}.call("undefined"!=typeof window?window:this),function(){var e=this.jsPlumbUtil,t=function(e,t){if(null==t)return[0,0];var n=s(t),i=o(n,0);return[i[e+"X"],i[e+"Y"]]},n=t.bind(this,"page"),i=t.bind(this,"screen"),r=t.bind(this,"client"),o=function(e,t){return e.item?e.item(t):e[t]},s=function(e){return e.touches&&e.touches.length>0?e.touches:e.changedTouches&&e.changedTouches.length>0?e.changedTouches:e.targetTouches&&e.targetTouches.length>0?e.targetTouches:[e]},a=function(e,t,n){var i;t=null==(i=t)?null:i.replace(/^\s\s*/,"").replace(/\s\s*$/,""),void 0!==e.className.baseVal?e.className.baseVal=t:e.className=t;try{for(var r=e.classList;r.length>0;)r.remove(r.item(0));for(var o=0;o<n.length;o++)n[o]&&r.add(n[o])}catch(e){}},l=function(e){return void 0===e.className.baseVal?e.className:e.className.baseVal},c=function(t,n,i){n=null==n?[]:e.isArray(n)?n:n.split(/\s+/),i=null==i?[]:e.isArray(i)?i:i.split(/\s+/);var r=l(t).split(/\s+/),o=function(e,t){for(var n=0;n<t.length;n++)if(e)-1===r.indexOf(t[n])&&r.push(t[n]);else{var i=r.indexOf(t[n]);-1!==i&&r.splice(i,1)}};o(!0,n),o(!1,i),a(t,r.join(" "),r)};this.jsPlumb.extend(this.jsPlumbInstance.prototype,{headless:!1,pageLocation:n,screenLocation:i,clientLocation:r,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new function(e){var t={},n=[],i={},r={},o={};this.register=function(s){var a=e.getId(s),l=e.getOffset(s);t[a]||(t[a]=s,n.push(s),i[a]={});var c=function(t){if(t)for(var n=0;n<t.childNodes.length;n++)if(3!==t.childNodes[n].nodeType&&8!==t.childNodes[n].nodeType){var s=jsPlumb.getElement(t.childNodes[n]),u=e.getId(t.childNodes[n],null,!0);if(u&&r[u]&&r[u]>0){var h=e.getOffset(s);i[a][u]={id:u,offset:{left:h.left-l.left,top:h.top-l.top}},o[u]=a}c(t.childNodes[n])}};c(s)},this.updateOffsets=function(t,n){if(null!=t){n=n||{};var r=jsPlumb.getElement(t),s=e.getId(r),a=i[s],l=e.getOffset(r);if(a)for(var c in a)if(a.hasOwnProperty(c)){var u=jsPlumb.getElement(c),h=n[c]||e.getOffset(u);if(null==u.offsetParent&&null!=i[s][c])continue;i[s][c]={id:c,offset:{left:h.left-l.left,top:h.top-l.top}},o[c]=s}}},this.endpointAdded=function(n,s){s=s||e.getId(n);var a=document.body,l=n.parentNode;for(r[s]=r[s]?r[s]+1:1;null!=l&&l!==a;){var c=e.getId(l,null,!0);if(c&&t[c]){var u=e.getOffset(l);if(null==i[c][s]){var h=e.getOffset(n);i[c][s]={id:s,offset:{left:h.left-u.left,top:h.top-u.top}},o[s]=c}break}l=l.parentNode}},this.endpointDeleted=function(e){if(r[e.elementId]&&(r[e.elementId]--,r[e.elementId]<=0))for(var t in i)i.hasOwnProperty(t)&&i[t]&&(delete i[t][e.elementId],delete o[e.elementId])},this.changeId=function(e,t){i[t]=i[e],i[e]={},o[t]=o[e],o[e]=null},this.getElementsForDraggable=function(e){return i[e]},this.elementRemoved=function(e){var t=o[e];t&&(delete i[t][e],delete o[e])},this.reset=function(){t={},n=[],i={},r={}},this.dragEnded=function(t){if(null!=t.offsetParent){var n=e.getId(t),i=o[n];i&&this.updateOffsets(i)}},this.setParent=function(t,n,r,s,a){var l=o[n];i[s]||(i[s]={});var c=e.getOffset(r),u=a||e.getOffset(t);l&&i[l]&&delete i[l][n],i[s][n]={id:n,offset:{left:u.left-c.left,top:u.top-c.top}},o[n]=s},this.clearParent=function(e,t){var n=o[t];n&&(delete i[n][t],delete o[t])},this.revalidateParent=function(t,n,i){var r=o[n];if(r){var s={};s[n]=i,this.updateOffsets(r,s),e.revalidate(r)}},this.getDragAncestor=function(t){var n=jsPlumb.getElement(t),i=e.getId(n),r=o[i];return r?jsPlumb.getElement(r):null}}(this)),this.dragManager},recalculateOffsets:function(e){this.getDragManager().updateOffsets(e)},createElement:function(e,t,n,i){return this.createElementNS(null,e,t,n,i)},createElementNS:function(e,t,n,i,r){var o,s=null==e?document.createElement(t):document.createElementNS(e,t);for(o in n=n||{})s.style[o]=n[o];for(o in i&&(s.className=i),r=r||{})s.setAttribute(o,""+r[o]);return s},getAttribute:function(e,t){return null!=e.getAttribute?e.getAttribute(t):null},setAttribute:function(e,t,n){null!=e.setAttribute&&e.setAttribute(t,n)},setAttributes:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])},appendToRoot:function(e){document.body.appendChild(e)},getRenderModes:function(){return["svg"]},getClass:l,addClass:function(e,t){jsPlumb.each(e,function(e){c(e,t)})},hasClass:function(e,t){return(e=jsPlumb.getElement(e)).classList?e.classList.contains(t):-1!==l(e).indexOf(t)},removeClass:function(e,t){jsPlumb.each(e,function(e){c(e,null,t)})},updateClasses:function(e,t,n){jsPlumb.each(e,function(e){c(e,t,n)})},setClass:function(e,t){null!=t&&jsPlumb.each(e,function(e){a(e,t,t.split(/\s+/))})},setPosition:function(e,t){e.style.left=t.left+"px",e.style.top=t.top+"px"},getPosition:function(e){var t=function(t){var n=e.style[t];return n?n.substring(0,n.length-2):0};return{left:t("left"),top:t("top")}},getStyle:function(e,t){return void 0!==window.getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.currentStyle[t]},getSelector:function(e,t){return 1===arguments.length?null!=e.nodeType?e:document.querySelectorAll(e):e.querySelectorAll(t)},getOffset:function(e,t,n){e=jsPlumb.getElement(e),n=n||this.getContainer();for(var i={left:e.offsetLeft,top:e.offsetTop},r=t||null!=n&&e!==n&&e.offsetParent!==n?e.offsetParent:null,o=function(e){null!=e&&e!==document.body&&(e.scrollTop>0||e.scrollLeft>0)&&(i.left-=e.scrollLeft,i.top-=e.scrollTop)}.bind(this);null!=r;)i.left+=r.offsetLeft,i.top+=r.offsetTop,o(r),r=t?r.offsetParent:r.offsetParent===n?null:r.offsetParent;if(null!=n&&!t&&(n.scrollTop>0||n.scrollLeft>0)){var s=null!=e.offsetParent?this.getStyle(e.offsetParent,"position"):"static",a=this.getStyle(e,"position");"absolute"!==a&&"fixed"!==a&&"absolute"!==s&&"fixed"!==s&&(i.left-=n.scrollLeft,i.top-=n.scrollTop)}return i},getPositionOnElement:function(e,t,n){var i=void 0!==t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0,width:0,height:0},r=document.body,o=document.documentElement,s=window.pageYOffset||o.scrollTop||r.scrollTop,a=window.pageXOffset||o.scrollLeft||r.scrollLeft,l=o.clientTop||r.clientTop||0,c=o.clientLeft||r.clientLeft||0,u=i.top+s-l+0*n,h=i.left+a-c+0*n,d=jsPlumb.pageLocation(e),f=i.width||t.offsetWidth*n,p=i.height||t.offsetHeight*n;return[(d[0]-h)/f,(d[1]-u)/p]},getAbsolutePosition:function(e){var t=function(t){var n=e.style[t];if(n)return parseFloat(n.substring(0,n.length-2))};return[t("left"),t("top")]},setAbsolutePosition:function(e,t,n,i){n?this.animate(e,{left:"+="+(t[0]-n[0]),top:"+="+(t[1]-n[1])},i):(e.style.left=t[0]+"px",e.style.top=t[1]+"px")},getSize:function(e){return[e.offsetWidth,e.offsetHeight]},getWidth:function(e){return e.offsetWidth},getHeight:function(e){return e.offsetHeight},getRenderMode:function(){return"svg"}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil;t.OverlayCapableJsPlumbUIComponent=function(t){e.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},t.label&&(this.getDefaultType().overlays.__label=["Label",{label:t.label,location:t.labelLocation||this.defaultLabelLocation||.5,labelStyle:t.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:"__label"}]),this.setListenerComponent=function(e){if(this._jsPlumb)for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].setListenerComponent(e)}},t.OverlayCapableJsPlumbUIComponent.applyType=function(e,t){if(t.overlays){var n,i={};for(n in t.overlays){var r=e._jsPlumb.overlays[t.overlays[n][1].id];if(r)r.updateFrom(t.overlays[n][1]),i[t.overlays[n][1].id]=!0;else{var o=e.getCachedTypeItem("overlay",t.overlays[n][1].id);null!=o?(o.reattach(e._jsPlumb.instance,e),o.setVisible(!0),o.updateFrom(t.overlays[n][1]),e._jsPlumb.overlays[o.id]=o):o=e.addOverlay(t.overlays[n],!0),i[o.id]=!0}}for(n in e._jsPlumb.overlays)null==i[e._jsPlumb.overlays[n].id]&&e.removeOverlay(e._jsPlumb.overlays[n].id,!0)}},n.extend(t.OverlayCapableJsPlumbUIComponent,e.jsPlumbUIComponent,{setHover:function(e,t){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n][e?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(e,i){var r=function(e,i){var r=null;if(n.isArray(i)){var o=i[0],s=t.extend({component:e,_jsPlumb:e._jsPlumb.instance},i[1]);3===i.length&&t.extend(s,i[2]),r=new(t.Overlays[e._jsPlumb.instance.getRenderMode()][o])(s)}else r=i.constructor===String?new(t.Overlays[e._jsPlumb.instance.getRenderMode()][i])({component:e,_jsPlumb:e._jsPlumb.instance}):i;return r.id=r.id||n.uuid(),e.cacheTypeItem("overlay",r,r.id),e._jsPlumb.overlays[r.id]=r,r}(this,e);return i||this.repaint(),r},getOverlay:function(e){return this._jsPlumb.overlays[e]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(e){var t=this.getOverlay(e);t&&t.hide()},hideOverlays:function(){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].hide()},showOverlay:function(e){var t=this.getOverlay(e);t&&t.show()},showOverlays:function(){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].show()},removeAllOverlays:function(e){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].cleanup&&this._jsPlumb.overlays[t].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,e||this.repaint()},removeOverlay:function(e,t){var n=this._jsPlumb.overlays[e];n&&(n.setVisible(!1),!t&&n.cleanup&&n.cleanup(),delete this._jsPlumb.overlays[e],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[e])},removeOverlays:function(){for(var e=0,t=arguments.length;e<t;e++)this.removeOverlay(arguments[e])},moveParent:function(e){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),e.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode)for(var t in this.canvas.parentNode.removeChild(this.canvas),e.appendChild(this.canvas),this._jsPlumb.overlays)if(this._jsPlumb.overlays[t].isAppendedAtTopLevel){var n=this._jsPlumb.overlays[t].getElement();n.parentNode.removeChild(n),e.appendChild(n)}},getLabel:function(){var e=this.getOverlay("__label");return null!=e?e.getLabel():null},getLabelOverlay:function(){return this.getOverlay("__label")},setLabel:function(e){var n=this.getOverlay("__label");n?e.constructor===String||e.constructor===Function?n.setLabel(e):(e.label&&n.setLabel(e.label),e.location&&n.setLocation(e.location)):(n=function(e,n){var i={cssClass:n.cssClass,labelStyle:e.labelStyle,id:"__label",component:e,_jsPlumb:e._jsPlumb.instance},r=t.extend(i,n);return new(t.Overlays[e._jsPlumb.instance.getRenderMode()].Label)(r)}(this,e.constructor===String||e.constructor===Function?{label:e}:e),this._jsPlumb.overlays.__label=n),this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(e){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].cleanup(e),this._jsPlumb.overlays[t].destroy(e);e&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(e){this[e?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(e,t){this._jsPlumb.overlayPositions[e.id]=t},getAbsoluteOverlayPosition:function(e){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[e.id]:null},_clazzManip:function(e,t,n){if(!n)for(var i in this._jsPlumb.overlays)this._jsPlumb.overlays[i][e+"Class"](t)},addClass:function(e,t){this._clazzManip("add",e,t)},removeClass:function(e,t){this._clazzManip("remove",e,t)}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"];e.Endpoint=function(i){var r=i._jsPlumb,o=i.newConnection,s=i.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],e.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:i.connectionType,maxConnections:null==i.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:i.maxConnections,paintStyle:i.endpointStyle||i.paintStyle||i.style||this._jsPlumb.instance.Defaults.EndpointStyle||e.Defaults.EndpointStyle,hoverPaintStyle:i.endpointHoverStyle||i.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||e.Defaults.EndpointHoverStyle,connectorStyle:i.connectorStyle,connectorHoverStyle:i.connectorHoverStyle,connectorClass:i.connectorClass,connectorHoverClass:i.connectorHoverClass,connectorOverlays:i.connectorOverlays,connector:i.connector,connectorTooltip:i.connectorTooltip}),this._jsPlumb.enabled=!(!1===i.enabled),this._jsPlumb.visible=!0,this.element=e.getElement(i.source),this._jsPlumb.uuid=i.uuid,this._jsPlumb.floatingEndpoint=null,this._jsPlumb.uuid&&(i.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=i.elementId,this.dragProxy=i.dragProxy,this._jsPlumb.connectionCost=i.connectionCost,this._jsPlumb.connectionsDirected=i.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var a=!0===i.deleteOnEmpty;this.setDeleteOnEmpty=function(e){a=e};var l=function(){var t=r.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var n=r.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(t),this.addClass(n),e.updateClasses(this.element,n,t)}.bind(this);this.prepareAnchor=function(e){var t=this._jsPlumb.instance.makeAnchor(e,this.elementId,r);return t.bind("anchorChanged",function(e){this.fire("anchorChanged",{endpoint:this,anchor:e}),l()}.bind(this)),t},this.setPreparedAnchor=function(e,t){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=e,l(),t||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(e,t){var n=this.prepareAnchor(e);return this.setPreparedAnchor(n,t),this};var c=function(e){if(this.connections.length>0)for(var t=0;t<this.connections.length;t++)this.connections[t].setHover(e,!1);else this.setHover(e)}.bind(this);this.bind("mouseover",function(){c(!0)}),this.bind("mouseout",function(){c(!1)}),i._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(n,o){var s,a=function(t,n){var i=r.getRenderMode();if(e.Endpoints[i][t])return new e.Endpoints[i][t](n);if(!r.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+t+"'"}},l={_jsPlumb:this._jsPlumb.instance,cssClass:i.cssClass,container:i.container,tooltip:i.tooltip,connectorTooltip:i.connectorTooltip,endpoint:this};return t.isString(n)?s=a(n,l):t.isArray(n)?(l=t.merge(n[1],l),s=a(n[0],l)):s=n.clone(),s.clone=function(){return t.isString(n)?a(n,l):t.isArray(n)?(l=t.merge(n[1],l),a(n[0],l)):void 0}.bind(this),s.typeId=o,s},this.setEndpoint=function(e,t){var n=this.prepareEndpoint(e);this.setPreparedEndpoint(n,!0)},this.setPreparedEndpoint=function(e,t){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=e,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},e.extend(this,i,n),this.isSource=i.isSource||!1,this.isTemporarySource=i.isTemporarySource||!1,this.isTarget=i.isTarget||!1,this.connections=i.connections||[],this.connectorPointerEvents=i["connector-pointer-events"],this.scope=i.scope||r.getDefaultScope(),this.timestamp=null,this.reattachConnections=i.reattach||r.Defaults.ReattachConnections,this.connectionsDetachable=r.Defaults.ConnectionsDetachable,!1!==i.connectionsDetachable&&!1!==i.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==i.dragAllowedWhenFull,i.onMaxConnections&&this.bind("maxConnections",i.onMaxConnections),this.addConnection=function(e){this.connections.push(e),this[(this.connections.length>0?"add":"remove")+"Class"](r.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](r.endpointFullClass)},this.detachFromConnection=function(e,t,n){(t=null==t?this.connections.indexOf(e):t)>=0&&(this.connections.splice(t,1),this[(this.connections.length>0?"add":"remove")+"Class"](r.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](r.endpointFullClass)),!n&&a&&0===this.connections.length&&r.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==n})},this.deleteEveryConnection=function(e){for(var t=this.connections.length,n=0;n<t;n++)r.deleteConnection(this.connections[0],e)},this.detachFrom=function(e,t,n){for(var i=[],o=0;o<this.connections.length;o++)this.connections[o].endpoints[1]!==e&&this.connections[o].endpoints[0]!==e||i.push(this.connections[o]);for(var s=0,a=i.length;s<a;s++)r.deleteConnection(i[0]);return this},this.getElement=function(){return this.element},this.setElement=function(n){var o=this._jsPlumb.instance.getId(n),s=this.elementId;return t.removeWithFunction(i.endpointsByElement[this.elementId],function(e){return e.id===this.id}.bind(this)),this.element=e.getElement(n),this.elementId=r.getId(this.element),r.anchorManager.rehomeEndpoint(this,s,this.element),r.dragManager.endpointAdded(this.element),t.addToList(i.endpointsByElement,o,this),this},this.makeInPlaceCopy=function(){var e=this.anchor.getCurrentLocation({element:this}),t=this.anchor.getOrientation(this),n=this.anchor.getCssClass(),r={bind:function(){},compute:function(){return[e[0],e[1]]},getCurrentLocation:function(){return[e[0],e[1]]},getOrientation:function(){return t},getCssClass:function(){return n}};return s({dropOptions:i.dropOptions,anchor:r,source:this.element,paintStyle:this.getPaintStyle(),endpoint:i.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){return this.connections[0]},this.setStyle=this.setPaintStyle,this.paint=function(e){var t=(e=e||{}).timestamp,n=!(!1===e.recalc);if(!t||this.timestamp!==t){var i=r.updateOffset({elId:this.elementId,timestamp:t}),o=e.offset?e.offset.o:i.o;if(null!=o){var s=e.anchorPoint,a=e.connectorPaintStyle;if(null==s){var l=e.dimensions||i.s,c={xy:[o.left,o.top],wh:l,element:this,timestamp:t};if(n&&this.anchor.isDynamic&&this.connections.length>0){var u=function(e,t){var n=0;if(null!=t)for(var i=0;i<e.connections.length;i++)if(e.connections[i].sourceId===t||e.connections[i].targetId===t){n=i;break}return e.connections[n]}(this,e.elementWithPrecedence),h=u.endpoints[0]===this?1:0,d=0===h?u.sourceId:u.targetId,f=r.getCachedData(d),p=f.o,m=f.s;c.index=0===h?1:0,c.connection=u,c.txy=[p.left,p.top],c.twh=m,c.tElement=u.endpoints[h]}else this.connections.length>0&&(c.connection=this.connections[0]);s=this.anchor.compute(c)}for(var g in this.endpoint.compute(s,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,a||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=t,this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(g)){var v=this._jsPlumb.overlays[g];v.isVisible()&&(this._jsPlumb.overlayPlacements[g]=v.draw(this.endpoint,this._jsPlumb.paintStyleInUse),v.paint(this._jsPlumb.overlayPlacements[g]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var u=!1;this.initDraggable=function(){if(!u&&e.isDragSupported(this.element)){var n,a={id:null,element:null},l=null,c=!1,h=null,d=function(e,t,n){var i=!1;return{drag:function(){if(i)return i=!1,!0;if(t.element){var r=n.getUIPosition(arguments,n.getZoom());null!=r&&n.setPosition(t.element,r),n.repaint(t.element,r),e.paint({anchorPoint:e.anchor.getCurrentLocation({element:e})})}},stopDrag:function(){i=!0}}}(this,a,r),f=i.dragOptions||{},p=e.dragEvents.start,m=e.dragEvents.stop,g=e.dragEvents.drag,v=e.dragEvents.beforeStart,y=function(t){l=this.connectorSelector();var u=!0;this.isEnabled()||(u=!1),null!=l||this.isSource||this.isTemporarySource||(u=!1),!this.isSource||!this.isFull()||null!=l&&this.dragAllowedWhenFull||(u=!1),null==l||l.isDetachable(this)||(u=!1);var f=r.checkCondition(null==l?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:l});if(!1===f?u=!1:"object"==typeof f?e.extend(f,n||{}):f=n||{},!1===u)return r.stopDrag&&r.stopDrag(this.canvas),d.stopDrag(),!1;for(var p=0;p<this.connections.length;p++)this.connections[p].setHover(!1);this.addClass("endpointDrag"),r.setConnectionBeingDragged(!0),l&&!this.isFull()&&this.isSource&&(l=null),r.updateOffset({elId:this.elementId});var m=this._jsPlumb.instance.getOffset(this.canvas),g=this.canvas,v=this._jsPlumb.instance.getSize(this.canvas);!function(e,t,n,i){var r=t.createElement("div",{position:"absolute"});t.appendElement(r);var o=t.getId(r);t.setPosition(r,n),r.style.width=i[0]+"px",r.style.height=i[1]+"px",t.manage(o,r,!0),e.id=o,e.element=r}(a,r,m,v),r.setAttributes(this.canvas,{dragId:a.id,elId:this.elementId});var y=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var b=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);b.endpoints[1]&&(y=b.endpoints[1])}var _=this._jsPlumb.instance.makeAnchor("Center");_.isFloating=!0,this._jsPlumb.floatingEndpoint=function(t,n,i,r,o,s,a,l){return a({paintStyle:t,endpoint:i,anchor:new e.FloatingAnchor({reference:n,referenceCanvas:r,jsPlumbInstance:s}),source:o,scope:l})}(this.getPaintStyle(),_,y,this.canvas,a.element,r,s,this.scope);var x=this._jsPlumb.floatingEndpoint.anchor;if(null==l)this.setHover(!1,!1),(l=o({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:a.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:i.connectorStyle,hoverPaintStyle:i.connectorHoverStyle,connector:i.connector,overlays:i.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:i.scope,data:f})).pending=!0,l.addClass(r.draggingClass),this._jsPlumb.floatingEndpoint.addClass(r.draggingClass),this._jsPlumb.floatingEndpoint.anchor=x,r.fire("connectionDrag",l),r.anchorManager.newConnection(l);else{c=!0,l.setHover(!1);var w=l.endpoints[0].id===this.id?0:1;this.detachFromConnection(l,null,!0);var S=r.getDragScope(g);r.setAttribute(this.canvas,"originalScope",S),r.fire("connectionDrag",l),0===w?(h=[l.source,l.sourceId,g,S],r.anchorManager.sourceChanged(l.endpoints[w].elementId,a.id,l,a.element)):(h=[l.target,l.targetId,g,S],l.target=a.element,l.targetId=a.id,r.anchorManager.updateOtherEndpoint(l.sourceId,l.endpoints[w].elementId,l.targetId,l)),l.suspendedEndpoint=l.endpoints[w],l.suspendedElement=l.endpoints[w].getElement(),l.suspendedElementId=l.endpoints[w].elementId,l.suspendedElementType=0===w?"source":"target",l.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=l.suspendedEndpoint,l.endpoints[w]=this._jsPlumb.floatingEndpoint,l.addClass(r.draggingClass),this._jsPlumb.floatingEndpoint.addClass(r.draggingClass)}r.registerFloatingConnection(a,l,this._jsPlumb.floatingEndpoint),r.currentlyDragging=!0}.bind(this),b=function(){if(r.setConnectionBeingDragged(!1),l&&null!=l.endpoints){var e=r.getDropEvent(arguments),t=r.getFloatingAnchorIndex(l);if(l.endpoints[0===t?1:0].anchor.locked=!1,l.removeClass(r.draggingClass),this._jsPlumb&&(l.deleteConnectionNow||l.endpoints[t]===this._jsPlumb.floatingEndpoint)&&c&&l.suspendedEndpoint){0===t?(l.floatingElement=l.source,l.floatingId=l.sourceId,l.floatingEndpoint=l.endpoints[0],l.floatingIndex=0,l.source=h[0],l.sourceId=h[1]):(l.floatingElement=l.target,l.floatingId=l.targetId,l.floatingEndpoint=l.endpoints[1],l.floatingIndex=1,l.target=h[0],l.targetId=h[1]);var n=this._jsPlumb.floatingEndpoint;r.setDragScope(h[2],h[3]),l.endpoints[t]=l.suspendedEndpoint,l.isReattach()||l._forceReattach||l._forceDetach||!r.deleteConnection(l,{originalEvent:e})?(l.setHover(!1),l._forceDetach=null,l._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(l),l.suspendedEndpoint.addConnection(l),1===t?r.anchorManager.updateOtherEndpoint(l.sourceId,l.floatingId,l.targetId,l):r.anchorManager.sourceChanged(l.floatingId,l.sourceId,l,l.source),r.repaint(h[1])):r.deleteObject({endpoint:n})}this.deleteAfterDragStop?r.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),r.fire("connectionDragStop",l,e),l.pending&&r.fire("connectionAborted",l,e),r.currentlyDragging=!1,l.suspendedElement=null,l.suspendedEndpoint=null,l=null}a&&a.element&&r.remove(a.element,!1,!1),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.locked=!1,this._jsPlumb.floatingEndpoint=null)}.bind(this);(f=e.extend({},f)).scope=this.scope||f.scope,f[v]=t.wrap(f[v],function(e){n=e.e.payload||{}},!1),f[p]=t.wrap(f[p],y,!1),f[g]=t.wrap(f[g],d.drag),f[m]=t.wrap(f[m],b),f.multipleDrop=!1,f.canDrag=function(){return this.isSource||this.isTemporarySource||this.connections.length>0}.bind(this),r.initDraggable(this.canvas,f,"internal"),this.canvas._jsPlumbRelatedElement=this.element,u=!0}};var h=i.endpoint||this._jsPlumb.instance.Defaults.Endpoint||e.Defaults.Endpoint;this.setEndpoint(h,!0);var d=i.anchor?i.anchor:i.anchors?i.anchors:r.Defaults.Anchor||"Top";this.setAnchor(d,!0);var f=["default",i.type||""].join(" ");this.addType(f,i.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var p=function(n,o,s,a){if(e.isDropSupported(this.element)){var l=i.dropOptions||r.Defaults.DropOptions||e.Defaults.DropOptions;(l=e.extend({},l)).scope=l.scope||this.scope;var c=e.dragEvents.drop,u=e.dragEvents.over,h=e.dragEvents.out,d=this,f=r.EndpointDropHandler({getEndpoint:function(){return d},jsPlumb:r,enabled:function(){return null==s||s.isEnabled()},isFull:function(){return s.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(e){d.addClass(e)},removeClass:function(e){d.removeClass(e)},isDropAllowed:function(){return d.isDropAllowed.apply(d,arguments)},reference:a,isRedrop:function(e,t){return e.suspendedEndpoint&&t.reference&&e.suspendedEndpoint.id===t.reference.id}});l[c]=t.wrap(l[c],f,!0),l[u]=t.wrap(l[u],function(){var t=e.getDragObject(arguments),n=r.getAttribute(e.getElement(t),"dragId"),i=r.getFloatingConnectionFor(n);if(null!=i){var o=r.getFloatingAnchorIndex(i);if(this.isTarget&&0!==o||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===i.suspendedEndpoint.id){var s=r.checkCondition("checkDropAllowed",{sourceEndpoint:i.endpoints[o],targetEndpoint:this,connection:i});this[(s?"add":"remove")+"Class"](r.endpointDropAllowedClass),this[(s?"remove":"add")+"Class"](r.endpointDropForbiddenClass),i.endpoints[o].anchor.over(this.anchor,this)}}}.bind(this)),l[h]=t.wrap(l[h],function(){var t=e.getDragObject(arguments),n=null==t?null:r.getAttribute(e.getElement(t),"dragId"),i=n?r.getFloatingConnectionFor(n):null;if(null!=i){var o=r.getFloatingAnchorIndex(i);(this.isTarget&&0!==o||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===i.suspendedEndpoint.id)&&(this.removeClass(r.endpointDropAllowedClass),this.removeClass(r.endpointDropForbiddenClass),i.endpoints[o].anchor.out())}}.bind(this)),r.initDroppable(n,l,"internal",o)}}.bind(this);return this.anchor.isFloating||p(this.canvas,!(i._transient||this.anchor.isFloating),this,i.reference),this},t.extend(e.Endpoint,e.OverlayCapableJsPlumbUIComponent,{setVisible:function(e,t,n){if(this._jsPlumb.visible=e,this.canvas&&(this.canvas.style.display=e?"block":"none"),this[e?"showOverlays":"hideOverlays"](),!t)for(var i=0;i<this.connections.length;i++)if(this.connections[i].setVisible(e),!n){var r=this===this.connections[i].endpoints[0]?1:0;1===this.connections[i].endpoints[r].connections.length&&this.connections[i].endpoints[r].setVisible(e,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(t,i){this.setPaintStyle(t.endpointStyle||t.paintStyle,i),this.setHoverPaintStyle(t.endpointHoverStyle||t.hoverPaintStyle,i),null!=t.maxConnections&&(this._jsPlumb.maxConnections=t.maxConnections),t.scope&&(this.scope=t.scope),e.extend(this,t,n),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass),e.OverlayCapableJsPlumbUIComponent.applyType(this,t)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(e){this._jsPlumb.enabled=e},cleanup:function(){var t=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");e.removeClass(this.element,t),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(e){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(e)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(e){var t=!1;if(e)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]===e||this.connections[n].endpoints[0]===e){t=!0;break}return t},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(e){this._jsPlumb.connectionCost=e},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(e){this._jsPlumb.connectionsDirected=e},setElementId:function(e){this.elementId=e,this.anchor.elementId=e},setReferenceElement:function(t){this.element=e.getElement(t)},setDragAllowedWhenFull:function(e){this.dragAllowedWhenFull=e},equals:function(e){return this.anchor.equals(e.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(e){return this.anchor.compute(e)}}),this.jsPlumbInstance.prototype.EndpointDropHandler=function(e){return function(n){var i=e.jsPlumb;e.removeClass(i.endpointDropAllowedClass),e.removeClass(i.endpointDropForbiddenClass);var r=i.getDropEvent(arguments),o=i.getDragObject(arguments),s=i.getAttribute(o,"dragId"),a=(i.getAttribute(o,"elId"),i.getAttribute(o,"originalScope")),l=i.getFloatingConnectionFor(s);if(null!=l){var c=null!=l.suspendedEndpoint;if(!c||null!=l.suspendedEndpoint._jsPlumb){var u=e.getEndpoint(l);if(null!=u){if(e.isRedrop(l,e))return l._forceReattach=!0,l.setHover(!1),void(e.maybeCleanup&&e.maybeCleanup(u));var h=i.getFloatingAnchorIndex(l);if(0===h&&!e.isSource||1===h&&!e.isTarget)e.maybeCleanup&&e.maybeCleanup(u);else{e.onDrop&&e.onDrop(l),a&&i.setDragScope(o,a);var d=e.isFull(n);if(d&&u.fire("maxConnections",{endpoint:this,connection:l,maxConnections:u._jsPlumb.maxConnections},r),!d&&e.enabled()){var f=!0;0===h?(l.floatingElement=l.source,l.floatingId=l.sourceId,l.floatingEndpoint=l.endpoints[0],l.floatingIndex=0,l.source=e.element,l.sourceId=e.elementId):(l.floatingElement=l.target,l.floatingId=l.targetId,l.floatingEndpoint=l.endpoints[1],l.floatingIndex=1,l.target=e.element,l.targetId=e.elementId),c&&l.suspendedEndpoint.id!==u.id&&(l.isDetachAllowed(l)&&l.endpoints[h].isDetachAllowed(l)&&l.suspendedEndpoint.isDetachAllowed(l)&&i.checkCondition("beforeDetach",l)||(f=!1));var p=function(n){l.endpoints[h].detachFromConnection(l),l.suspendedEndpoint&&l.suspendedEndpoint.detachFromConnection(l),l.endpoints[h]=u,u.addConnection(l);var o=u.getParameters();for(var s in o)l.setParameter(s,o[s]);if(c){var a=l.suspendedEndpoint.elementId;i.fireMoveEvent({index:h,originalSourceId:0===h?a:l.sourceId,newSourceId:0===h?u.elementId:l.sourceId,originalTargetId:1===h?a:l.targetId,newTargetId:1===h?u.elementId:l.targetId,originalSourceEndpoint:0===h?l.suspendedEndpoint:l.endpoints[0],newSourceEndpoint:0===h?u:l.endpoints[0],originalTargetEndpoint:1===h?l.suspendedEndpoint:l.endpoints[1],newTargetEndpoint:1===h?u:l.endpoints[1],connection:l},r)}else o.draggable&&i.initDraggable(this.element,e.dragOptions,"internal",i);1===h?i.anchorManager.updateOtherEndpoint(l.sourceId,l.floatingId,l.targetId,l):i.anchorManager.sourceChanged(l.floatingId,l.sourceId,l,l.source),l.endpoints[0].finalEndpoint&&(l.endpoints[0].detachFromConnection(l),l.endpoints[0]=l.endpoints[0].finalEndpoint,l.endpoints[0].addConnection(l)),t.isObject(n)&&l.mergeData(n),i.finaliseConnection(l,null,r,!1),l.setHover(!1)}.bind(this);if(f=f&&e.isDropAllowed(l.sourceId,l.targetId,l.scope,l,u))return p(f),!0;l.suspendedEndpoint&&(l.endpoints[h]=l.suspendedEndpoint,l.setHover(!1),l._forceDetach=!0,0===h?(l.source=l.suspendedEndpoint.element,l.sourceId=l.suspendedEndpoint.elementId):(l.target=l.suspendedEndpoint.element,l.targetId=l.suspendedEndpoint.elementId),l.suspendedEndpoint.addConnection(l),1===h?i.anchorManager.updateOtherEndpoint(l.sourceId,l.floatingId,l.targetId,l):i.anchorManager.sourceChanged(l.floatingId,l.sourceId,l,l.source),i.repaint(l.sourceId),l._forceDetach=!1)}e.maybeCleanup&&e.maybeCleanup(u),i.currentlyDragging=!1}}}}}}}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,i=function(e,n,i,r,o){if(!e.Defaults.DoNotThrowErrors&&null==t.Connectors[n][i])throw{msg:"jsPlumb: unknown connector type '"+i+"'"};return new t.Connectors[n][i](r,o)},r=function(e,t,n){return e?n.makeAnchor(e,t,n):null},o=function(e,t,i,r){null!=t&&(t._jsPlumbConnections=t._jsPlumbConnections||{},r?delete t._jsPlumbConnections[e.id]:t._jsPlumbConnections[e.id]=!0,n.isEmpty(t._jsPlumbConnections)?i.removeClass(t,i.connectedClass):i.addClass(t,i.connectedClass))};t.Connection=function(e){var i=e.newEndpoint;this.id=e.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=e.previousConnection,this.source=t.getElement(e.source),this.target=t.getElement(e.target),e.sourceEndpoint&&(this.source=e.sourceEndpoint.getElement()),e.targetEndpoint&&(this.target=e.targetEndpoint.getElement()),t.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.sourceId=this._jsPlumb.instance.getId(this.source),this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=e.scope,this.endpoints=[],this.endpointStyles=[];var r=this._jsPlumb.instance;r.manage(this.sourceId,this.source),r.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.editable=!0===e.editable,this._jsPlumb.params={cssClass:e.cssClass,container:e.container,"pointer-events":e["pointer-events"],editorParams:e.editorParams,overlays:e.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.editableRequested=!1!==e.editable,this.setEditable=function(e){return!!this.connector&&this.connector.setEditable(e)},this.isEditable=function(){return!!this.connector&&this.connector.isEditable()},this.isEditing=function(){return!!this.connector&&this.connector.isEditing()},this.makeEndpoint=function(t,n,o,s){return o=o||this._jsPlumb.instance.getId(n),this.prepareEndpoint(r,i,this,s,t?0:1,e,n,o)},e.type&&(e.endpoints=e.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(e.type).endpoints);var o=this.makeEndpoint(!0,this.source,this.sourceId,e.sourceEndpoint),s=this.makeEndpoint(!1,this.target,this.targetId,e.targetEndpoint);o&&n.addToList(e.endpointsByElement,this.sourceId,o),s&&n.addToList(e.endpointsByElement,this.targetId,s),this.scope||(this.scope=this.endpoints[0].scope),null!=e.deleteEndpointsOnEmpty&&(this.endpoints[0].setDeleteOnEmpty(e.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(e.deleteEndpointsOnEmpty));var a=r.Defaults.ConnectionsDetachable;!1===e.detachable&&(a=!1),!1===this.endpoints[0].connectionsDetachable&&(a=!1),!1===this.endpoints[1].connectionsDetachable&&(a=!1);var l=e.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||r.Defaults.ReattachConnections;this.appendToDefaultType({detachable:a,reattach:l,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||e.paintStyle||r.Defaults.PaintStyle||t.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||e.hoverPaintStyle||r.Defaults.HoverPaintStyle||t.Defaults.HoverPaintStyle});var c=r.getSuspendedAt();if(!r.isSuspendDrawing()){var u=r.getCachedData(this.sourceId),h=u.o,d=u.s,f=r.getCachedData(this.targetId),p=f.o,m=f.s,g=c||r.timestamp(),v=this.endpoints[0].anchor.compute({xy:[h.left,h.top],wh:d,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[p.left,p.top],twh:m,tElement:this.endpoints[1],timestamp:g});this.endpoints[0].paint({anchorLoc:v,timestamp:g}),v=this.endpoints[1].anchor.compute({xy:[p.left,p.top],wh:m,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[h.left,h.top],twh:d,tElement:this.endpoints[0],timestamp:g}),this.endpoints[1].paint({anchorLoc:v,timestamp:g})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(){return!0===this._jsPlumb.detachable},this.setDetachable=function(e){this._jsPlumb.detachable=!0===e},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(e){this._jsPlumb.reattach=!0===e},this._jsPlumb.cost=e.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=e.directed,null==e.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var y=t.extend({},this.endpoints[1].getParameters());t.extend(y,this.endpoints[0].getParameters()),t.extend(y,this.getParameters()),this.setParameters(y),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||e.connector||r.Defaults.Connector||t.Defaults.Connector,!0),e.geometry&&this.connector.setGeometry(e.geometry);var b=null!=e.data&&n.isObject(e.data)?e.data:{};this.getData=function(){return b},this.setData=function(e){b=e||{}},this.mergeData=function(e){b=t.extend(b,e)};var _=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,e.type].join(" ");/[^\s]/.test(_)&&this.addType(_,e.data,!0),this.updateConnectedClass()},n.extend(t.Connection,t.OverlayCapableJsPlumbUIComponent,{applyType:function(e,n,i){var r=null;null!=e.connector&&(null==(r=this.getCachedTypeItem("connector",i.connector))&&(r=this.prepareConnector(e.connector,i.connector),this.cacheTypeItem("connector",r,i.connector)),this.setPreparedConnector(r)),null!=e.detachable&&this.setDetachable(e.detachable),null!=e.reattach&&this.setReattach(e.reattach),e.scope&&(this.scope=e.scope),null!=e.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,e.cssClass);var o=null;e.anchor?null==(o=this.getCachedTypeItem("anchors",i.anchor))&&(o=[this._jsPlumb.instance.makeAnchor(e.anchor),this._jsPlumb.instance.makeAnchor(e.anchor)],this.cacheTypeItem("anchors",o,i.anchor)):e.anchors&&null==(o=this.getCachedTypeItem("anchors",i.anchors))&&(o=[this._jsPlumb.instance.makeAnchor(e.anchors[0]),this._jsPlumb.instance.makeAnchor(e.anchors[1])],this.cacheTypeItem("anchors",o,i.anchors)),null!=o&&(this.endpoints[0].anchor=o[0],this.endpoints[1].anchor=o[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),t.OverlayCapableJsPlumbUIComponent.applyType(this,e)},addClass:function(e,t){t&&(this.endpoints[0].addClass(e),this.endpoints[1].addClass(e),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(e)),this.connector&&this.connector.addClass(e)},removeClass:function(e,t){t&&(this.endpoints[0].removeClass(e),this.endpoints[1].removeClass(e),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(e)),this.connector&&this.connector.removeClass(e)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(e){this._jsPlumb.visible=e,this.connector&&this.connector.setVisible(e),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(e){this._jsPlumb&&(o(this,this.source,this._jsPlumb.instance,e),o(this,this.target,this._jsPlumb.instance,e))},setHover:function(t){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(t),e.jsPlumb[t?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),e.jsPlumb[t?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(e){this._jsPlumb.cost=e},isDirected:function(){return this._jsPlumb.directed},getConnector:function(){return this.connector},getGeometry:function(){return this.connector?this.connector.getGeometry():null},setGeometry:function(e){this.connector&&this.connector.setGeometry(e)},prepareConnector:function(e,t){var r,o={_jsPlumb:this._jsPlumb.instance,cssClass:(this._jsPlumb.params.cssClass||"")+(this.isEditable()?this._jsPlumb.instance.editableConnectorClass:""),container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"],editable:this.editableRequested},s=this._jsPlumb.instance.getRenderMode();return n.isString(e)?r=i(this._jsPlumb.instance,s,e,o,this):n.isArray(e)&&(r=1===e.length?i(this._jsPlumb.instance,s,e[0],o,this):i(this._jsPlumb.instance,s,e[0],n.merge(e[1],o),this)),null!=t&&(r.typeId=t),r},setPreparedConnector:function(e,t,n,i){if(this.connector!==e){var r,o="";if(null!=this.connector&&(o=(r=this.connector).getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=e,i&&this.cacheTypeItem("connector",e,i),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.addClass(o),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=r)for(var s=this.getOverlays(),a=0;a<s.length;a++)s[a].transfer&&s[a].transfer(this.connector);n||this.setListenerComponent(this.connector),t||this.repaint()}},setConnector:function(e,t,n,i){var r=this.prepareConnector(e,i);this.setPreparedConnector(r,t,n,i)},paint:function(e){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){var t=(e=e||{}).timestamp,n=this.targetId,i=this.sourceId;if(null==t||t!==this._jsPlumb.lastPaintedAt){var r=this._jsPlumb.instance.updateOffset({elId:i}).o,o=this._jsPlumb.instance.updateOffset({elId:n}).o,s=this.endpoints[0],a=this.endpoints[1],l=s.anchor.getCurrentLocation({xy:[r.left,r.top],wh:[r.width,r.height],element:s,timestamp:t}),c=a.anchor.getCurrentLocation({xy:[o.left,o.top],wh:[o.width,o.height],element:a,timestamp:t});this.connector.resetBounds(),this.connector.compute({sourcePos:l,targetPos:c,sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:r,targetInfo:o});var u={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var h in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(h)){var d=this._jsPlumb.overlays[h];d.isVisible()&&(this._jsPlumb.overlayPlacements[h]=d.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(d)),u.minX=Math.min(u.minX,this._jsPlumb.overlayPlacements[h].minX),u.maxX=Math.max(u.maxX,this._jsPlumb.overlayPlacements[h].maxX),u.minY=Math.min(u.minY,this._jsPlumb.overlayPlacements[h].minY),u.maxY=Math.max(u.maxY,this._jsPlumb.overlayPlacements[h].maxY))}var f=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2,p=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0),m={xmin:Math.min(this.connector.bounds.minX-(f+p),u.minX),ymin:Math.min(this.connector.bounds.minY-(f+p),u.minY),xmax:Math.max(this.connector.bounds.maxX+(f+p),u.maxX),ymax:Math.max(this.connector.bounds.maxY+(f+p),u.maxY)};for(var g in this.connector.paint(this._jsPlumb.paintStyleInUse,null,m),this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(g)){var v=this._jsPlumb.overlays[g];v.isVisible()&&v.paint(this._jsPlumb.overlayPlacements[g],m)}}this._jsPlumb.lastPaintedAt=t}},repaint:function(e){e=e||{},this.paint({elId:this.sourceId,recalc:!(!1===e.recalc),timestamp:e.timestamp})},prepareEndpoint:function(e,n,i,o,s,a,l,c){var u;if(o)i.endpoints[s]=o,o.addConnection(i);else{a.endpoints||(a.endpoints=[null,null]);var h=a.endpoints[s]||a.endpoint||e.Defaults.Endpoints[s]||t.Defaults.Endpoints[s]||e.Defaults.Endpoint||t.Defaults.Endpoint;a.endpointStyles||(a.endpointStyles=[null,null]),a.endpointHoverStyles||(a.endpointHoverStyles=[null,null]);var d=a.endpointStyles[s]||a.endpointStyle||e.Defaults.EndpointStyles[s]||t.Defaults.EndpointStyles[s]||e.Defaults.EndpointStyle||t.Defaults.EndpointStyle;null==d.fill&&null!=a.paintStyle&&(d.fill=a.paintStyle.stroke),null==d.outlineStroke&&null!=a.paintStyle&&(d.outlineStroke=a.paintStyle.outlineStroke),null==d.outlineWidth&&null!=a.paintStyle&&(d.outlineWidth=a.paintStyle.outlineWidth);var f=a.endpointHoverStyles[s]||a.endpointHoverStyle||e.Defaults.EndpointHoverStyles[s]||t.Defaults.EndpointHoverStyles[s]||e.Defaults.EndpointHoverStyle||t.Defaults.EndpointHoverStyle;null!=a.hoverPaintStyle&&(null==f&&(f={}),null==f.fill&&(f.fill=a.hoverPaintStyle.stroke));var p=a.anchors?a.anchors[s]:a.anchor?a.anchor:r(e.Defaults.Anchors[s],c,e)||r(t.Defaults.Anchors[s],c,e)||r(e.Defaults.Anchor,c,e)||r(t.Defaults.Anchor,c,e);u=n({paintStyle:d,hoverPaintStyle:f,endpoint:h,connections:[i],uuid:a.uuids?a.uuids[s]:null,anchor:p,source:l,scope:a.scope,reattach:a.reattach||e.Defaults.ReattachConnections,detachable:a.detachable||e.Defaults.ConnectionsDetachable}),null==o&&u.setDeleteOnEmpty(!0),i.endpoints[s]=u,!1===a.drawEndpoints&&u.setVisible(!1,!0,!0)}return u}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumbUtil,t=this.jsPlumb;t.AnchorManager=function(n){var i={},r={},o={},s={},a=["left","top","right","bottom"],l={},c=this,u={},h=n.jsPlumbInstance,d={},f=function(e,t,n,i,r,o){if(e===t)return{orientation:"identity",a:["top","top"]};var s=Math.atan2(i.centery-n.centery,i.centerx-n.centerx),l=Math.atan2(n.centery-i.centery,n.centerx-i.centerx),c=[],u={};!function(e,t){for(var n=0;n<e.length;n++)u[e[n]]={left:[t[n].left,t[n].centery],right:[t[n].right,t[n].centery],top:[t[n].centerx,t[n].top],bottom:[t[n].centerx,t[n].bottom]}}(["source","target"],[n,i]);for(var h=0;h<a.length;h++)for(var d=0;d<a.length;d++)c.push({source:a[h],target:a[d],dist:Biltong.lineLength(u.source[a[h]],u.target[a[d]])});c.sort(function(e,t){return e.dist<t.dist?-1:e.dist>t.dist?1:0});for(var f=c[0].source,p=c[0].target,m=0;m<c.length&&(f=!r.isContinuous||r.isEdgeSupported(c[m].source)?c[m].source:null,p=!o.isContinuous||o.isEdgeSupported(c[m].target)?c[m].target:null,null==f||null==p);m++);return{a:[f,p],theta:s,theta2:l}},p=function(e){return function(t,n){return!1==(e?t[0][0]<n[0][0]:t[0][0]>n[0][0])?-1:1}},m={top:function(e,t){return e[0]>t[0]?1:-1},right:p(!0),bottom:p(!0),left:function(e,t){return(e[0][0]<0?-Math.PI-e[0][0]:Math.PI-e[0][0])>(t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0])?1:-1}},g=function(e,t){var n=h.getCachedData(e),i=n.s,o=n.o,a=function(t,n,i,o,a,l,c){if(o.length>0)for(var u=function(e,t,n,i,r,o,s){for(var a=[],l=t[r?0:1]/(i.length+1),c=0;c<i.length;c++){var u=(c+1)*l,h=o*t[r?1:0];s&&(u=t[r?0:1]-u);var d=r?u:h,f=n[0]+d,p=d/t[0],m=r?h:u,g=n[1]+m,v=m/t[1];a.push([f,g,p,v,i[c][1],i[c][2]])}return a}(0,n,i,(v=m[t],o.sort(v)),a,l,"right"===t||"top"===t),h=function(e,t){r[e.id]=[t[0],t[1],t[2],t[3]],s[e.id]=c},d=0;d<u.length;d++){var f=u[d][4],p=f.endpoints[0].elementId===e,g=f.endpoints[1].elementId===e;p&&h(f.endpoints[0],u[d]),g&&h(f.endpoints[1],u[d])}var v};a("bottom",i,[o.left,o.top],t.bottom,!0,1,[0,1]),a("top",i,[o.left,o.top],t.top,!0,0,[0,-1]),a("left",i,[o.left,o.top],t.left,!1,0,[-1,0]),a("right",i,[o.left,o.top],t.right,!1,1,[1,0])};this.reset=function(){i={},l={},u={}},this.addFloatingConnection=function(e,t){d[e]=t},this.removeFloatingConnection=function(e){delete d[e]},this.newConnection=function(n){var i=n.sourceId,r=n.targetId,o=n.endpoints,s=!0,a=function(a,c,u,h,d){i===r&&u.isContinuous&&(n._jsPlumb.instance.removeElement(o[1].canvas),s=!1),e.addToList(l,h,[d,c,u.constructor===t.DynamicAnchor])};a(0,o[0],o[0].anchor,r,n),s&&a(0,o[1],o[1].anchor,i,n)};var v=function(t){!function(t,n){if(t){var i=function(e){return e[4]===n};e.removeWithFunction(t.top,i),e.removeWithFunction(t.left,i),e.removeWithFunction(t.bottom,i),e.removeWithFunction(t.right,i)}}(u[t.elementId],t.id)};this.connectionDetached=function(t,n){var i=t.connection||t,r=t.sourceId,o=t.targetId,s=i.endpoints,a=function(t,n,i,r,o){e.removeWithFunction(l[r],function(e){return e[0].id===o.id})};a(0,s[1],s[1].anchor,r,i),a(0,s[0],s[0].anchor,o,i),i.floatingId&&(a(i.floatingIndex,i.floatingEndpoint,i.floatingEndpoint.anchor,i.floatingId,i),v(i.floatingEndpoint)),v(i.endpoints[0]),v(i.endpoints[1]),n||(c.redraw(i.sourceId),i.targetId!==i.sourceId&&c.redraw(i.targetId))},this.add=function(t,n){e.addToList(i,n,t)},this.changeId=function(e,t){l[t]=l[e],i[t]=i[e],delete l[e],delete i[e]},this.getConnectionsFor=function(e){return l[e]||[]},this.getEndpointsFor=function(e){return i[e]||[]},this.deleteEndpoint=function(t){e.removeWithFunction(i[t.elementId],function(e){return e.id===t.id}),v(t)},this.clearFor=function(e){delete i[e],i[e]=[]};var y=function(t,i,r,o,s,a,l,c,u,h,d,f){var p,m,g=-1,v=o.endpoints[l],y=v.id,b=[1,0][l],_=[[i,r],o,s,a,y],x=t[u],w=v._continuousAnchorEdge?t[v._continuousAnchorEdge]:null;if(w){var S=e.findWithFunction(w,function(e){return e[4]===y});if(-1!==S)for(w.splice(S,1),p=0;p<w.length;p++)m=w[p][1],e.addWithFunction(d,m,function(e){return e.id===m.id}),e.addWithFunction(f,w[p][1].endpoints[l],function(e){return e.id===m.endpoints[l].id}),e.addWithFunction(f,w[p][1].endpoints[b],function(e){return e.id===m.endpoints[b].id})}for(p=0;p<x.length;p++)m=x[p][1],1===n.idx&&x[p][3]===a&&-1===g&&(g=p),e.addWithFunction(d,m,function(e){return e.id===m.id}),e.addWithFunction(f,x[p][1].endpoints[l],function(e){return e.id===m.endpoints[l].id}),e.addWithFunction(f,x[p][1].endpoints[b],function(e){return e.id===m.endpoints[b].id});var C=c?-1!==g?g:0:x.length;x.splice(C,0,_),v._continuousAnchorEdge=u};this.updateOtherEndpoint=function(n,i,r,o){var s=e.findWithFunction(l[n],function(e){return e[0].id===o.id}),a=e.findWithFunction(l[i],function(e){return e[0].id===o.id});-1!==s&&(l[n][s][0]=o,l[n][s][1]=o.endpoints[1],l[n][s][2]=o.endpoints[1].anchor.constructor===t.DynamicAnchor),a>-1&&(l[i].splice(a,1),e.addToList(l,r,[o,o.endpoints[0],o.endpoints[0].anchor.constructor===t.DynamicAnchor])),o.updateConnectedClass()},this.sourceChanged=function(n,i,r,o){if(n!==i){r.sourceId=i,r.source=o,e.removeWithFunction(l[n],function(e){return e[0].id===r.id});var s=e.findWithFunction(l[r.targetId],function(e){return e[0].id===r.id});s>-1&&(l[r.targetId][s][0]=r,l[r.targetId][s][1]=r.endpoints[0],l[r.targetId][s][2]=r.endpoints[0].anchor.constructor===t.DynamicAnchor),e.addToList(l,i,[r,r.endpoints[1],r.endpoints[1].anchor.constructor===t.DynamicAnchor]),r.endpoints[1].anchor.isContinuous&&(r.source===r.target?r._jsPlumb.instance.removeElement(r.endpoints[1].canvas):null==r.endpoints[1].canvas.parentNode&&r._jsPlumb.instance.appendElement(r.endpoints[1].canvas)),r.updateConnectedClass()}},this.rehomeEndpoint=function(e,t,n){var r=i[t]||[],o=h.getId(n);if(o!==t){var s=r.indexOf(e);if(s>-1){var a=r.splice(s,1)[0];c.add(a,o)}}for(var l=0;l<e.connections.length;l++)e.connections[l].sourceId===t?c.sourceChanged(t,e.elementId,e.connections[l],e.element):e.connections[l].targetId===t&&(e.connections[l].targetId=e.elementId,e.connections[l].target=e.element,c.updateOtherEndpoint(e.connections[l].sourceId,t,e.elementId,e.connections[l]))},this.redraw=function(n,r,o,s,a,c){if(!h.isSuspendDrawing()){var p=i[n]||[],m=l[n]||[],v=[],b=[],_=[];o=o||h.timestamp(),s=s||{left:0,top:0},r&&(r={left:r.left+s.left,top:r.top+s.top});for(var x=h.updateOffset({elId:n,offset:r,recalc:!1,timestamp:o}),w={},S=0;S<m.length;S++){var C=m[S][0],k=C.sourceId,E=C.targetId,M=C.endpoints[0].anchor.isContinuous,A=C.endpoints[1].anchor.isContinuous;if(M||A){var T=k+"_"+E,L=w[T],D=C.sourceId===n?1:0;M&&!u[k]&&(u[k]={top:[],right:[],bottom:[],left:[]}),A&&!u[E]&&(u[E]={top:[],right:[],bottom:[],left:[]}),n!==E&&h.updateOffset({elId:E,timestamp:o}),n!==k&&h.updateOffset({elId:k,timestamp:o});var I=h.getCachedData(E),P=h.getCachedData(k);E===k&&(M||A)?(y(u[k],-Math.PI/2,0,C,!1,E,0,!1,"top",0,v,b),y(u[E],-Math.PI/2,0,C,!1,k,1,!1,"top",0,v,b)):(L||(L=f(k,E,P.o,I.o,C.endpoints[0].anchor,C.endpoints[1].anchor),w[T]=L),M&&y(u[k],L.theta,0,C,!1,E,0,!1,L.a[0],0,v,b),A&&y(u[E],L.theta2,-1,C,!0,k,1,!0,L.a[1],0,v,b)),M&&e.addWithFunction(_,k,function(e){return e===k}),A&&e.addWithFunction(_,E,function(e){return e===E}),e.addWithFunction(v,C,function(e){return e.id===C.id}),(M&&0===D||A&&1===D)&&e.addWithFunction(b,C.endpoints[D],function(e){return e.id===C.endpoints[D].id})}}for(S=0;S<p.length;S++)0===p[S].connections.length&&p[S].anchor.isContinuous&&(u[n]||(u[n]={top:[],right:[],bottom:[],left:[]}),y(u[n],-Math.PI/2,0,{endpoints:[p[S],p[S]],paint:function(){}},!1,n,0,!1,p[S].anchor.getDefaultFace(),0,v,b),e.addWithFunction(_,n,function(e){return e===n}));for(S=0;S<_.length;S++)g(_[S],u[_[S]]);for(S=0;S<p.length;S++)p[S].paint({timestamp:o,offset:x,dimensions:x.s,recalc:!0!==c});for(S=0;S<b.length;S++){var R=h.getCachedData(b[S].elementId);b[S].paint({timestamp:o,offset:R,dimensions:R.s})}for(S=0;S<m.length;S++){var N=m[S][1];if(N.anchor.constructor===t.DynamicAnchor){N.paint({elementWithPrecedence:n,timestamp:o}),e.addWithFunction(v,m[S][0],function(e){return e.id===m[S][0].id});for(var O=0;O<N.connections.length;O++)N.connections[O]!==m[S][0]&&e.addWithFunction(v,N.connections[O],function(e){return e.id===N.connections[O].id})}else e.addWithFunction(v,m[S][0],function(e){return e.id===m[S][0].id})}var F=d[n];for(F&&F.paint({timestamp:o,recalc:!1,elId:n}),S=0;S<v.length;S++)v[S].paint({elId:n,timestamp:o,recalc:!1,clearEdits:a})}},h.continuousAnchorFactory={get:function(t){return new function(t){e.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var n=t.faces||["top","right","bottom","left"],i=!(!1===t.clockwise),a={},l={top:"bottom",right:"left",left:"right",bottom:"top"},c={top:"right",right:"bottom",left:"top",bottom:"left"},u={top:"left",right:"top",left:"bottom",bottom:"right"},h=i?c:u,d=i?u:c,f=t.cssClass||"",p=0;p<n.length;p++)a[n[p]]=!0;this.getDefaultFace=function(){return 0===n.length?"top":n[0]},this.verifyEdge=function(e){return a[e]?e:a[l[e]]?l[e]:a[h[e]]?h[e]:a[d[e]]?d[e]:e},this.isEdgeSupported=function(e){return!0===a[e]},this.compute=function(e){return o[e.element.id]||r[e.element.id]||[0,0]},this.getCurrentLocation=function(e){return o[e.element.id]||r[e.element.id]||[0,0]},this.getOrientation=function(e){return s[e.id]||[0,0]},this.clearUserDefinedLocation=function(){delete o[t.elementId]},this.setUserDefinedLocation=function(e){o[t.elementId]=e},this.getCssClass=function(){return f}}(t)},clear:function(e){delete o[e],delete r[e]}}},t.Anchor=function(t){this.x=t.x||0,this.y=t.y||0,this.elementId=t.elementId,this.cssClass=t.cssClass||"",this.userDefinedLocation=null,this.orientation=t.orientation||[0,0],this.lastReturnValue=null,this.offsets=t.offsets||[0,0],this.timestamp=null,e.EventGenerator.apply(this),this.compute=function(e){var t=e.xy,n=e.wh,i=e.timestamp;return e.clearUserDefinedLocation&&(this.userDefinedLocation=null),i&&i===this.timestamp?this.lastReturnValue:(null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:this.lastReturnValue=[t[0]+this.x*n[0]+this.offsets[0],t[1]+this.y*n[1]+this.offsets[1]],this.timestamp=i,this.lastReturnValue)},this.getCurrentLocation=function(e){return e=e||{},null==this.lastReturnValue||null!=e.timestamp&&this.timestamp!==e.timestamp?this.compute(e):this.lastReturnValue}},e.extend(t.Anchor,e.EventGenerator,{equals:function(e){if(!e)return!1;var t=e.getOrientation(),n=this.getOrientation();return this.x===e.x&&this.y===e.y&&this.offsets[0]===e.offsets[0]&&this.offsets[1]===e.offsets[1]&&n[0]===t[0]&&n[1]===t[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(e){this.userDefinedLocation=e},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),t.FloatingAnchor=function(e){t.Anchor.apply(this,arguments);var n=e.reference,i=e.referenceCanvas,r=t.getSize(i),o=null,s=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(e){var t=e.xy,n=[t[0]+r[0]/2,t[1]+r[1]/2];return s=n,n},this.getOrientation=function(e){if(o)return o;var t=n.getOrientation(e);return[0*Math.abs(t[0])*-1,0*Math.abs(t[1])*-1]},this.over=function(e,t){o=e.getOrientation(t)},this.out=function(){o=null},this.getCurrentLocation=function(e){return null==s?this.compute(e):s}},e.extend(t.FloatingAnchor,t.Anchor),t.DynamicAnchor=function(e){t.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=e.elementId,this.jsPlumbInstance=e.jsPlumbInstance;for(var n=0;n<e.anchors.length;n++)this.anchors[n]=(i=e.anchors[n],r=this.jsPlumbInstance,o=this.elementId,i.constructor===t.Anchor?i:r.makeAnchor(i,o,r));var i,r,o;this.getAnchors=function(){return this.anchors},this.locked=!1;var s=this.anchors.length>0?this.anchors[0]:null,a=s,l=this,c=function(e,t,n,i,r){var o=i[0]+e.x*r[0],s=i[1]+e.y*r[1],a=i[0]+r[0]/2,l=i[1]+r[1]/2;return Math.sqrt(Math.pow(t-o,2)+Math.pow(n-s,2))+Math.sqrt(Math.pow(a-o,2)+Math.pow(l-s,2))},u=e.selector||function(e,t,n,i,r){for(var o=n[0]+i[0]/2,s=n[1]+i[1]/2,a=-1,l=1/0,u=0;u<r.length;u++){var h=c(r[u],o,s,e,t);h<l&&(a=u+0,l=h)}return r[a]};this.compute=function(e){var t=e.xy,n=e.wh,i=e.txy,r=e.twh;this.timestamp=e.timestamp;var o=l.getUserDefinedLocation();return null!=o?o:this.locked||null==i||null==r?s.compute(e):(e.timestamp=null,s=u(t,n,i,r,this.anchors),this.x=s.x,this.y=s.y,s!==a&&this.fire("anchorChanged",s),a=s,s.compute(e))},this.getCurrentLocation=function(e){return this.getUserDefinedLocation()||(null!=s?s.getCurrentLocation(e):null)},this.getOrientation=function(e){return null!=s?s.getOrientation(e):[0,0]},this.over=function(e,t){null!=s&&s.over(e,t)},this.out=function(){null!=s&&s.out()},this.getCssClass=function(){return s&&s.getCssClass()||""}},e.extend(t.DynamicAnchor,t.Anchor);var n=function(e,n,i,r,o,s){t.Anchors[o]=function(t){var a=t.jsPlumbInstance.makeAnchor([e,n,i,r,0,0],t.elementId,t.jsPlumbInstance);return a.type=o,s&&s(a,t),a}};n(.5,0,0,-1,"TopCenter"),n(.5,1,0,1,"BottomCenter"),n(0,.5,-1,0,"LeftMiddle"),n(1,.5,1,0,"RightMiddle"),n(.5,0,0,-1,"Top"),n(.5,1,0,1,"Bottom"),n(0,.5,-1,0,"Left"),n(1,.5,1,0,"Right"),n(.5,.5,0,0,"Center"),n(1,0,0,-1,"TopRight"),n(1,1,0,1,"BottomRight"),n(0,0,0,-1,"TopLeft"),n(0,1,0,1,"BottomLeft"),t.Defaults.DynamicAnchors=function(e){return e.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],e.elementId,e.jsPlumbInstance)},t.Anchors.AutoDefault=function(e){var n=e.jsPlumbInstance.makeDynamicAnchor(t.Defaults.DynamicAnchors(e));return n.type="AutoDefault",n};var i=function(e,n){t.Anchors[e]=function(t){var i=t.jsPlumbInstance.makeAnchor(["Continuous",{faces:n}],t.elementId,t.jsPlumbInstance);return i.type=e,i}};t.Anchors.Continuous=function(e){return e.jsPlumbInstance.continuousAnchorFactory.get(e)},i("ContinuousLeft",["left"]),i("ContinuousTop",["top"]),i("ContinuousBottom",["bottom"]),i("ContinuousRight",["right"]),n(0,0,0,0,"Assign",function(e,t){var n=t.position||"Fixed";e.positionFinder=n.constructor===String?t.jsPlumbInstance.AnchorPositionFinders[n]:n,e.constructorParams=t}),this.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(e,t,n){return[(e.left-t.left)/n[0],(e.top-t.top)/n[1]]},Grid:function(e,t,n,i){var r=e.left-t.left,o=e.top-t.top,s=n[0]/i.grid[0],a=n[1]/i.grid[1],l=Math.floor(r/s),c=Math.floor(o/a);return[(l*s+s/2)/n[0],(c*a+a/2)/n[1]]}},t.Anchors.Perimeter=function(e){var t=(e=e||{}).anchorCount||60,n=e.shape;if(!n)throw new Error("no shape supplied to Perimeter Anchor type");var i=function(){for(var e=2*Math.PI/t,n=0,i=[],r=0;r<t;r++){var o=.5+.5*Math.sin(n),s=.5+.5*Math.cos(n);i.push([o,s,0,0]),n+=e}return i},r=function(e){for(var n=t/e.length,i=[],r=function(e,r,o,s,a){for(var l=(o-e)/(n=t*a),c=(s-r)/n,u=0;u<n;u++)i.push([e+l*u,r+c*u,0,0])},o=0;o<e.length;o++)r.apply(null,e[o]);return i},o=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n][0],e[n][1],e[n][2],e[n][3],1/e.length]);return r(t)},s=function(){return o([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},a={Circle:i,Ellipse:i,Diamond:function(){return o([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:s,Square:s,Triangle:function(){return o([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(e){for(var t=e.points,n=[],i=0,o=0;o<t.length-1;o++){var s=Math.sqrt(Math.pow(t[o][2]-t[o][0])+Math.pow(t[o][3]-t[o][1]));i+=s,n.push([t[o][0],t[o][1],t[o+1][0],t[o+1][1],s])}for(var a=0;a<n.length;a++)n[a][4]=n[a][4]/i;return r(n)}};if(!a[n])throw new Error("Shape ["+n+"] is unknown by Perimeter Anchor type");var l=a[n](e);e.rotation&&(l=function(e,t){for(var n=[],i=t/180*Math.PI,r=0;r<e.length;r++){var o=e[r][0]-.5,s=e[r][1]-.5;n.push([o*Math.cos(i)-s*Math.sin(i)+.5,o*Math.sin(i)+s*Math.cos(i)+.5,e[r][2],e[r][3]])}return n}(l,e.rotation));var c=e.jsPlumbInstance.makeDynamicAnchor(l);return c.type="Perimeter",c}}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,i=e.Biltong;t.Segments={AbstractSegment:function(e){this.params=e,this.findClosestPointOnPath=function(e,t){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(e.x1,e.x2),minY:Math.min(e.y1,e.y2),maxX:Math.max(e.x1,e.x2),maxY:Math.max(e.y1,e.y2)}}},Straight:function(e){var n,r,o,s,a,l,c;t.Segments.AbstractSegment.apply(this,arguments),this.type="Straight",this.getLength=function(){return n},this.getGradient=function(){return r},this.getCoordinates=function(){return{x1:s,y1:l,x2:a,y2:c}},this.setCoordinates=function(e){s=e.x1,l=e.y1,a=e.x2,c=e.y2,n=Math.sqrt(Math.pow(a-s,2)+Math.pow(c-l,2)),r=i.gradient({x:s,y:l},{x:a,y:c}),o=-1/r},this.setCoordinates({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}),this.getBounds=function(){return{minX:Math.min(s,a),minY:Math.min(l,c),maxX:Math.max(s,a),maxY:Math.max(l,c)}},this.pointOnPath=function(e,t){if(0!==e||t){if(1!==e||t){var r=t?e>0?e:n+e:e*n;return i.pointOnLine({x:s,y:l},{x:a,y:c},r)}return{x:a,y:c}}return{x:s,y:l}},this.gradientAtPoint=function(e){return r},this.pointAlongPathFrom=function(e,t,n){var r=this.pointOnPath(e,n),o=t<=0?{x:s,y:l}:{x:a,y:c};return t<=0&&Math.abs(t)>1&&(t*=-1),i.pointOnLine(r,o,t)};var u=function(e,t,n){return n>=Math.min(e,t)&&n<=Math.max(e,t)},h=function(e,t,n){return Math.abs(n-e)<Math.abs(n-t)?e:t};this.findClosestPointOnPath=function(e,t){var d={d:1/0,x:null,y:null,l:null,x1:s,x2:a,y1:l,y2:c};if(0===r)d.y=l,d.x=u(s,a,e)?e:h(s,a,e);else if(r===1/0||r===-1/0)d.x=s,d.y=u(l,c,t)?t:h(l,c,t);else{var f=l-r*s,p=(t-o*e-f)/(r-o),m=r*p+f;d.x=u(s,a,p)?p:h(s,a,p),d.y=u(l,c,m)?m:h(l,c,m)}var g=i.lineLength([d.x,d.y],[s,l]);return d.d=i.lineLength([e,t],[d.x,d.y]),d.l=g/n,d}},Arc:function(e){t.Segments.AbstractSegment.apply(this,arguments);var n=function(t,n){return i.theta([e.cx,e.cy],[t,n])},r=2*Math.PI;this.radius=e.r,this.anticlockwise=e.ac,this.type="Arc",e.startAngle&&e.endAngle?(this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.x1=e.cx+this.radius*Math.cos(e.startAngle),this.y1=e.cy+this.radius*Math.sin(e.startAngle),this.x2=e.cx+this.radius*Math.cos(e.endAngle),this.y2=e.cy+this.radius*Math.sin(e.endAngle)):(this.startAngle=n(e.x1,e.y1),this.endAngle=n(e.x2,e.y2),this.x1=e.x1,this.y1=e.y1,this.x2=e.x2,this.y2=e.y2),this.endAngle<0&&(this.endAngle+=r),this.startAngle<0&&(this.startAngle+=r);var o=this.endAngle<this.startAngle?this.endAngle+r:this.endAngle;this.sweep=Math.abs(o-this.startAngle),this.anticlockwise&&(this.sweep=r-this.sweep);var s=2*Math.PI*this.radius,a=this.sweep/r,l=s*a;this.getLength=function(){return l},this.getBounds=function(){return{minX:e.cx-e.r,maxX:e.cx+e.r,minY:e.cy-e.r,maxY:e.cy+e.r}};var c=function(e){var t=Math.floor(e),n=Math.ceil(e);return e-t<1e-10?t:n-e<1e-10?n:e};this.pointOnPath=function(t,n){if(0===t)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===t)return{x:this.x2,y:this.y2,theta:this.endAngle};n&&(t/=l);var i=function(e,t){if(e.anticlockwise){var n=e.startAngle<e.endAngle?e.startAngle+r:e.startAngle;return n-Math.abs(n-e.endAngle)*t}var i=e.endAngle<e.startAngle?e.endAngle+r:e.endAngle,o=Math.abs(i-e.startAngle);return e.startAngle+o*t}(this,t),o=e.cx+e.r*Math.cos(i),s=e.cy+e.r*Math.sin(i);return{x:c(o),y:c(s),theta:i}},this.gradientAtPoint=function(t,n){var r=this.pointOnPath(t,n),o=i.normal([e.cx,e.cy],[r.x,r.y]);return this.anticlockwise||o!==1/0&&o!==-1/0||(o*=-1),o},this.pointAlongPathFrom=function(t,n,i){var r=this.pointOnPath(t,i),o=n/s*2*Math.PI,a=this.anticlockwise?-1:1,l=r.theta+a*o;return{x:e.cx+this.radius*Math.cos(l),y:e.cy+this.radius*Math.sin(l)}}},Bezier:function(n){this.curve=[{x:n.x1,y:n.y1},{x:n.cp1x,y:n.cp1y},{x:n.cp2x,y:n.cp2y},{x:n.x2,y:n.y2}],t.Segments.AbstractSegment.apply(this,arguments),this.bounds={minX:Math.min(n.x1,n.x2,n.cp1x,n.cp2x),minY:Math.min(n.y1,n.y2,n.cp1y,n.cp2y),maxX:Math.max(n.x1,n.x2,n.cp1x,n.cp2x),maxY:Math.max(n.y1,n.y2,n.cp1y,n.cp2y)},this.type="Bezier";var i=function(t,n,i){return i&&(n=e.jsBezier.locationAlongCurveFrom(t,n>0?0:1,n)),n};this.pointOnPath=function(t,n){return t=i(this.curve,t,n),e.jsBezier.pointOnCurve(this.curve,t)},this.gradientAtPoint=function(t,n){return t=i(this.curve,t,n),e.jsBezier.gradientAtPoint(this.curve,t)},this.pointAlongPathFrom=function(t,n,r){return t=i(this.curve,t,r),e.jsBezier.pointAlongCurveFrom(this.curve,t,n)},this.getLength=function(){return e.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds}}},t.SegmentRenderer={getPath:function(e){return{Straight:function(){var t=e.getCoordinates();return"M "+t.x1+" "+t.y1+" L "+t.x2+" "+t.y2},Bezier:function(){var t=e.params;return"M "+t.x1+" "+t.y1+" C "+t.cp1x+" "+t.cp1y+" "+t.cp2x+" "+t.cp2y+" "+t.x2+" "+t.y2},Arc:function(){var t=e.params,n=e.sweep>Math.PI?1:0,i=e.anticlockwise?0:1;return"M"+e.x1+" "+e.y1+" A "+e.radius+" "+t.r+" 0 "+n+","+i+" "+e.x2+" "+e.y2}}[e.type]()}};var r=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};t.Connectors.AbstractConnector=function(e){r.apply(this,arguments);var o=[],s=0,a=[],l=[],c=e.stub||0,u=n.isArray(c)?c[0]:c,h=n.isArray(c)?c[1]:c,d=e.gap||0,f=n.isArray(d)?d[0]:d,p=n.isArray(d)?d[1]:d,m=null,g=!1,v=null,y=null,b=!1!==e.editable&&null!=t.ConnectorEditors&&null!=t.ConnectorEditors[this.type],_=this.setGeometry=function(e,t){g=!t,y=e},x=this.getGeometry=function(){return y};this.getPathData=function(){for(var e="",n=0;n<o.length;n++)e+=t.SegmentRenderer.getPath(o[n]),e+=" ";return e},this.hasBeenEdited=function(){return g},this.isEditing=function(){return null!=this.editor&&this.editor.isActive()},this.setEditable=function(e){return b=!(!e||null==t.ConnectorEditors||null==t.ConnectorEditors[this.type]||null!=this.overrideSetEditable&&!this.overrideSetEditable())&&e},this.isEditable=function(){return b},this.findSegmentForPoint=function(e,t){for(var n={d:1/0,s:null,x:null,y:null,l:null},i=0;i<o.length;i++){var r=o[i].findClosestPointOnPath(e,t);r.d<n.d&&(n.d=r.d,n.l=r.l,n.x=r.x,n.y=r.y,n.s=o[i],n.x1=r.x1,n.x2=r.x2,n.y1=r.y1,n.y2=r.y2,n.index=i)}return n};var w=function(e,t){t&&(e=e>0?e/s:(s+e)/s);for(var n=a.length-1,i=1,r=0;r<a.length;r++)if(a[r][1]>=e){n=r,i=1===e?1:0===e?0:(e-a[r][0])/l[r];break}return{segment:o[n],proportion:i,index:n}};this.setSegments=function(e){m=[],s=0;for(var t=0;t<e.length;t++)m.push(e[t]),s+=e[t].getLength()},this.getLength=function(){return s};var S=function(e){this.strokeWidth=e.strokeWidth;var t=i.quadrant(e.sourcePos,e.targetPos),n=e.targetPos[0]<e.sourcePos[0],r=e.targetPos[1]<e.sourcePos[1],o=e.strokeWidth||1,s=e.sourceEndpoint.anchor.getOrientation(e.sourceEndpoint),a=e.targetEndpoint.anchor.getOrientation(e.targetEndpoint),l=n?e.targetPos[0]:e.sourcePos[0],c=r?e.targetPos[1]:e.sourcePos[1],d=Math.abs(e.targetPos[0]-e.sourcePos[0]),m=Math.abs(e.targetPos[1]-e.sourcePos[1]);if(0===s[0]&&0===s[1]||0===a[0]&&0===a[1]){var g=d>m?0:1,v=[1,0][g];a=[],(s=[])[g]=e.sourcePos[g]>e.targetPos[g]?-1:1,a[g]=e.sourcePos[g]>e.targetPos[g]?1:-1,s[v]=0,a[v]=0}var y=n?d+f*s[0]:f*s[0],b=r?m+f*s[1]:f*s[1],_=n?p*a[0]:d+p*a[0],x=r?p*a[1]:m+p*a[1],w=s[0]*a[0]+s[1]*a[1],S={sx:y,sy:b,tx:_,ty:x,lw:o,xSpan:Math.abs(_-y),ySpan:Math.abs(x-b),mx:(y+_)/2,my:(b+x)/2,so:s,to:a,x:l,y:c,w:d,h:m,segment:t,startStubX:y+s[0]*u,startStubY:b+s[1]*u,endStubX:_+a[0]*h,endStubY:x+a[1]*h,isXGreaterThanStubTimes2:Math.abs(y-_)>u+h,isYGreaterThanStubTimes2:Math.abs(b-x)>u+h,opposite:-1===w,perpendicular:0===w,orthogonal:1===w,sourceAxis:0===s[0]?"y":"x",points:[l,c,d,m,y,b,_,x]};return S.anchorOrientation=S.opposite?"opposite":S.orthogonal?"orthogonal":"perpendicular",S};return this.getSegments=function(){return o},this.updateBounds=function(e){var t=e.getBounds();this.bounds.minX=Math.min(this.bounds.minX,t.minX),this.bounds.maxX=Math.max(this.bounds.maxX,t.maxX),this.bounds.minY=Math.min(this.bounds.minY,t.minY),this.bounds.maxY=Math.max(this.bounds.maxY,t.maxY)},this.pointOnPath=function(e,t){var n=w(e,t);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||[0,0]},this.gradientAtPoint=function(e,t){var n=w(e,t);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0},this.pointAlongPathFrom=function(e,t,n){var i=w(e,n);return i.segment&&i.segment.pointAlongPathFrom(i.proportion,t,!1)||[0,0]},this.compute=function(e){v=S.call(this,e),s=o.length=a.length=l.length=0,this._compute(v,e),this.x=v.points[0],this.y=v.points[1],this.w=v.points[2],this.h=v.points[3],this.segment=v.segment,function(){for(var e=0,t=0;t<o.length;t++){var n=o[t].getLength();l[t]=n/s,a[t]=[e,e+=n/s]}}()},{addSegment:function(e,n,i){if(i.x1!==i.x2||i.y1!==i.y2){var r=new t.Segments[n](i);o.push(r),s+=r.getLength(),e.updateBounds(r)}},prepareCompute:S,sourceStub:u,targetStub:h,maxStub:Math.max(u,h),sourceGap:f,targetGap:p,maxGap:Math.max(f,p),setGeometry:_,getGeometry:x}},n.extend(t.Connectors.AbstractConnector,r),t.Endpoints.AbstractEndpoint=function(e){return r.apply(this,arguments),{compute:this.compute=function(e,t,n,i){var r=this._compute.apply(this,arguments);return this.x=r[0],this.y=r[1],this.w=r[2],this.h=r[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,r},cssClass:e.cssClass}},n.extend(t.Endpoints.AbstractEndpoint,r),t.Endpoints.Dot=function(e){this.type="Dot",t.Endpoints.AbstractEndpoint.apply(this,arguments),e=e||{},this.radius=e.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(e,t,n,i){this.radius=n.radius||this.radius;var r=e[0]-this.radius,o=e[1]-this.radius,s=2*this.radius,a=2*this.radius;if(n.stroke){var l=n.strokeWidth||1;r-=l,o-=l,s+=2*l,a+=2*l}return[r,o,s,a,this.radius]}},n.extend(t.Endpoints.Dot,t.Endpoints.AbstractEndpoint),t.Endpoints.Rectangle=function(e){this.type="Rectangle",t.Endpoints.AbstractEndpoint.apply(this,arguments),e=e||{},this.width=e.width||20,this.height=e.height||20,this._compute=function(e,t,n,i){var r=n.width||this.width,o=n.height||this.height;return[e[0]-r/2,e[1]-o/2,r,o]}},n.extend(t.Endpoints.Rectangle,t.Endpoints.AbstractEndpoint);var o=function(e){t.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};n.extend(o,t.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(e){this._jsPlumb.displayElements.push(e)}}),t.Endpoints.Image=function(i){this.type="Image",o.apply(this,arguments),t.Endpoints.AbstractEndpoint.apply(this,arguments);var r=i.onload,s=i.src||i.url,a=i.cssClass?" "+i.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=i.width,this._jsPlumb.heightToUse=i.height,this._jsPlumb.endpoint=i.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,r&&r(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(e,t){var n=e.constructor===String?e:e.src;r=t,this._jsPlumb.img.src=n,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(s,r),this._compute=function(e,t,n,i){return this.anchorPoint=e,this._jsPlumb.ready?[e[0]-this._jsPlumb.widthToUse/2,e[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=t.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+a),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(e,t,i){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var r=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,o=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;n.sizeElement(this.canvas,r,o,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(t,n){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(t,n):e.setTimeout(function(){this.paint(t,n)}.bind(this),200))}},n.extend(t.Endpoints.Image,[o,t.Endpoints.AbstractEndpoint],{cleanup:function(e){e&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),t.Endpoints.Blank=function(e){t.Endpoints.AbstractEndpoint.apply(this,arguments),this.type="Blank",o.apply(this,arguments),this._compute=function(e,t,n,i){return[e[0],e[1],10,0]};var i=e.cssClass?" "+e.cssClass:"";this.canvas=t.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+i),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(e,t){n.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},n.extend(t.Endpoints.Blank,[t.Endpoints.AbstractEndpoint,o],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),t.Endpoints.Triangle=function(e){this.type="Triangle",t.Endpoints.AbstractEndpoint.apply(this,arguments);var n=this;(e=e||{}).width=e.width||55,e.height=e.height||55,this.width=e.width,this.height=e.height,this._compute=function(e,t,i,r){var o=i.width||n.width,s=i.height||n.height;return[e[0]-o/2,e[1]-s/2,o,s]}};var s=t.Overlays.AbstractOverlay=function(e){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=e.component,this.loc=null==e.location?.5:e.location,this.endpointLoc=null==e.endpointLocation?[.5,.5]:e.endpointLocation,this.visible=!1!==e.visible};s.prototype={cleanup:function(e){e&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(e,t){},setVisible:function(e){this.visible=e,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(e){this.loc+=e,this.component.repaint()},setLocation:function(e){this.loc=e,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},t.Overlays.Arrow=function(e){this.type="Arrow",s.apply(this,arguments),this.isAppendedAtTopLevel=!1,e=e||{};var r=this;this.length=e.length||20,this.width=e.width||20,this.id=e.id;var o=(e.direction||1)<0?-1:1,a=e.paintStyle||{"stroke-width":1},l=e.foldback||.623;this.computeMaxSize=function(){return 1.5*r.width},this.elementCreated=function(n,i){if(this.path=n,e.events)for(var r in e.events)t.on(n,r,e.events[r])},this.draw=function(e,t){var r,s,c,u;if(e.pointAlongPathFrom){if(n.isString(this.loc)||this.loc>1||this.loc<0){var h=parseInt(this.loc,10),d=this.loc<0?1:0;r=e.pointAlongPathFrom(d,h,!1),s=e.pointAlongPathFrom(d,h-o*this.length/2,!1),c=i.pointOnLine(r,s,this.length)}else if(1===this.loc){if(r=e.pointOnPath(this.loc),s=e.pointAlongPathFrom(this.loc,-this.length),c=i.pointOnLine(r,s,this.length),-1===o){var f=c;c=r,r=f}}else if(0===this.loc){if(c=e.pointOnPath(this.loc),s=e.pointAlongPathFrom(this.loc,this.length),r=i.pointOnLine(c,s,this.length),-1===o){var p=c;c=r,r=p}}else r=e.pointAlongPathFrom(this.loc,o*this.length/2),s=e.pointOnPath(this.loc),c=i.pointOnLine(r,s,this.length);var m={hxy:r,tail:u=i.perpendicularLineTo(r,c,this.width),cxy:i.pointOnLine(r,c,l*this.length)},g=a.stroke||t.stroke,v=a.fill||t.stroke;return{component:e,d:m,"stroke-width":a.strokeWidth||t.strokeWidth,stroke:g,fill:v,minX:Math.min(r.x,u[0].x,u[1].x),maxX:Math.max(r.x,u[0].x,u[1].x),minY:Math.min(r.y,u[0].y,u[1].y),maxY:Math.max(r.y,u[0].y,u[1].y)}}return{component:e,minX:0,maxX:0,minY:0,maxY:0}}},n.extend(t.Overlays.Arrow,s,{updateFrom:function(e){this.length=e.length||this.length,this.width=e.width||this.width,this.direction=null!=e.direction?e.direction:this.direction,this.foldback=e.foldback||this.foldback}}),t.Overlays.PlainArrow=function(e){e=e||{};var n=t.extend(e,{foldback:1});t.Overlays.Arrow.call(this,n),this.type="PlainArrow"},n.extend(t.Overlays.PlainArrow,t.Overlays.Arrow),t.Overlays.Diamond=function(e){var n=(e=e||{}).length||40,i=t.extend(e,{length:n/2,foldback:2});t.Overlays.Arrow.call(this,i),this.type="Diamond"},n.extend(t.Overlays.Diamond,t.Overlays.Arrow);var a=function(e,t){return(null==e._jsPlumb.cachedDimensions||t)&&(e._jsPlumb.cachedDimensions=e.getDimensions()),e._jsPlumb.cachedDimensions},l=function(e){t.jsPlumbUIComponent.apply(this,arguments),s.apply(this,arguments);var i=this.fire;this.fire=function(){i.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=e.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=e.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=e.create,this._jsPlumb.initiallyInvisible=!1===e.visible,this.getElement=function(){if(null==this._jsPlumb.div){var n=this._jsPlumb.div=t.getElement(this._jsPlumb.create(this._jsPlumb.component));n.style.position="absolute",n.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:e.cssClass?e.cssClass:""),this._jsPlumb.instance.appendElement(n),this._jsPlumb.instance.getId(n),this.canvas=n;var i="translate(-50%, -50%)";n.style.webkitTransform=i,n.style.mozTransform=i,n.style.msTransform=i,n.style.oTransform=i,n.style.transform=i,n._jsPlumb=this,!1===e.visible&&(n.style.display="none")}return this._jsPlumb.div},this.draw=function(e,t,i){var r=a(this);if(null!=r&&2===r.length){var o={x:0,y:0};if(i)o={x:i[0],y:i[1]};else if(e.pointOnPath){var s=this.loc,l=!1;(n.isString(this.loc)||this.loc<0||this.loc>1)&&(s=parseInt(this.loc,10),l=!0),o=e.pointOnPath(s,l)}else{var c=this.loc.constructor===Array?this.loc:this.endpointLoc;o={x:c[0]*e.w,y:c[1]*e.h}}var u=o.x-r[0]/2,h=o.y-r[1]/2;return{component:e,d:{minx:u,miny:h,td:r,cxy:o},minX:u,maxX:u+r[0],minY:h,maxY:h+r[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};n.extend(l,[t.jsPlumbUIComponent,s],{getDimensions:function(){return[1,1]},setVisible:function(e){this._jsPlumb.div&&(this._jsPlumb.div.style.display=e?"block":"none",e&&this._jsPlumb.initiallyInvisible&&(a(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(e){e?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(e,t){null!=this._jsPlumb.div&&e.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var e=a(this);return Math.max(e[0],e[1])},paint:function(e,t){this._jsPlumb.initialised||(this.getElement(),e.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=e.component.x+e.d.minx+"px",this._jsPlumb.div.style.top=e.component.y+e.d.miny+"px"}}),t.Overlays.Custom=function(e){this.type="Custom",l.apply(this,arguments)},n.extend(t.Overlays.Custom,l),t.Overlays.GuideLines=function(){var e=this;e.length=50,e.strokeWidth=5,this.type="GuideLines",s.apply(this,arguments),t.jsPlumbUIComponent.apply(this,arguments),this.draw=function(t,n){var r=t.pointAlongPathFrom(e.loc,e.length/2),o=t.pointOnPath(e.loc),s=i.pointOnLine(r,o,e.length),a=i.perpendicularLineTo(r,s,40),l=i.perpendicularLineTo(s,r,20);return{connector:t,head:r,tail:s,headLine:l,tailLine:a,minX:Math.min(r.x,s.x,l[0].x,l[1].x),minY:Math.min(r.y,s.y,l[0].y,l[1].y),maxX:Math.max(r.x,s.x,l[0].x,l[1].x),maxY:Math.max(r.y,s.y,l[0].y,l[1].y)}}},t.Overlays.Label=function(e){this.labelStyle=e.labelStyle,this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var n=t.extend({create:function(){return t.createElement("div")}},e);if(t.Overlays.Custom.call(this,n),this.type="Label",this.label=e.label||"",this.labelText=null,this.labelStyle){var i=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",i.style.font=this.labelStyle.font,i.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(i.style.background=this.labelStyle.fill),this.labelStyle.borderWidth>0){var r=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";i.style.border=this.labelStyle.borderWidth+"px solid "+r}this.labelStyle.padding&&(i.style.padding=this.labelStyle.padding)}},n.extend(t.Overlays.Label,t.Overlays.Custom,{cleanup:function(e){e&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(e){this.label=e,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),l.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var e=this.label(this);this.getElement().innerHTML=e.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(e){null!=e.label&&this.setLabel(e.label)}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this;e.jsPlumb.extend(e.jsPlumbInstance.prototype,{getEventManager:function(){return(t=this._mottle)||(t=this._mottle=new e.Mottle),t;var t},on:function(e,t,n){return this.getEventManager().on.apply(this,arguments),this},off:function(e,t,n){return this.getEventManager().off.apply(this,arguments),this}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this,t=e.jsPlumbUtil,n=e.jsPlumbInstance,i="stop",r="revert",o="_jsPlumbGroup",s="show",a="hide";n.prototype.addGroup=function(n){var s=this;if(s._groups=s._groups||{},null!=s._groups[n.id])throw new TypeError("cannot create Group ["+n.id+"]; a Group with that ID exists");if(null!=n.el[o])throw new TypeError("cannot create Group ["+n.id+"]; the given element is already a Group");var a=new function(n,s){var a=this,l=s.el;this.getEl=function(){return l},this.id=s.id||t.uuid(),l._isJsPlumbGroup=!0;var c=this.getDragArea=function(){var e=n.getSelector(l,"[jtk-group-content]");return e&&e.length>0?e[0]:l},u=!0===s.ghost,h=u||!0===s.constrain,d=!1!==s.revert,f=!0===s.orphan,p=!0===s.prune,m=!0===s.dropOverride,g=!1!==s.proxied,v=[];if(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(e,t){return s.anchor||"Continuous"},this.getEndpoint=function(e,t){return s.endpoint||["Dot",{radius:10}]},this.collapsed=!1,!1!==s.draggable){var y={stop:function(e){n.fire("groupDragStop",jsPlumb.extend(e,{group:a}))},scope:"_jsPlumbGroupDrag"};s.dragOptions&&e.jsPlumb.extend(y,s.dragOptions),n.draggable(s.el,y)}!1!==s.droppable&&n.droppable(s.el,{drop:function(e){var t=e.drag.el;if(!t._isJsPlumbGroup){var i=t._jsPlumbGroup;if(i!==a){if(null!=i&&i.overrideDrop(t,a))return;n.getGroupManager().addToGroup(a,t,!1)}}}});var b=function(e,t){for(var n=null==e.nodeType?e:[e],i=0;i<n.length;i++)t(n[i])};function _(e,t){var i=function(e){return e.offsetParent}(e),r=n.getSize(i),o=n.getSize(e),s=t[0],a=s+o[0],l=t[1],c=l+o[1];return a>0&&s<r[0]&&c>0&&l<r[1]}function x(e){var t=n.getId(e),i=n.getOffset(e);e.parentNode.removeChild(e),n.getContainer().appendChild(e),n.setPosition(e,i),delete e._jsPlumbGroup,C(e),n.dragManager.clearParent(e,t)}function w(e){if(!_(e.el,e.pos)){var t=e.el._jsPlumbGroup;p?n.remove(e.el):x(e.el),t.remove(e.el)}}function S(e){var t=n.getId(e);n.revalidate(e),n.dragManager.revalidateParent(e,t)}function C(e){e._katavorioDrag&&((p||f)&&e._katavorioDrag.off(i,w),p||f||!d||(e._katavorioDrag.off(r,S),e._katavorioDrag.setRevert(null)))}function k(e){e._katavorioDrag&&((p||f)&&e._katavorioDrag.on(i,w),h&&e._katavorioDrag.setConstrain(!0),u&&e._katavorioDrag.setUseGhostProxy(!0),p||f||!d||(e._katavorioDrag.on(r,S),e._katavorioDrag.setRevert(function(e,t){return!_(e,t)})))}this.overrideDrop=function(e,t){return m&&(d||p||f)},this.add=function(e,t){var i=c();b(e,function(e){if(null!=e._jsPlumbGroup){if(e._jsPlumbGroup===a)return;e._jsPlumbGroup.remove(e,!0,t,!1)}e._jsPlumbGroup=a,v.push(e),n.isAlreadyDraggable(e)&&k(e),e.parentNode!==i&&i.appendChild(e),t||n.fire("group:addMember",{group:a,el:e})}),n.getGroupManager().updateConnectionsForGroup(a)},this.remove=function(e,i,r,o){b(e,function(e){if(delete e._jsPlumbGroup,t.removeWithFunction(v,function(t){return t===e}),i)try{a.getDragArea().removeChild(e)}catch(e){jsPlumbUtil.log("Could not remove element from Group "+e)}C(e),r||n.fire("group:removeMember",{group:a,el:e})}),o||n.getGroupManager().updateConnectionsForGroup(a)},this.removeAll=function(e,t){for(var i=0,r=v.length;i<r;i++)a.remove(v[0],e,t,!0);v.length=0,n.getGroupManager().updateConnectionsForGroup(a)},this.orphanAll=function(){for(var e=0;e<v.length;e++)x(v[e]);v.length=0},this.getMembers=function(){return v},l[o]=this,n.bind("elementDraggable",function(e){e.el._jsPlumbGroup===this&&k(e.el)}.bind(this)),this.shouldProxy=function(){return g},n.getGroupManager().addGroup(this)}(s,n);return s._groups[a.id]=a,n.collapsed&&this.collapseGroup(a),a},n.prototype.addToGroup=function(e,t,n){var i=function(t){var i=this.getId(t);this.manage(i,t),this.getGroupManager().addToGroup(e,t,n)}.bind(this);if(Array.isArray(t))for(var r=0;r<t.length;r++)i(t[r]);else i(t)},n.prototype.removeFromGroup=function(e,t,n){this.getGroupManager().removeFromGroup(e,t,n)},n.prototype.removeGroup=function(e,t,n,i){this.getGroupManager().removeGroup(e,t,n,i)},n.prototype.removeAllGroups=function(e,t,n){this.getGroupManager().removeAllGroups(e,t,n)},n.prototype.getGroup=function(e){return this.getGroupManager().getGroup(e)},n.prototype.getGroups=function(){return this.getGroupManager().getGroups()},n.prototype.expandGroup=function(e){this.getGroupManager().expandGroup(e)},n.prototype.collapseGroup=function(e){this.getGroupManager().collapseGroup(e)},n.prototype.repaintGroup=function(e){this.getGroupManager().repaintGroup(e)},n.prototype.toggleGroup=function(e){null!=(e=this.getGroupManager().getGroup(e))&&this.getGroupManager()[e.collapsed?"expandGroup":"collapseGroup"](e)},n.prototype.getGroupManager=function(){var e=this._groupManager;return null==e&&(e=this._groupManager=new function(e){var n={},i={},r={},l=this;function c(t,n){for(var i=t.getMembers(),r=0;r<i.length;r++)e[n?s:a](i[r],!0)}e.bind("connection",function(e){null!=e.source[o]&&null!=e.target[o]&&e.source[o]===e.target[o]?(i[e.connection.id]=e.source[o],r[e.connection.id]=e.source[o]):(null!=e.source[o]&&(t.suggest(e.source[o].connections.source,e.connection),i[e.connection.id]=e.source[o]),null!=e.target[o]&&(t.suggest(e.target[o].connections.target,e.connection),r[e.connection.id]=e.target[o]))}),e.bind("internal.connectionDetached",function(e){!function(e){delete e.proxies;var n,o=i[e.id];null!=o&&(n=function(t){return t.id===e.id},t.removeWithFunction(o.connections.source,n),t.removeWithFunction(o.connections.target,n),delete i[e.id]),null!=(o=r[e.id])&&(n=function(t){return t.id===e.id},t.removeWithFunction(o.connections.source,n),t.removeWithFunction(o.connections.target,n),delete r[e.id])}(e.connection)}),e.bind("connectionMoved",function(e){var t=(0===e.index?i:r)[e.connection.id];if(t){var n=t.connections[0===e.index?"source":"target"],o=n.indexOf(e.connection);-1!==o&&n.splice(o,1)}}),this.addGroup=function(t){e.addClass(t.getEl(),"jtk-group-expanded"),n[t.id]=t,t.manager=this,d(t),e.fire("group:add",{group:t})},this.addToGroup=function(t,n,i){if(t=this.getGroup(t)){var r=t.getEl();if(n._isJsPlumbGroup)return;var o=n._jsPlumbGroup;if(o!==t){var s=e.getOffset(n,!0),a=t.collapsed?e.getOffset(r,!0):e.getOffset(t.getDragArea(),!0);null!=o&&(o.remove(n,i),l.updateConnectionsForGroup(o)),t.add(n,i);var c=function(e,n){var i=0===n?1:0;e.each(function(e){e.setVisible(!1),e.endpoints[i].element._jsPlumbGroup===t?(e.endpoints[i].setVisible(!1),l.expandConnection(e,i,t)):(e.endpoints[n].setVisible(!1),l.collapseConnection(e,n,t))})};t.collapsed&&(c(e.select({source:n}),0),c(e.select({target:n}),1));var u=e.getId(n);e.dragManager.setParent(n,u,r,e.getId(r),s);var h={left:s.left-a.left,top:s.top-a.top};e.setPosition(n,h),e.dragManager.revalidateParent(n,u,s),l.updateConnectionsForGroup(t),e.revalidate(u),setTimeout(function(){e.fire("group:addMember",{group:t,el:n})},0)}}},this.removeFromGroup=function(e,t,n){(e=this.getGroup(e))&&e.remove(t,null,n)},this.getGroup=function(e){var i=e;if(t.isString(e)&&null==(i=n[e]))throw new TypeError("No such group ["+e+"]");return i},this.getGroups=function(){var e=[];for(var t in n)e.push(n[t]);return e},this.removeGroup=function(t,i,r,o){t=this.getGroup(t),this.expandGroup(t,!0),t[i?"removeAll":"orphanAll"](r,o),e.remove(t.getEl()),delete n[t.id],delete e._groups[t.id],e.fire("group:remove",{group:t})},this.removeAllGroups=function(e,t,i){for(var r in n)this.removeGroup(n[r],e,t,i)};var u=this.collapseConnection=function(t,n,i){var r,s=i.getEl(),a=e.getId(s),l=t.endpoints[n].elementId,c=t.endpoints[0===n?1:0].element;c[o]&&!c[o].shouldProxy()&&c[o].collapsed||(t.proxies=t.proxies||[],(r=t.proxies[n]?t.proxies[n].ep:e.addEndpoint(s,{endpoint:i.getEndpoint(t,n),anchor:i.getAnchor(t,n),parameters:{isProxyEndpoint:!0}})).setDeleteOnEmpty(!0),t.proxies[n]={ep:r,originalEp:t.endpoints[n]},0===n?e.anchorManager.sourceChanged(l,a,t,s):(e.anchorManager.updateOtherEndpoint(t.endpoints[0].elementId,l,a,t),t.target=s,t.targetId=a),t.proxies[n].originalEp.detachFromConnection(t,null,!0),r.connections=[t],t.endpoints[n]=r,t.setVisible(!0))};this.collapseGroup=function(t){if(null!=(t=this.getGroup(t))&&!t.collapsed){var n=t.getEl();if(c(t,!1),t.shouldProxy()){var i=function(e,n){for(var i=0;i<e.length;i++){var r=e[i];u(r,n,t)}};i(t.connections.source,0),i(t.connections.target,1)}t.collapsed=!0,e.removeClass(n,"jtk-group-expanded"),e.addClass(n,"jtk-group-collapsed"),e.revalidate(n),e.fire("group:collapse",{group:t})}};var h=this.expandConnection=function(t,n,i){if(null!=t.proxies&&null!=t.proxies[n]){var r=e.getId(i.getEl()),o=t.proxies[n].originalEp.element,s=t.proxies[n].originalEp.elementId;t.endpoints[n]=t.proxies[n].originalEp,0===n?e.anchorManager.sourceChanged(r,s,t,o):(e.anchorManager.updateOtherEndpoint(t.endpoints[0].elementId,r,s,t),t.target=o,t.targetId=s),t.proxies[n].ep.detachFromConnection(t,null),t.proxies[n].originalEp.addConnection(t),delete t.proxies[n]}};function d(t){var n=t.getMembers(),o=e.getConnections({source:n,scope:"*"},!0),s=e.getConnections({target:n,scope:"*"},!0),a={};t.connections.source.length=0,t.connections.target.length=0;var l=function(e){for(var n=0;n<e.length;n++)a[e[n].id]||(a[e[n].id]=!0,e[n].source._jsPlumbGroup===t?(e[n].target._jsPlumbGroup!==t&&t.connections.source.push(e[n]),i[e[n].id]=t):e[n].target._jsPlumbGroup===t&&(t.connections.target.push(e[n]),r[e[n].id]=t))};l(o),l(s)}this.expandGroup=function(t,n){if(null!=(t=this.getGroup(t))&&t.collapsed){var i=t.getEl();if(c(t,!0),t.shouldProxy()){var r=function(e,n){for(var i=0;i<e.length;i++){var r=e[i];h(r,n,t)}};r(t.connections.source,0),r(t.connections.target,1)}t.collapsed=!1,e.addClass(i,"jtk-group-expanded"),e.removeClass(i,"jtk-group-collapsed"),e.revalidate(i),this.repaintGroup(t),n||e.fire("group:expand",{group:t})}},this.repaintGroup=function(t){for(var n=(t=this.getGroup(t)).getMembers(),i=0;i<n.length;i++)e.revalidate(n[i])},this.updateConnectionsForGroup=d,this.refreshAllGroups=function(){for(var t in n)d(n[t]),e.dragManager.updateOffsets(e.getId(n[t].getEl()))}}(this)),e},n.prototype.removeGroupManager=function(){delete this._groupManager},n.prototype.getGroupFor=function(e){if(e=this.getElement(e))return e[o]}}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil;e.Connectors.Flowchart=function(t){this.type="Flowchart",(t=t||{}).stub=null==t.stub?30:t.stub;var n,i=e.Connectors.AbstractConnector.apply(this,arguments),r=null==t.midpoint?.5:t.midpoint,o=!0===t.alwaysRespectStubs,s=null,a=null,l=null!=t.cornerRadius?t.cornerRadius:0,c=(t.loopbackRadius,function(e){return e<0?-1:0===e?0:1}),u=function(e){return[c(e[2]-e[0]),c(e[3]-e[1])]},h=function(e,t,n,i){if(s!==t||a!==n){var r=null==s?i.sx:s,o=null==a?i.sy:a,l=r===t?"v":"h";s=t,a=n,e.push([r,o,t,n,l])}},d=function(e){return Math.sqrt(Math.pow(e[0]-e[2],2)+Math.pow(e[1]-e[3],2))},f=function(e){var t=[];return t.push.apply(t,e),t};this._compute=function(e,t){n=[],s=null,a=null;var c=this.getGeometry(),p=[e.x,e.y],m=[e.x+e.w,e.y+e.h];if((this.hasBeenEdited()||this.isEditing())&&null!=c&&null!=c.segments&&c.segments.length>0)n=c.segments,i.setGeometry({segments:n,sourcePos:p,targetPos:m});else{var g=function(){return[e.startStubX,e.startStubY,e.endStubX,e.endStubY]},v={perpendicular:g,orthogonal:g,opposite:function(t){var n=e,i="x"===t?0:1;return!o&&{x:function(){return 1===n.so[i]&&(n.startStubX>n.endStubX&&n.tx>n.startStubX||n.sx>n.endStubX&&n.tx>n.sx)||-1===n.so[i]&&(n.startStubX<n.endStubX&&n.tx<n.startStubX||n.sx<n.endStubX&&n.tx<n.sx)},y:function(){return 1===n.so[i]&&(n.startStubY>n.endStubY&&n.ty>n.startStubY||n.sy>n.endStubY&&n.ty>n.sy)||-1===n.so[i]&&(n.startStubY<n.endStubY&&n.ty<n.startStubY||n.sy<n.endStubY&&n.ty<n.sy)}}[t]()?{x:[(e.sx+e.tx)/2,e.startStubY,(e.sx+e.tx)/2,e.endStubY],y:[e.startStubX,(e.sy+e.ty)/2,e.endStubX,(e.sy+e.ty)/2]}[t]:[e.startStubX,e.startStubY,e.endStubX,e.endStubY]}}[e.anchorOrientation](e.sourceAxis),y="x"===e.sourceAxis?0:1,b="x"===e.sourceAxis?1:0,_=v[y],x=v[b],w=v[y+2],S=v[b+2];h(n,v[0],v[1],e);var C=e.startStubX+(e.endStubX-e.startStubX)*r,k=e.startStubY+(e.endStubY-e.startStubY)*r,E={x:[0,1],y:[1,0]},M={perpendicular:function(t){var n=e,i={x:[[n.startStubX,n.endStubX],null,[n.endStubX,n.startStubX]],y:[[n.startStubY,n.endStubY],null,[n.endStubY,n.startStubY]]},r={x:[[C,n.startStubY],[C,n.endStubY]],y:[[n.startStubX,k],[n.endStubX,k]]},o={x:[[n.endStubX,n.startStubY]],y:[[n.startStubX,n.endStubY]]},s={x:[[n.startStubX,n.endStubY],[n.endStubX,n.endStubY]],y:[[n.endStubX,n.startStubY],[n.endStubX,n.endStubY]]},a={x:[[n.startStubX,k],[n.endStubX,k],[n.endStubX,n.endStubY]],y:[[C,n.startStubY],[C,n.endStubY],[n.endStubX,n.endStubY]]},l={x:[n.startStubY,n.endStubY],y:[n.startStubX,n.endStubX]},c=E[t][0],u=E[t][1],h=n.so[c]+1,d=n.to[u]+1,f=-1===n.to[u]&&l[t][1]<l[t][0]||1===n.to[u]&&l[t][1]>l[t][0],p=i[t][h][0],m=i[t][h][1],g={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[t][h][d];return n.segment===g[3]||n.segment===g[2]&&f?r[t]:n.segment===g[2]&&m<p?o[t]:n.segment===g[2]&&m>=p||n.segment===g[1]&&!f?a[t]:n.segment===g[0]||n.segment===g[1]&&f?s[t]:void 0},orthogonal:function(t,n,i,r,o){var s=e,a={x:-1===s.so[0]?Math.min(n,r):Math.max(n,r),y:-1===s.so[1]?Math.min(n,r):Math.max(n,r)}[t];return{x:[[a,i],[a,o],[r,o]],y:[[i,a],[o,a],[o,r]]}[t]},opposite:function(n,r,o,s){var a=e,l={x:"y",y:"x"}[n],c={x:"height",y:"width"}[n],u=a["is"+n.toUpperCase()+"GreaterThanStubTimes2"];if(t.sourceEndpoint.elementId===t.targetEndpoint.elementId){var h=o+(1-t.sourceEndpoint.anchor[l])*t.sourceInfo[c]+i.maxStub;return{x:[[r,h],[s,h]],y:[[h,r],[h,s]]}[n]}return!u||1===a.so[y]&&r>s||-1===a.so[y]&&r<s?{x:[[r,k],[s,k]],y:[[C,r],[C,s]]}[n]:1===a.so[y]&&r<s||-1===a.so[y]&&r>s?{x:[[C,a.sy],[C,a.ty]],y:[[a.sx,k],[a.tx,k]]}[n]:void 0}}[e.anchorOrientation](e.sourceAxis,_,x,w,S);if(M)for(var A=0;A<M.length;A++)h(n,M[A][0],M[A][1],e);h(n,v[2],v[3],e),h(n,e.tx,e.ty,e),i.setGeometry({segments:n,sourcePos:p,targetPos:m},!0)}!function(e,t,n){for(var r,o,s,a=null,c=0;c<t.length-1;c++){if(a=a||f(t[c]),r=f(t[c+1]),o=u(a),s=u(r),l>0&&a[4]!==r[4]){var h=Math.min(l,d(a),d(r));a[2]-=o[0]*h,a[3]-=o[1]*h,r[0]+=s[0]*h,r[1]+=s[1]*h;var p=o[1]===s[0]&&1===s[0]||o[1]===s[0]&&0===s[0]&&o[0]!==s[1]||o[1]===s[0]&&-1===s[0],m=(r[1]>a[3]?1:-1)==(r[0]>a[2]?1:-1),g=m&&p||!m&&!p?r[0]:a[2],v=m&&p||!m&&!p?a[3]:r[1];i.addSegment(e,"Straight",{x1:a[0],y1:a[1],x2:a[2],y2:a[3]}),i.addSegment(e,"Arc",{r:h,x1:a[2],y1:a[3],x2:r[0],y2:r[1],cx:g,cy:v,ac:p})}else{var y=a[2]===a[0]?0:a[2]>a[0]?n.lw/2:-n.lw/2,b=a[3]===a[1]?0:a[3]>a[1]?n.lw/2:-n.lw/2;i.addSegment(e,"Straight",{x1:a[0]-y,y1:a[1]-b,x2:a[2]+y,y2:a[3]+b})}a=r}null!=r&&i.addSegment(e,"Straight",{x1:r[0],y1:r[1],x2:r[2],y2:r[3]})}(this,n,e)}},t.extend(e.Connectors.Flowchart,e.Connectors.AbstractConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil;e.Connectors.AbstractBezierConnector=function(t){var n,i=!1!==(t=t||{}).showLoopback,r=(t.curviness,t.margin||5),o=(t.proximityLimit,t.orientation&&"clockwise"===t.orientation),s=t.loopbackRadius||25,a=!1;return this.overrideSetEditable=function(){return!a},this._compute=function(e,t){var l=t.sourcePos,c=t.targetPos,u=Math.abs(l[0]-c[0]),h=Math.abs(l[1]-c[1]);if(i&&t.sourceEndpoint.elementId===t.targetEndpoint.elementId){a=!0;var d=t.sourcePos[0],f=t.sourcePos[1]-r,p=d,m=f-s,g=p-s,v=m-s;u=2*s,h=2*s,e.points[0]=g,e.points[1]=v,e.points[2]=u,e.points[3]=h,n.addSegment(this,"Arc",{loopback:!0,x1:d-g+4,y1:f-v,startAngle:0,endAngle:2*Math.PI,r:s,ac:!o,x2:d-g-4,y2:f-v,cx:p-g,cy:m-v})}else a=!1,this._computeBezier(e,t,l,c,u,h)},n=e.Connectors.AbstractConnector.apply(this,arguments)},t.extend(e.Connectors.AbstractBezierConnector,e.Connectors.AbstractConnector);var n=function(t){t=t||{},this.type="Bezier";var n=e.Connectors.AbstractBezierConnector.apply(this,arguments),i=t.curviness||150;this.getCurviness=function(){return i},this._findControlPoint=function(e,t,n,r,o,s,a){var l=[];return s[0]!==a[0]||s[1]===a[1]?(0===a[0]?l.push(n[0]<t[0]?e[0]+10:e[0]-10):l.push(e[0]+i*a[0]),0===a[1]?l.push(n[1]<t[1]?e[1]+10:e[1]-10):l.push(e[1]+i*s[1])):(0===s[0]?l.push(t[0]<n[0]?e[0]+10:e[0]-10):l.push(e[0]-i*s[0]),0===s[1]?l.push(t[1]<n[1]?e[1]+10:e[1]-10):l.push(e[1]+i*a[1])),l},this._computeBezier=function(e,t,i,r,o,s){var a,l,c=this.getGeometry(),u=i[0]<r[0]?o:0,h=i[1]<r[1]?s:0,d=i[0]<r[0]?0:o,f=i[1]<r[1]?0:s;(this.hasBeenEdited()||this.isEditing())&&null!=c&&null!=c.controlPoints&&null!=c.controlPoints[0]&&null!=c.controlPoints[1]?(a=c.controlPoints[0],l=c.controlPoints[1]):(a=this._findControlPoint([u,h],i,r,t.sourceEndpoint,t.targetEndpoint,e.so,e.to),l=this._findControlPoint([d,f],r,i,t.targetEndpoint,t.sourceEndpoint,e.to,e.so)),n.setGeometry({controlPoints:[a,l],sourcePos:i,targetPos:r},!0),n.addSegment(this,"Bezier",{x1:u,y1:h,x2:d,y2:f,cp1x:a[0],cp1y:a[1],cp2x:l[0],cp2y:l[1]})}};e.Connectors.Bezier=n,t.extend(n,e.Connectors.AbstractBezierConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n=function(t){t=t||{},this.type="StateMachine";var n,i=e.Connectors.AbstractBezierConnector.apply(this,arguments),r=t.curviness||10,o=t.margin||5,s=t.proximityLimit||80;t.orientation&&t.orientation,this._computeBezier=function(e,t,a,l,c,u){var h=t.sourcePos[0]<t.targetPos[0]?0:c,d=t.sourcePos[1]<t.targetPos[1]?0:u,f=t.sourcePos[0]<t.targetPos[0]?c:0,p=t.sourcePos[1]<t.targetPos[1]?u:0;0===t.sourcePos[2]&&(h-=o),1===t.sourcePos[2]&&(h+=o),0===t.sourcePos[3]&&(d-=o),1===t.sourcePos[3]&&(d+=o),0===t.targetPos[2]&&(f-=o),1===t.targetPos[2]&&(f+=o),0===t.targetPos[3]&&(p-=o),1===t.targetPos[3]&&(p+=o);var m,g,v,y,b,_,x,w,S=(h+f)/2,C=(d+p)/2,k=(_=d,w=p,(b=h)<=(x=f)&&w<=_?1:b<=x&&_<=w?2:x<=b&&w>=_?3:4),E=Math.sqrt(Math.pow(f-h,2)+Math.pow(p-d,2)),M=i.getGeometry();(this.hasBeenEdited()||this.isEditing())&&null!=M?(m=M.controlPoints[0][0],v=M.controlPoints[0][1],g=M.controlPoints[1][0],y=M.controlPoints[1][1]):(m=(n=function(e,t,n,i,r,o,s,a,l){return E<=l?[e,t]:1===n?i[3]<=0&&r[3]>=1?[e+(i[2]<.5?-1*o:o),t]:i[2]>=1&&r[2]<=0?[e,t+(i[3]<.5?-1*s:s)]:[e+-1*o,t+-1*s]:2===n?i[3]>=1&&r[3]<=0?[e+(i[2]<.5?-1*o:o),t]:i[2]>=1&&r[2]<=0?[e,t+(i[3]<.5?-1*s:s)]:[e+o,t+-1*s]:3===n?i[3]>=1&&r[3]<=0?[e+(i[2]<.5?-1*o:o),t]:i[2]<=0&&r[2]>=1?[e,t+(i[3]<.5?-1*s:s)]:[e+-1*o,t+-1*s]:4===n?i[3]<=0&&r[3]>=1?[e+(i[2]<.5?-1*o:o),t]:i[2]<=0&&r[2]>=1?[e,t+(i[3]<.5?-1*s:s)]:[e+o,t+-1*s]:void 0}(S,C,k,t.sourcePos,t.targetPos,r,r,0,s))[0],g=n[0],v=n[1],y=n[1],i.setGeometry({controlPoints:[n,n],sourcePos:a,targetPos:l,quadrant:k,curviness:r},!0)),i.addSegment(this,"Bezier",{x1:f,y1:p,x2:h,y2:d,cp1x:m,cp1y:v,cp2x:g,cp2y:y})}};e.Connectors.StateMachine=n,t.extend(n,e.Connectors.AbstractBezierConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n=function(t){this.type="Straight";var n=e.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(e,t){n.addSegment(this,"Straight",{x1:e.sx,y1:e.sy,x2:e.startStubX,y2:e.startStubY}),n.addSegment(this,"Straight",{x1:e.startStubX,y1:e.startStubY,x2:e.endStubX,y2:e.endStubY}),n.addSegment(this,"Straight",{x1:e.endStubX,y1:e.endStubY,x2:e.tx,y2:e.ty})}};e.Connectors.Straight=n,t.extend(n,e.Connectors.AbstractConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},i="http://www.w3.org/2000/svg",r=function(e,t){for(var n in t)e.setAttribute(n,""+t[n])},o=function(t,n){return(n=n||{}).version="1.1",n.xmlns=i,e.createElementNS(i,t,null,null,n)},s=function(e){return"position:absolute;left:"+e[0]+"px;top:"+e[1]+"px"},a=function(e){for(var t=e.querySelectorAll(" defs,linearGradient,radialGradient"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n])},l=function(e,t,i,r,s){if(t.setAttribute("fill",i.fill?i.fill:"none"),t.setAttribute("stroke",i.stroke?i.stroke:"none"),i.gradient?function(e,t,n,i,r){var s,l="jsplumb_gradient_"+r._jsPlumb.instance.idstamp();a(e),s=n.gradient.offset?o("radialGradient",{id:l}):o("linearGradient",{id:l,gradientUnits:"userSpaceOnUse"});var c=o("defs");e.appendChild(c),c.appendChild(s);for(var u=0;u<n.gradient.stops.length;u++){var h=1===r.segment||2===r.segment?u:n.gradient.stops.length-1-u,d=n.gradient.stops[h][1],f=o("stop",{offset:Math.floor(100*n.gradient.stops[u][0])+"%","stop-color":d});s.appendChild(f)}var p=n.stroke?"stroke":"fill";t.setAttribute(p,"url(#"+l+")")}(e,t,i,0,s):(a(e),t.setAttribute("style","")),i.strokeWidth&&t.setAttribute("stroke-width",i.strokeWidth),i.dashstyle&&i.strokeWidth&&!i["stroke-dasharray"]){var l=-1===i.dashstyle.indexOf(",")?" ":",",c="";i.dashstyle.split(l).forEach(function(e){c+=Math.floor(e*i.strokeWidth)+l}),t.setAttribute("stroke-dasharray",c)}else i["stroke-dasharray"]&&t.setAttribute("stroke-dasharray",i["stroke-dasharray"]);for(var u in n)i[u]&&t.setAttribute(n[u],i[u])},c=function(e,t,n){e.childNodes.length>n?e.insertBefore(t,e.childNodes[n]):e.appendChild(t)};t.svg={node:o,attr:r,pos:s};var u=function(n){var i=n.pointerEventsSpec||"all",a={};e.jsPlumbUIComponent.apply(this,n.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var l=n.cssClass+" "+(n.originalArgs[0].cssClass||""),c={style:"",width:0,height:0,"pointer-events":i,position:"absolute"};this.svg=o("svg",c),n.useDivWrapper?(this.canvas=e.createElement("div",{position:"absolute"}),t.sizeElement(this.canvas,0,0,1,1),this.canvas.className=l):(r(this.svg,{class:l}),this.canvas=this.svg),n._jsPlumb.appendElement(this.canvas,n.originalArgs[0].parent),n.useDivWrapper&&this.canvas.appendChild(this.svg);var u=[this.canvas];return this.getDisplayElements=function(){return u},this.appendDisplayElement=function(e){u.push(e)},this.paint=function(e,i,o){if(null!=e){var l,c=[this.x,this.y],u=[this.w,this.h];null!=o&&(o.xmin<0&&(c[0]+=o.xmin),o.ymin<0&&(c[1]+=o.ymin),u[0]=o.xmax+(o.xmin<0?-o.xmin:0),u[1]=o.ymax+(o.ymin<0?-o.ymin:0)),n.useDivWrapper?(t.sizeElement(this.canvas,c[0],c[1],u[0],u[1]),c[0]=0,c[1]=0,l=s([0,0])):l=s([c[0],c[1]]),a.paint.apply(this,arguments),r(this.svg,{style:l,width:u[0]||0,height:u[1]||0})}},{renderer:a}};t.extend(u,e.jsPlumbUIComponent,{cleanup:function(e){e||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(e){var t=e.getContainer();this.canvas&&null==this.canvas.parentNode&&t.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&t.appendChild(this.bgCanvas)},setVisible:function(e){this.canvas&&(this.canvas.style.display=e?"block":"none")}}),e.ConnectorRenderers.svg=function(t){var n=this,i=u.apply(this,[{cssClass:t._jsPlumb.connectorClass+(this.isEditable()?" "+t._jsPlumb.editableConnectorClass:""),originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:t._jsPlumb}]),s=this.setEditable;this.setEditable=function(t){var n=s.apply(this,[t]);e[n?"addClass":"removeClass"](this.canvas,this._jsPlumb.instance.editableConnectorClass)},i.renderer.paint=function(i,s,a){var u=n.getSegments(),h=[0,0];if(a.xmin<0&&(h[0]=-a.xmin),a.ymin<0&&(h[1]=-a.ymin),u.length>0){var d={d:n.getPathData(),transform:"translate("+h[0]+","+h[1]+")","pointer-events":t["pointer-events"]||"visibleStroke"},f=null;if(n.x,n.y,n.w,n.h,i.outlineStroke){var p=i.outlineWidth||1,m=i.strokeWidth+2*p;delete(f=e.extend({},i)).gradient,f.stroke=i.outlineStroke,f.strokeWidth=m,null==n.bgPath?(n.bgPath=o("path",d),e.addClass(n.bgPath,e.connectorOutlineClass),c(n.svg,n.bgPath,0)):r(n.bgPath,d),l(n.svg,n.bgPath,f,0,n)}null==n.path?(n.path=o("path",d),c(n.svg,n.path,i.outlineStroke?1:0)):r(n.path,d),l(n.svg,n.path,i,0,n)}}},t.extend(e.ConnectorRenderers.svg,u);var h=e.SvgEndpoint=function(t){u.apply(this,[{cssClass:t._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:t._jsPlumb}]).renderer.paint=function(t){var n=e.extend({},t);n.outlineStroke&&(n.stroke=n.outlineStroke),null==this.node?(this.node=this.makeNode(n),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),l(this.svg,this.node,n,(this.x,this.y,this.w,this.h),this),s(this.node,(this.x,this.y))}.bind(this)};t.extend(h,u),e.Endpoints.svg.Dot=function(){e.Endpoints.Dot.apply(this,arguments),h.apply(this,arguments),this.makeNode=function(e){return o("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(e){r(e,{cx:this.w/2,cy:this.h/2,r:this.radius})}},t.extend(e.Endpoints.svg.Dot,[e.Endpoints.Dot,h]),e.Endpoints.svg.Rectangle=function(){e.Endpoints.Rectangle.apply(this,arguments),h.apply(this,arguments),this.makeNode=function(e){return o("rect",{width:this.w,height:this.h})},this.updateNode=function(e){r(e,{width:this.w,height:this.h})}},t.extend(e.Endpoints.svg.Rectangle,[e.Endpoints.Rectangle,h]),e.Connectors.svg.Flowchart=function(){e.Connectors.Flowchart.apply(this,arguments),e.ConnectorRenderers.svg.apply(this,arguments)},t.extend(e.Connectors.svg.Flowchart,[e.Connectors.Flowchart,e.ConnectorRenderers.svg]),e.Connectors.svg.Bezier=function(){e.Connectors.Bezier.apply(this,arguments),e.ConnectorRenderers.svg.apply(this,arguments)},t.extend(e.Connectors.svg.Bezier,[e.Connectors.Bezier,e.ConnectorRenderers.svg]),e.Connectors.svg.Straight=function(){e.Connectors.Straight.apply(this,arguments),e.ConnectorRenderers.svg.apply(this,arguments)},t.extend(e.Connectors.svg.Straight,[e.Connectors.Straight,e.ConnectorRenderers.svg]),e.Connectors.svg.StateMachine=function(){e.Connectors.StateMachine.apply(this,arguments),e.ConnectorRenderers.svg.apply(this,arguments)},t.extend(e.Connectors.svg.StateMachine,[e.Connectors.StateMachine,e.ConnectorRenderers.svg]),e.Endpoints.svg.Image=e.Endpoints.Image,e.Endpoints.svg.Blank=e.Endpoints.Blank,e.Overlays.svg.Label=e.Overlays.Label,e.Overlays.svg.Custom=e.Overlays.Custom;var d=function(t,n){t.apply(this,n),e.jsPlumbUIComponent.apply(this,n),this.isAppendedAtTopLevel=!1,this.path=null,this.paint=function(e,t){if(e.component.svg&&t){null==this.path&&(this.path=o("path",{"pointer-events":"all"}),e.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,e.component),this.canvas=e.component.svg);var s=n&&1===n.length&&n[0].cssClass||"",a=[0,0];t.xmin<0&&(a[0]=-t.xmin),t.ymin<0&&(a[1]=-t.ymin),r(this.path,{d:i(e.d),class:s,stroke:e.stroke?e.stroke:null,fill:e.fill?e.fill:null,transform:"translate("+a[0]+","+a[1]+")"})}};var i=function(e){return isNaN(e.cxy.x)||isNaN(e.cxy.y)?"":"M"+e.hxy.x+","+e.hxy.y+" L"+e.tail[0].x+","+e.tail[0].y+" L"+e.cxy.x+","+e.cxy.y+" L"+e.tail[1].x+","+e.tail[1].y+" L"+e.hxy.x+","+e.hxy.y};this.transfer=function(e){e.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),e.canvas.appendChild(this.path))}};t.extend(d,[e.jsPlumbUIComponent,e.Overlays.AbstractOverlay],{cleanup:function(e){null!=this.path&&(e?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(e,t){this.path&&t.canvas&&t.canvas.appendChild(this.path)},setVisible:function(e){null!=this.path&&(this.path.style.display=e?"block":"none")}}),e.Overlays.svg.Arrow=function(){d.apply(this,[e.Overlays.Arrow,arguments])},t.extend(e.Overlays.svg.Arrow,[e.Overlays.Arrow,d]),e.Overlays.svg.PlainArrow=function(){d.apply(this,[e.Overlays.PlainArrow,arguments])},t.extend(e.Overlays.svg.PlainArrow,[e.Overlays.PlainArrow,d]),e.Overlays.svg.Diamond=function(){d.apply(this,[e.Overlays.Diamond,arguments])},t.extend(e.Overlays.svg.Diamond,[e.Overlays.Diamond,d]),e.Overlays.svg.GuideLines=function(){var t,n,i=null,s=this;e.Overlays.GuideLines.apply(this,arguments),this.paint=function(e,l){null==i&&(i=o("path"),e.connector.svg.appendChild(i),s.attachListeners(i,e.connector),s.attachListeners(i,s),t=o("path"),e.connector.svg.appendChild(t),s.attachListeners(t,e.connector),s.attachListeners(t,s),n=o("path"),e.connector.svg.appendChild(n),s.attachListeners(n,e.connector),s.attachListeners(n,s));var c=[0,0];l.xmin<0&&(c[0]=-l.xmin),l.ymin<0&&(c[1]=-l.ymin),r(i,{d:a(e.head,e.tail),stroke:"red",fill:null,transform:"translate("+c[0]+","+c[1]+")"}),r(t,{d:a(e.tailLine[0],e.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+c[0]+","+c[1]+")"}),r(n,{d:a(e.headLine[0],e.headLine[1]),stroke:"green",fill:null,transform:"translate("+c[0]+","+c[1]+")"})};var a=function(e,t){return"M "+e.x+","+e.y+" L"+t.x+","+t.y}},t.extend(e.Overlays.svg.GuideLines,e.Overlays.GuideLines)}.call("undefined"!=typeof window?window:this),function(){"use strict";var e,t,n=this.jsPlumb,i=this.jsPlumbUtil,r=this.Katavorio,o=this.Biltong,s=function(e,t){var i="_katavorio_"+(t=t||"main"),s=e[i],a=e.getEventManager();return s||((s=new r({bind:a.on,unbind:a.off,getSize:n.getSize,getConstrainingRectangle:function(e){return[e.parentNode.scrollWidth,e.parentNode.scrollHeight]},getPosition:function(t,n){var i=e.getOffset(t,n,t._katavorioDrag?t.offsetParent:null);return[i.left,i.top]},setPosition:function(e,t){e.style.left=t[0]+"px",e.style.top=t[1]+"px"},addClass:n.addClass,removeClass:n.removeClass,intersects:o.intersects,indexOf:function(e,t){return e.indexOf(t)},scope:e.getDefaultScope(),css:{noSelect:e.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}})).setZoom(e.getZoom()),e[i]=s,e.bind("zoom",s.setZoom)),s};n.extend(this.jsPlumbInstance.prototype,{animationSupported:!0,getElement:function(e){return null==e?null:"string"==typeof(e="string"==typeof e?e:null!=e.length&&null==e.enctype?e[0]:e)?document.getElementById(e):e},removeElement:function(e){s(this).elementRemoved(e),this.getEventManager().remove(e)},doAnimate:function(e,t,r){r=r||{};var o=this.getOffset(e),s=function(e,t){var n=function(n){if(null!=t[n]){if(i.isString(t[n])){var r=t[n].match(/-=/)?-1:1,o=t[n].substring(2);return e[n]+r*o}return t[n]}return e[n]};return[n("left"),n("top")]}(o,t),a=s[0]-o.left,l=s[1]-o.top,c=r.duration||250,u=c/15,h=15/c*a,d=15/c*l,f=0,p=setInterval(function(){n.setPosition(e,{left:o.left+h*(f+1),top:o.top+d*(f+1)}),null!=r.step&&r.step(f,Math.ceil(u)),++f>=u&&(window.clearInterval(p),null!=r.complete&&r.complete())},15)},destroyDraggable:function(e,t){s(this,t).destroyDraggable(e)},destroyDroppable:function(e,t){s(this,t).destroyDroppable(e)},initDraggable:function(e,t,n){s(this,n).draggable(e,t)},initDroppable:function(e,t,n){s(this,n).droppable(e,t)},isAlreadyDraggable:function(e){return null!=e._katavorioDrag},isDragSupported:function(e,t){return!0},isDropSupported:function(e,t){return!0},isElementDraggable:function(e){return(e=n.getElement(e))._katavorioDrag&&e._katavorioDrag.isEnabled()},getDragObject:function(e){return e[0].drag.getDragElement()},getDragScope:function(e){return e._katavorioDrag&&e._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(e){return e[0].e},getUIPosition:function(e,t){var n=e[0].el;if(null==n.offsetParent)return null;var i=e[0].finalPos||e[0].pos,r={left:i[0],top:i[1]};if(n._katavorioDrag&&n.offsetParent!==this.getContainer()){var o=this.getOffset(n.offsetParent);r.left+=o.left,r.top+=o.top}return r},setDragFilter:function(e,t,n){e._katavorioDrag&&e._katavorioDrag.setFilter(t,n)},setElementDraggable:function(e,t){(e=n.getElement(e))._katavorioDrag&&e._katavorioDrag.setEnabled(t)},setDragScope:function(e,t){e._katavorioDrag&&e._katavorioDrag.k.setDragScope(e,t)},setDropScope:function(e,t){e._katavorioDrop&&e._katavorioDrop.length>0&&e._katavorioDrop[0].k.setDropScope(e,t)},addToPosse:function(e,t){var i=Array.prototype.slice.call(arguments,1),r=s(this);n.each(e,function(e){(e=[n.getElement(e)]).push.apply(e,i),r.addToPosse.apply(r,e)})},setPosse:function(e,t){var i=Array.prototype.slice.call(arguments,1),r=s(this);n.each(e,function(e){(e=[n.getElement(e)]).push.apply(e,i),r.setPosse.apply(r,e)})},removeFromPosse:function(e,t){var i=Array.prototype.slice.call(arguments,1),r=s(this);n.each(e,function(e){(e=[n.getElement(e)]).push.apply(e,i),r.removeFromPosse.apply(r,e)})},removeFromAllPosses:function(e){var t=s(this);n.each(e,function(e){t.removeFromAllPosses(n.getElement(e))})},setPosseState:function(e,t,i){var r=s(this);n.each(e,function(e){r.setPosseState(n.getElement(e),t,i)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(e){e._katavorioDrag&&e._katavorioDrag.abort()},addToDragSelection:function(e){s(this).select(e)},removeFromDragSelection:function(e){s(this).deselect(e)},clearDragSelection:function(){s(this).deselectAll()},trigger:function(e,t,n,i){this.getEventManager().trigger(e,t,n,i)},doReset:function(){for(var e in this)0===e.indexOf("_katavorio_")&&this[e].reset()}}),e=n.init,(t=function(){/complete|loaded|interactive/.test(document.readyState)&&void 0!==document.body&&null!=document.body?e():setTimeout(t,9)})()}.call("undefined"!=typeof window?window:this)},function(e,t,n){"use strict";const i=(e,t)=>0!=(t=t||"").replace(/\s/g,"").length&&new RegExp(" "+t+" ").test(" "+e.className+" ");t.a=((e,t)=>{i(e,t)||(e.className=""==e.className?t:e.className+" "+t)}),t.b=((e,t)=>{if(i(e,t)){let n=" "+e.className.replace(/[\t\r\n]/g,"")+" ";for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}})},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(17),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t){return new Md5(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null===e||void 0===e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw ERROR;if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw ERROR;t=!0}for(var i,r,o=0,s=e.length,a=this.blocks,l=this.buffer8;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)if(ARRAY_BUFFER)for(r=this.start;o<s&&r<64;++o)l[r++]=e[o];else for(r=this.start;o<s&&r<64;++o)a[r>>2]|=e[o]<<SHIFT[3&r++];else if(ARRAY_BUFFER)for(r=this.start;o<s&&r<64;++o)(i=e.charCodeAt(o))<128?l[r++]=i:i<2048?(l[r++]=192|i>>6,l[r++]=128|63&i):i<55296||i>=57344?(l[r++]=224|i>>12,l[r++]=128|i>>6&63,l[r++]=128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++o)),l[r++]=240|i>>18,l[r++]=128|i>>12&63,l[r++]=128|i>>6&63,l[r++]=128|63&i);else for(r=this.start;o<s&&r<64;++o)(i=e.charCodeAt(o))<128?a[r>>2]|=i<<SHIFT[3&r++]:i<2048?(a[r>>2]|=(192|i>>6)<<SHIFT[3&r++],a[r>>2]|=(128|63&i)<<SHIFT[3&r++]):i<55296||i>=57344?(a[r>>2]|=(224|i>>12)<<SHIFT[3&r++],a[r>>2]|=(128|i>>6&63)<<SHIFT[3&r++],a[r>>2]|=(128|63&i)<<SHIFT[3&r++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++o)),a[r>>2]|=(240|i>>18)<<SHIFT[3&r++],a[r>>2]|=(128|i>>12&63)<<SHIFT[3&r++],a[r>>2]|=(128|i>>6&63)<<SHIFT[3&r++],a[r>>2]|=(128|63&i)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,n,i,r,o,s=this.blocks;this.first?t=((t=((e=((e=s[0]-680876937)<<7|e>>>25)-271733879<<0)^(n=((n=(-271733879^(i=((i=(-1732584194^2004318071&e)+s[1]-117830708)<<12|i>>>20)+e<<0)&(-271733879^e))+s[2]-1126478375)<<17|n>>>15)+i<<0)&(i^e))+s[3]-1316259209)<<22|t>>>10)+n<<0:(e=this.h0,t=this.h1,n=this.h2,t=((t+=((e=((e+=((i=this.h3)^t&(n^i))+s[0]-680876936)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+s[1]-389564586)<<12|i>>>20)+e<<0)&(e^t))+s[2]+606105819)<<17|n>>>15)+i<<0)&(i^e))+s[3]-1044525330)<<22|t>>>10)+n<<0),t=((t+=((e=((e+=(i^t&(n^i))+s[4]-176418897)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+s[5]+1200080426)<<12|i>>>20)+e<<0)&(e^t))+s[6]-1473231341)<<17|n>>>15)+i<<0)&(i^e))+s[7]-45705983)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(i^t&(n^i))+s[8]+1770035416)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+s[9]-1958414417)<<12|i>>>20)+e<<0)&(e^t))+s[10]-42063)<<17|n>>>15)+i<<0)&(i^e))+s[11]-1990404162)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(i^t&(n^i))+s[12]+1804603682)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+s[13]-40341101)<<12|i>>>20)+e<<0)&(e^t))+s[14]-1502002290)<<17|n>>>15)+i<<0)&(i^e))+s[15]+1236535329)<<22|t>>>10)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+s[1]-165796510)<<5|e>>>27)+t<<0)^t))+s[6]-1069501632)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+s[11]+643717713)<<14|n>>>18)+i<<0)^i))+s[0]-373897302)<<20|t>>>12)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+s[5]-701558691)<<5|e>>>27)+t<<0)^t))+s[10]+38016083)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+s[15]-660478335)<<14|n>>>18)+i<<0)^i))+s[4]-405537848)<<20|t>>>12)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+s[9]+568446438)<<5|e>>>27)+t<<0)^t))+s[14]-1019803690)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+s[3]-187363961)<<14|n>>>18)+i<<0)^i))+s[8]+1163531501)<<20|t>>>12)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+s[13]-1444681467)<<5|e>>>27)+t<<0)^t))+s[2]-51403784)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+s[7]+1735328473)<<14|n>>>18)+i<<0)^i))+s[12]-1926607734)<<20|t>>>12)+n<<0,t=((t+=((o=(i=((i+=((r=t^n)^(e=((e+=(r^i)+s[5]-378558)<<4|e>>>28)+t<<0))+s[8]-2022574463)<<11|i>>>21)+e<<0)^e)^(n=((n+=(o^t)+s[11]+1839030562)<<16|n>>>16)+i<<0))+s[14]-35309556)<<23|t>>>9)+n<<0,t=((t+=((o=(i=((i+=((r=t^n)^(e=((e+=(r^i)+s[1]-1530992060)<<4|e>>>28)+t<<0))+s[4]+1272893353)<<11|i>>>21)+e<<0)^e)^(n=((n+=(o^t)+s[7]-155497632)<<16|n>>>16)+i<<0))+s[10]-1094730640)<<23|t>>>9)+n<<0,t=((t+=((o=(i=((i+=((r=t^n)^(e=((e+=(r^i)+s[13]+681279174)<<4|e>>>28)+t<<0))+s[0]-358537222)<<11|i>>>21)+e<<0)^e)^(n=((n+=(o^t)+s[3]-722521979)<<16|n>>>16)+i<<0))+s[6]+76029189)<<23|t>>>9)+n<<0,t=((t+=((o=(i=((i+=((r=t^n)^(e=((e+=(r^i)+s[9]-640364487)<<4|e>>>28)+t<<0))+s[12]-421815835)<<11|i>>>21)+e<<0)^e)^(n=((n+=(o^t)+s[15]+530742520)<<16|n>>>16)+i<<0))+s[2]-995338651)<<23|t>>>9)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+s[0]-198630844)<<6|e>>>26)+t<<0)|~n))+s[7]+1126891415)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+s[14]-1416354905)<<15|n>>>17)+i<<0)|~e))+s[5]-57434055)<<21|t>>>11)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+s[12]+1700485571)<<6|e>>>26)+t<<0)|~n))+s[3]-1894986606)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+s[10]-1051523)<<15|n>>>17)+i<<0)|~e))+s[1]-2054922799)<<21|t>>>11)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+s[8]+1873313359)<<6|e>>>26)+t<<0)|~n))+s[15]-30611744)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+s[6]-1560198380)<<15|n>>>17)+i<<0)|~e))+s[13]+1309151649)<<21|t>>>11)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+s[4]-145523070)<<6|e>>>26)+t<<0)|~n))+s[11]-1120210379)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+s[2]+718787259)<<15|n>>>17)+i<<0)|~e))+s[9]-343485551)<<21|t>>>11)+n<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=i+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+i<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,n,i="",r=this.array(),o=0;o<15;)e=r[o++],t=r[o++],n=r[o++],i+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return e=r[o],i+(BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(exports,__webpack_require__(15),__webpack_require__(16))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&f())}function f(){if(!u){var e=a(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5MCA5MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiM5OTk7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5jdGbmk43kvZzlm77moIc8L3RpdGxlPjxnIGlkPSLlm77lsYJfMyIgZGF0YS1uYW1lPSLlm77lsYIgMyI+PGcgaWQ9IuaLk+aJkeWkp+Wbvl/liKDpmaTlj6rlh7rnjrDlnKjlkI7lj7DphY3nva5fIiBkYXRhLW5hbWU9IuaLk+aJkeWkp+Wbvu+8iOWIoOmZpOWPquWHuueOsOWcqOWQjuWPsOmFjee9ru+8iSI+PGcgaWQ9IuWkp+WbviI+PGcgaWQ9IuWbvuekuiI+PGcgaWQ9IuWIoOmZpCI+PHBhdGggaWQ9IuWeg+WcvuahtiIgY2xhc3M9ImNscy0xIiBkPSJNMzksMjIuNXYtMmEyLDIsMCwwLDEsMi0yaDhhMiwyLDAsMCwxLDIsMnYySDY4YTIsMiwwLDAsMSwyLDJ2MmEyLDIsMCwwLDEtMiwySDIyYTIsMiwwLDAsMS0yLTJ2LTJhMiwyLDAsMCwxLDItMlptLTEyLDlINjNhMiwyLDAsMCwxLDIsMnYzNmEyLDIsMCwwLDEtMiwySDI3YTIsMiwwLDAsMS0yLTJ2LTM2QTIsMiwwLDAsMSwyNywzMS41Wm00LDd2MjhoNnYtMjhabTExLDB2MjhoNnYtMjhabTExLDB2MjhoNnYtMjhaIi8+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0i5Zu+5bGCXzEiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9IjAgMCA5MCA5MCI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTIsLmNscy02e2ZpbGw6bm9uZTt9LmNscy0ye2NsaXAtcnVsZTpldmVub2RkO30uY2xzLTN7Y2xpcC1wYXRoOnVybCgjY2xpcC1wYXRoKTt9LmNscy00e2NsaXAtcGF0aDp1cmwoI2NsaXAtcGF0aC0yKTt9LmNscy01e2ZpbGw6I2FmNzZmZTt9LmNscy02e3N0cm9rZTojOTAxM2ZlO3N0cm9rZS1taXRlcmxpbWl0OjEwO3N0cm9rZS13aWR0aDoycHg7fS5jbHMtN3tjbGlwLXBhdGg6dXJsKCNjbGlwLXBhdGgtNCk7fS5jbHMtOHtjbGlwLXBhdGg6dXJsKCNjbGlwLXBhdGgtNik7fS5jbHMtOXtjbGlwLXBhdGg6dXJsKCNjbGlwLXBhdGgtOCk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTU4LjU5LDQ1Ljc1SDcxYTI2LjE0LDI2LjE0LDAsMCwxLTUuODgsMTUuMzYsNDEuNjIsNDEuNjIsMCwwLDAtOC4wNi0zLjQyQTUzLjYzLDUzLjYzLDAsMCwwLDU4LjU5LDQ1Ljc1Wm01LDE3LjFBMjYuMDYsMjYuMDYsMCwwLDEsNTEuMDYsNzBhMjUuNTgsMjUuNTgsMCwwLDAsNS4zOC0xMC4wOUEzOS4xNywzOS4xNywwLDAsMSw2My41Niw2Mi44NVpNNDYuMjQsNzAuNDdWNTguMmEzOS44NCwzOS44NCwwLDAsMSw4LDEuMDhDNTIuMyw2NS40OSw0OS4yNiw2OS41Niw0Ni4yNCw3MC40N1ptOC42My0xMy4zOGE0MS42Myw0MS42MywwLDAsMC04LjYzLTEuMTZWNDUuNzVINTYuMzFBNTEuMDYsNTEuMDYsMCwwLDEsNTQuODcsNTcuMDlabTEuNDQtMTMuODRINDYuMjRWMzMuMDZhNDEuNDQsNDEuNDQsMCwwLDAsOC42Mi0xLjE2QTUwLjU0LDUwLjU0LDAsMCwxLDU2LjMxLDQzLjI1Wk0zOC44NSw3MGEyNiwyNiwwLDAsMS0xMi40MS03LjEsMzkuNDUsMzkuNDUsMCwwLDEsNy4wNS0zQTI1LjU3LDI1LjU3LDAsMCwwLDM4Ljg1LDcwWm0tNi0xMi4yNGE0MS42NCw0MS42NCwwLDAsMC04LDMuNEEyNi4xNCwyNi4xNCwwLDAsMSwxOSw0NS43NUgzMS4zNEE1My4yMSw1My4yMSwwLDAsMCwzMi44OCw1Ny43MVpNMzEuMzQsNDMuMjVIMTlhMjYuMTQsMjYuMTQsMCwwLDEsNS44OC0xNS4zNiw0MSw0MSwwLDAsMCw4LDMuNEE1My4yOSw1My4yOSwwLDAsMCwzMS4zNCw0My4yNVptLTQuODktMTcuMWEyNS44OCwyNS44OCwwLDAsMSwxMi40LTcuMSwyNS41MywyNS41MywwLDAsMC01LjM2LDEwQTM4LjYsMzguNiwwLDAsMSwyNi40NSwyNi4xNVpNNDMuNzYsMTguNVYzMC43OGEzOC4zNywzOC4zNywwLDAsMS04LjA3LTEuMDlDMzcuNjUsMjMuNDUsNDAuNzIsMTkuMzcsNDMuNzYsMTguNVpNMzUuMDcsMzEuODlhNDIuMjEsNDIuMjEsMCwwLDAsOC42OSwxLjE3VjQzLjI1SDMzLjYyQTUwLjcxLDUwLjcxLDAsMCwxLDM1LjA3LDMxLjg5Wk0zMy42Miw0NS43NUg0My43NlY1NS45M2E0MS41NCw0MS41NCwwLDAsMC04LjY5LDEuMThBNTAuMDYsNTAuMDYsMCwwLDEsMzMuNjIsNDUuNzVaTTM1LjY4LDU5LjNhMzkuMjMsMzkuMjMsMCwwLDEsOC4wOC0xLjFWNzAuNUM0MC43Miw2OS42MiwzNy42NSw2NS41NSwzNS42OCw1OS4zWk00Ni4yNCwzMC43OFYxOC41M2MzLC45Miw2LjA2LDUsOCwxMS4xN0EzOC41NSwzOC41NSwwLDAsMSw0Ni4yNCwzMC43OFpNNTEuMDYsMTlhMjUuOTEsMjUuOTEsMCwwLDEsMTIuNDksNy4xMiw0MC4wNyw0MC4wNywwLDAsMS03LjExLDNBMjUuNTMsMjUuNTMsMCwwLDAsNTEuMDYsMTlabTYsMTIuMjdhNDEuNjgsNDEuNjgsMCwwLDAsOC4wNi0zLjQxQTI2LjA5LDI2LjA5LDAsMCwxLDcxLDQzLjI1SDU4LjU5QTUzLjEyLDUzLjEyLDAsMCwwLDU3LjA1LDMxLjNaIi8+PC9jbGlwUGF0aD48Y2xpcFBhdGggaWQ9ImNsaXAtcGF0aC0yIj48cmVjdCBjbGFzcz0iY2xzLTEiIHg9IjEzIiB5PSIxMi41IiB3aWR0aD0iNjQiIGhlaWdodD0iNjUiLz48L2NsaXBQYXRoPjxjbGlwUGF0aCBpZD0iY2xpcC1wYXRoLTQiPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTIzLDE5LjVoMGEzLDMsMCwwLDEsMywyLjk1di4wN2EzLDMsMCwwLDEtNS45MSwwdi0uMDdBMywzLDAsMCwxLDIzLDE5LjVaIi8+PC9jbGlwUGF0aD48Y2xpcFBhdGggaWQ9ImNsaXAtcGF0aC02Ij48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik00NSw3MS41aDBhMywzLDAsMCwxLDMsM3YuMDdhMywzLDAsMCwxLTUuOTEsMHYtLjA3QTMsMywwLDAsMSw0NSw3MS41WiIvPjwvY2xpcFBhdGg+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgtOCI+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNNjYuNTQsMTkuNWgwYTMsMywwLDAsMSwyLjk1LDIuOTV2LjA3YTIuOTUsMi45NSwwLDAsMS01LjksMHYtLjA3QTMsMywwLDAsMSw2Ni41NCwxOS41WiIvPjwvY2xpcFBhdGg+PC9kZWZzPjx0aXRsZT5jdGbmk43kvZzlm77moIc8L3RpdGxlPjxnIGNsYXNzPSJjbHMtMyI+PGcgY2xhc3M9ImNscy00Ij48cmVjdCBjbGFzcz0iY2xzLTUiIHg9IjE0IiB5PSIxMy41IiB3aWR0aD0iNjIiIGhlaWdodD0iNjIiLz48L2c+PC9nPjxnIGNsYXNzPSJjbHMtNCI+PGNpcmNsZSBjbGFzcz0iY2xzLTYiIGN4PSI0NSIgY3k9IjQ0LjUiIHI9IjMxIi8+PC9nPjxnIGNsYXNzPSJjbHMtNyI+PGcgY2xhc3M9ImNscy00Ij48cmVjdCBjbGFzcz0iY2xzLTUiIHg9IjE1IiB5PSIxNC41IiB3aWR0aD0iMTUuOTEiIGhlaWdodD0iMTUuOTciLz48L2c+PC9nPjxnIGNsYXNzPSJjbHMtOCI+PGcgY2xhc3M9ImNscy00Ij48cmVjdCBjbGFzcz0iY2xzLTUiIHg9IjM3IiB5PSI2Ni41IiB3aWR0aD0iMTUuOTEiIGhlaWdodD0iMTUuOTciLz48L2c+PC9nPjxnIGNsYXNzPSJjbHMtOSI+PGcgY2xhc3M9ImNscy00Ij48cmVjdCBjbGFzcz0iY2xzLTUiIHg9IjU4LjU5IiB5PSIxNC41IiB3aWR0aD0iMTUuOTEiIGhlaWdodD0iMTUuOTciLz48L2c+PC9nPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5MCA5MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMGNkYTU7fS5jbHMtMntmaWxsOm5vbmU7c3Ryb2tlOiMwYmExODQ7c3Ryb2tlLXdpZHRoOjJweDt9LmNscy0ze2ZpbGw6I2ZmZjt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmN0ZuaTjeS9nOWbvuaghzwvdGl0bGU+PGcgaWQ9IuWbvuWxgl80IiBkYXRhLW5hbWU9IuWbvuWxgiA0Ij48ZyBpZD0i5ouT5omR5aSn5Zu+Ij48ZyBpZD0i5aSn5Zu+Ij48ZyBpZD0i5Zu+56S6Ij48ZyBpZD0i6Jma5ouf5py6Ij48ZyBpZD0iUmVjdGFuZ2xlLTYiPjxyZWN0IGlkPSJwYXRoLTEiIGNsYXNzPSJjbHMtMSIgeD0iMTQiIHk9IjE3IiB3aWR0aD0iNjIiIGhlaWdodD0iNDQuMzYiIHJ4PSIyIiByeT0iMiIvPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMTUiIHk9IjE4IiB3aWR0aD0iNjAiIGhlaWdodD0iNDIuMzYiIHJ4PSIyIiByeT0iMiIvPjxyZWN0IGlkPSJwYXRoLTIiIGNsYXNzPSJjbHMtMSIgeD0iMjUuNjMiIHk9IjY1LjIxIiB3aWR0aD0iMzguNzUiIGhlaWdodD0iNS43OSIgcng9IjIiIHJ5PSIyIi8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMjguNTIsNzBoMzNhMS45LDEuOSwwLDAsMCwxLjktMS44OWgwYTEuOSwxLjksMCwwLDAtMS45LTEuOWgtMzNhMS45LDEuOSwwLDAsMC0xLjksMS45aDBBMS45LDEuOSwwLDAsMCwyOC41Miw3MFoiLz48cGF0aCBpZD0icGF0aC0zIiBjbGFzcz0iY2xzLTEiIGQ9Ik0zNy44NSw1OS40M2gxNC4zYTIsMiwwLDAsMSwyLDEuNzRsLjQ4LDMuNzJhMiwyLDAsMCwxLTEuNzMsMi4yNEgzNy4zOGEyLDIsMCwwLDEtMi0yLDIuMDksMi4wOSwwLDAsMSwwLS4yNWwuNDgtMy43MkEyLDIsMCwwLDEsMzcuODUsNTkuNDNaIi8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMzcuODUsNjAuNDNhMSwxLDAsMCwwLTEsLjg3TDM2LjM5LDY1YS40OS40OSwwLDAsMCwwLC4xMiwxLDEsMCwwLDAsMSwxSDUyLjc1QTEsMSwwLDAsMCw1My42MSw2NWwtLjQ3LTMuNzJhMSwxLDAsMCwwLTEtLjg3WiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMyIgcG9pbnRzPSIxOS44MSAyMi43OSA3MC4xOSAyMi43OSA3MC4xOSA1My42NCAxOS44MSA1My42NCAxOS44MSAyMi43OSIvPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgOTAgOTAiPjxkZWZzPjxzdHlsZT4uY2xzLTEsLmNscy0yLC5jbHMtNntmaWxsOm5vbmU7fS5jbHMtMntjbGlwLXJ1bGU6ZXZlbm9kZDt9LmNscy0ze2NsaXAtcGF0aDp1cmwoI2NsaXAtcGF0aCk7fS5jbHMtNHtjbGlwLXBhdGg6dXJsKCNjbGlwLXBhdGgtMik7fS5jbHMtNXtmaWxsOiNmZmNkMGY7fS5jbHMtNntzdHJva2U6I2MwYTAyYTtzdHJva2UtbWl0ZXJsaW1pdDoxMDtzdHJva2Utd2lkdGg6MS45MnB4O30uY2xzLTd7Y2xpcC1wYXRoOnVybCgjY2xpcC1wYXRoLTQpO30uY2xzLTh7ZmlsbDojZmZmO30uY2xzLTl7Y2xpcC1wYXRoOnVybCgjY2xpcC1wYXRoLTYpO30uY2xzLTEwe2NsaXAtcGF0aDp1cmwoI2NsaXAtcGF0aC04KTt9LmNscy0xMXtjbGlwLXBhdGg6dXJsKCNjbGlwLXBhdGgtMTApO308L3N0eWxlPjxjbGlwUGF0aCBpZD0iY2xpcC1wYXRoIj48Y2lyY2xlIGNsYXNzPSJjbHMtMSIgY3g9IjQ1IiBjeT0iNDUiIHI9IjMyIi8+PC9jbGlwUGF0aD48Y2xpcFBhdGggaWQ9ImNsaXAtcGF0aC0yIj48cmVjdCBjbGFzcz0iY2xzLTEiIHg9IjEyIiB5PSIxMiIgd2lkdGg9IjY2IiBoZWlnaHQ9IjY2Ii8+PC9jbGlwUGF0aD48Y2xpcFBhdGggaWQ9ImNsaXAtcGF0aC00Ij48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik01Nyw0M0g2OC4zdjRINTd2My41OWEuNjQuNjQsMCwwLDEtLjY0LjY0LjY3LjY3LDAsMCwxLS40Mi0uMTZsLTYuMzktNS41OWEuNjQuNjQsMCwwLDEtLjA2LS45bC4wNi0uMDYsNi4zOS01LjU5YS42My42MywwLDAsMSwuOS4wNi42Ny42NywwLDAsMSwuMTYuNDJaIi8+PC9jbGlwUGF0aD48Y2xpcFBhdGggaWQ9ImNsaXAtcGF0aC02Ij48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0zMyw0M0gyMS43djRIMzN2My41OWEuNjQuNjQsMCwwLDAsLjY0LjY0LjY3LjY3LDAsMCwwLC40Mi0uMTZsNi4zOS01LjU5YS42NC42NCwwLDAsMCwuMDYtLjlsLS4wNi0uMDYtNi4zOS01LjU5YS42My42MywwLDAsMC0uOS4wNi42Ny42NywwLDAsMC0uMTYuNDJaIi8+PC9jbGlwUGF0aD48Y2xpcFBhdGggaWQ9ImNsaXAtcGF0aC04Ij48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik00Myw2MVY0OS43aDRWNjFoMy41OWEuNjQuNjQsMCwwLDEsLjY0LjY0LjY3LjY3LDAsMCwxLS4xNi40MmwtNS41OSw2LjM5YS42NC42NCwwLDAsMS0uOS4wNmwtLjA2LS4wNi01LjU5LTYuMzlhLjYzLjYzLDAsMCwxLC4wNi0uOS42Ny42NywwLDAsMSwuNDItLjE2WiIvPjwvY2xpcFBhdGg+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgtMTAiPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTQzLDI5LjM3djExLjNoNFYyOS4zN2gzLjU5YS42NC42NCwwLDAsMCwuNjQtLjY0LjY3LjY3LDAsMCwwLS4xNi0uNDNsLTUuNTktNi4zOGEuNjMuNjMsMCwwLDAtLjktLjA2bC0uMDYuMDZMMzguOTMsMjguM2EuNjUuNjUsMCwwLDAsLjA2LjkxLjY3LjY3LDAsMCwwLC40Mi4xNloiLz48L2NsaXBQYXRoPjwvZGVmcz48dGl0bGU+Y3Rm5pON5L2c5Zu+5qCHPC90aXRsZT48ZyBpZD0i5Zu+5bGCXzUiIGRhdGEtbmFtZT0i5Zu+5bGCIDUiPjxnIGNsYXNzPSJjbHMtMyI+PGcgY2xhc3M9ImNscy00Ij48cmVjdCBjbGFzcz0iY2xzLTUiIHg9IjgiIHk9IjgiIHdpZHRoPSI3NCIgaGVpZ2h0PSI3NCIvPjwvZz48L2c+PGcgY2xhc3M9ImNscy00Ij48Y2lyY2xlIGNsYXNzPSJjbHMtNiIgY3g9IjQ1IiBjeT0iNDUiIHI9IjMyIi8+PC9nPjxnIGNsYXNzPSJjbHMtNyI+PGcgY2xhc3M9ImNscy00Ij48cmVjdCBjbGFzcz0iY2xzLTgiIHg9IjQ0LjMzIiB5PSIzMy43NyIgd2lkdGg9IjI4Ljk3IiBoZWlnaHQ9IjIyLjQ2Ii8+PC9nPjwvZz48ZyBjbGFzcz0iY2xzLTkiPjxnIGNsYXNzPSJjbHMtNCI+PHJlY3QgY2xhc3M9ImNscy04IiB4PSIxNi43IiB5PSIzMy43NyIgd2lkdGg9IjI4Ljk3IiBoZWlnaHQ9IjIyLjQ2Ii8+PC9nPjwvZz48ZyBjbGFzcz0iY2xzLTEwIj48ZyBjbGFzcz0iY2xzLTQiPjxyZWN0IGNsYXNzPSJjbHMtOCIgeD0iMzMuNzciIHk9IjQ0LjciIHdpZHRoPSIyMi40NiIgaGVpZ2h0PSIyOC45NyIvPjwvZz48L2c+PGcgY2xhc3M9ImNscy0xMSI+PGcgY2xhc3M9ImNscy00Ij48cmVjdCBjbGFzcz0iY2xzLTgiIHg9IjMzLjc3IiB5PSIxNi43IiB3aWR0aD0iMjIuNDYiIGhlaWdodD0iMjguOTciLz48L2c+PC9nPjwvZz48L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5MCA5MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmY2FhNGE7fS5jbHMtMntmaWxsOm5vbmU7c3Ryb2tlOiNmZjg1MDM7c3Ryb2tlLXdpZHRoOjJweDt9LmNscy0ze2ZpbGw6I2ZmODUwMzt9LmNscy00e2ZpbGw6I2ZmZjt9LmNscy01e2ZpbGw6IzY2Njt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmN0ZuaTjeS9nOWbvuaghzwvdGl0bGU+PGcgaWQ9IuWbvuWxgl8yIiBkYXRhLW5hbWU9IuWbvuWxgiAyIj48ZyBpZD0i5ouT5omR5aSn5Zu+Ij48ZyBpZD0i5aSn5Zu+Ij48ZyBpZD0i5Zu+56S6Ij48ZyBpZD0i5Lqk5o2i5py6Ij48ZyBpZD0i5py66LqrIj48ZyBpZD0iUmVjdGFuZ2xlLTQiPjxwYXRoIGlkPSJwYXRoLTEiIGNsYXNzPSJjbHMtMSIgZD0iTTE5LDE2LjVINzNhMiwyLDAsMCwxLDIsMlY2MUgxN1YxOC41QTIsMiwwLDAsMSwxOSwxNi41WiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTE4LDYwSDc0VjE4LjVhMSwxLDAsMCwwLTEtMUgxOWExLDEsMCwwLDAtMSwxWiIvPjwvZz48cGF0aCBpZD0iUmVjdGFuZ2xlLTQtMiIgZGF0YS1uYW1lPSJSZWN0YW5nbGUtNCIgY2xhc3M9ImNscy0zIiBkPSJNMTcsNjFINzVWNzIuNWEyLDIsMCwwLDEtMiwySDE5YTIsMiwwLDAsMS0yLTJaIi8+PHJlY3QgaWQ9IlJlY3RhbmdsZS01IiBjbGFzcz0iY2xzLTQiIHg9IjE5LjkiIHk9IjYwLjk3IiB3aWR0aD0iNTIuMiIgaGVpZ2h0PSIxMS42IiByeD0iMiIgcnk9IjIiLz48L2c+PGcgaWQ9IueCuSI+PHBhdGggaWQ9IlJlY3RhbmdsZS0zIiBjbGFzcz0iY2xzLTUiIGQ9Ik0yNi42Niw2NC44M2gwYTEuOTIsMS45MiwwLDAsMSwxLjkyLDEuOTNoMGExLjkyLDEuOTIsMCwwLDEtMS45MiwxLjkyaDBhMS45MiwxLjkyLDAsMCwxLTEuOTMtMS45MmgwQTEuOTIsMS45MiwwLDAsMSwyNi42Niw2NC44M1oiLz48cGF0aCBpZD0iUmVjdGFuZ2xlLTMtMiIgZGF0YS1uYW1lPSJSZWN0YW5nbGUtMyIgY2xhc3M9ImNscy01IiBkPSJNMzQuMzksNjQuODNoMGExLjkyLDEuOTIsMCwwLDEsMS45MiwxLjkzaDBhMS45MiwxLjkyLDAsMCwxLTEuOTIsMS45MmgwYTEuOTIsMS45MiwwLDAsMS0xLjkyLTEuOTJoMEExLjkyLDEuOTIsMCwwLDEsMzQuMzksNjQuODNaIi8+PHBhdGggaWQ9IlJlY3RhbmdsZS0zLTMiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlLTMiIGNsYXNzPSJjbHMtNSIgZD0iTTQyLjEyLDY0LjgzaDBhMS45MiwxLjkyLDAsMCwxLDEuOTMsMS45M2gwYTEuOTIsMS45MiwwLDAsMS0xLjkzLDEuOTJoMGExLjkyLDEuOTIsMCwwLDEtMS45Mi0xLjkyaDBBMS45MiwxLjkyLDAsMCwxLDQyLjEyLDY0LjgzWiIvPjxwYXRoIGlkPSJSZWN0YW5nbGUtMy00IiBkYXRhLW5hbWU9IlJlY3RhbmdsZS0zIiBjbGFzcz0iY2xzLTUiIGQ9Ik00OS44Niw2NC44M2gwYTEuOTIsMS45MiwwLDAsMSwxLjkyLDEuOTNoMGExLjkyLDEuOTIsMCwwLDEtMS45MiwxLjkyaDBhMS45MiwxLjkyLDAsMCwxLTEuOTMtMS45MmgwQTEuOTIsMS45MiwwLDAsMSw0OS44Niw2NC44M1oiLz48cGF0aCBpZD0iUmVjdGFuZ2xlLTMtNSIgZGF0YS1uYW1lPSJSZWN0YW5nbGUtMyIgY2xhc3M9ImNscy01IiBkPSJNNTcuNTksNjQuODNoMGExLjkyLDEuOTIsMCwwLDEsMS45MiwxLjkzaDBhMS45MiwxLjkyLDAsMCwxLTEuOTIsMS45MmgwYTEuOTIsMS45MiwwLDAsMS0xLjkyLTEuOTJoMEExLjkyLDEuOTIsMCwwLDEsNTcuNTksNjQuODNaIi8+PHBhdGggaWQ9IlJlY3RhbmdsZS0zLTYiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlLTMiIGNsYXNzPSJjbHMtNSIgZD0iTTY1LjMyLDY0LjgzaDBhMS45MiwxLjkyLDAsMCwxLDEuOTMsMS45M2gwYTEuOTIsMS45MiwwLDAsMS0xLjkzLDEuOTJoMGExLjkyLDEuOTIsMCwwLDEtMS45Mi0xLjkyaDBBMS45MiwxLjkyLDAsMCwxLDY1LjMyLDY0LjgzWiIvPjwvZz48ZyBpZD0iR3JvdXAtMiI+PGcgaWQ9Ikdyb3VwIj48cGF0aCBpZD0iQ29tYmluZWQtU2hhcGUiIGNsYXNzPSJjbHMtNCIgZD0iTTMzLjksMjYuMzlINDQuNTZ2My44N0gzMy45djMuMzlhLjY0LjY0LDAsMCwxLS42NC42NC42Mi42MiwwLDAsMS0uNDMtLjE2TDI2Ljg4LDI4LjhhLjY1LjY1LDAsMCwxLDAtLjkxbDAsMCw1Ljk1LTUuMzRhLjY0LjY0LDAsMCwxLC45LDAsLjYzLjYzLDAsMCwxLC4xNy40M1oiLz48cGF0aCBpZD0iQ29tYmluZWQtU2hhcGUtMiIgZGF0YS1uYW1lPSJDb21iaW5lZC1TaGFwZSIgY2xhc3M9ImNscy00IiBkPSJNMzMuOSw0Mi44Mkg0NC41NnYzLjg3SDMzLjl2My40YS42NC42NCwwLDAsMS0uNjQuNjQuNjMuNjMsMCwwLDEtLjQzLS4xN2wtNS45NS01LjMzYS42My42MywwLDAsMSwwLS45bDAsMEwzMi44MywzOWEuNjQuNjQsMCwwLDEsMS4wNy40N1oiLz48L2c+PGcgaWQ9Ikdyb3VwLTItMiIgZGF0YS1uYW1lPSJHcm91cCI+PHBhdGggaWQ9IkNvbWJpbmVkLVNoYXBlLTMiIGRhdGEtbmFtZT0iQ29tYmluZWQtU2hhcGUiIGNsYXNzPSJjbHMtNCIgZD0iTTU4LjEsMzIuMTlINDcuNDR2My44N0g1OC4xdjMuMzlhLjY0LjY0LDAsMCwwLC42NC42NC42Mi42MiwwLDAsMCwuNDMtLjE2bDYtNS4zM2EuNjUuNjUsMCwwLDAsMC0uOTFsMCwwLTYtNS4zNGEuNjQuNjQsMCwwLDAtLjkuMDUuNjMuNjMsMCwwLDAtLjE3LjQzWiIvPjxwYXRoIGlkPSJDb21iaW5lZC1TaGFwZS00IiBkYXRhLW5hbWU9IkNvbWJpbmVkLVNoYXBlIiBjbGFzcz0iY2xzLTQiIGQ9Ik01OC4xLDQ4LjYySDQ3LjQ0djMuODdINTguMXYzLjRhLjY0LjY0LDAsMCwwLC42NC42NC42My42MywwLDAsMCwuNDMtLjE3bDYtNS4zM2EuNjMuNjMsMCwwLDAsMC0uOWwwLS4wNS02LTUuMzNhLjY0LjY0LDAsMCwwLTEuMDcuNDdaIi8+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5MCA5MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMyZTlmZmY7fS5jbHMtMntmaWxsOm5vbmU7c3Ryb2tlOiMwNTYyYjE7c3Ryb2tlLXdpZHRoOjJweDt9LmNscy0ze2ZpbGw6I2ZmZjt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmN0ZuaTjeS9nOWbvuaghzwvdGl0bGU+PGcgaWQ9IuWbvuWxgl82IiBkYXRhLW5hbWU9IuWbvuWxgiA2Ij48ZyBpZD0i5ouT5omR5aSn5Zu+Ij48ZyBpZD0i5aSn5Zu+Ij48ZyBpZD0i5Zu+56S6Ij48ZyBpZD0i5pyN5Yqh5ZmoIj48ZyBpZD0iUmVjdGFuZ2xlLTUiPjxyZWN0IGlkPSJwYXRoLTEiIGNsYXNzPSJjbHMtMSIgeD0iMjIiIHk9IjEzIiB3aWR0aD0iNDYiIGhlaWdodD0iNjYiIHJ4PSIyIiByeT0iMiIvPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMjMiIHk9IjE0IiB3aWR0aD0iNDQiIGhlaWdodD0iNjQiIHJ4PSIyIiByeT0iMiIvPjwvZz48cG9seWdvbiBpZD0iUmVjdGFuZ2xlLTE3IiBjbGFzcz0iY2xzLTMiIHBvaW50cz0iMjggMjMgNjIgMjMgNjIgMjcgNDIuMTcgMjcgMjggMjcgMjggMjMiLz48cmVjdCBpZD0iUmVjdGFuZ2xlLTE3LTIiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlLTE3IiBjbGFzcz0iY2xzLTMiIHg9IjI4IiB5PSIzMSIgd2lkdGg9IjM0IiBoZWlnaHQ9IjQiLz48cmVjdCBpZD0iUmVjdGFuZ2xlLTE3LTMiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlLTE3IiBjbGFzcz0iY2xzLTMiIHg9IjI4IiB5PSIzOSIgd2lkdGg9IjM0IiBoZWlnaHQ9IjQiLz48cGF0aCBpZD0iT3ZhbC0xMCIgY2xhc3M9ImNscy0zIiBkPSJNNDUsNjdhNCw0LDAsMSwwLTQtNEE0LDQsMCwwLDAsNDUsNjdaIi8+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4="},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"topology-panel"},[n("div",{staticClass:"topology-inner-wrapper",class:["edit"===e.mode?"inner-wrapper-border":""],style:{width:e.baseSize+"px",height:e.baseSize+"px"},on:{click:e.onPanelClick,drop:e.onPanelDrop,dragover:e.onPanelDragover}},["edit"===e.mode?n("div",{staticClass:"delete-block",class:["node"===e.currentDrag.type?"delete-block-border":""]},[n("img",{attrs:{src:e.delIcon}}),e._v("\n            拖至此处删除\n        ")]):e._e(),e._v(" "),e._l(e.nodeRenderList,function(t,i){return n("div",{staticClass:"node",class:{"node-hover-border":"edit"===e.mode,"node-click-active":"node"===e.currentSelected.type&&e.currentSelected.data.node.id===t.id},style:{left:t.points.x+"px",top:t.points.y+"px","background-image":"url("+t.pic+")"},attrs:{id:t.id},on:{mousedown:function(n){e.onNodeMousedown({node:t})},mouseup:function(n){e.onNodeMouseup({node:t})},mouseenter:function(n){e.onNodeMouseenter({node:t})},mouseout:function(n){e.onNodeMouseout({node:t})},click:function(n){n.stopPropagation(),e.onNodeClick({node:t})},dblclick:function(n){n.stopPropagation(),e.onNodeDbClick({node:t})}}},[e._t(t.id)],2)})],2)])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r}])},module.exports=e()}},[1226]);